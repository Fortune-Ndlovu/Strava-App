/*! For license information please see main.74706dd1.js.LICENSE.txt */
(()=>{var e={694:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:e=>{"use strict";e.exports=function(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,a){var o=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+s+" `"+l+"` was not specified in `"+o+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,o,s,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case E:return"Portal";case k:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ae=null,Ce=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function je(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Se(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var _e=!1;function Te(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ie(e,t,n)}finally{_e=!1,(null!==Ae||null!==Ce)&&(Ne(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Pe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ue=!1,Fe=null,Be={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Pe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,At,Ct,kt,jt=!1,St=[],It=null,Nt=null,_t=null,Tt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){jt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==_t&&Ut(_t)&&(_t=null),Tt.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==_t&&zt(_t,e),Tt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=Qt.transition;Qt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,Qt.transition=s}}function qt(e,t,n,r){var i=wt,s=Qt.transition;Qt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,Qt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return _t=Lt(_t,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tt.set(s,Lt(Tt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&xt(s),null===(s=Xt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function kn(){return Cn}var jn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(jn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),_n=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Tn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Pn,Mn=u&&(!Dn||Pn&&8<Pn&&11>=Pn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function Wn(e,t,n,r){je(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Ur(e,0)}function Xn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Te(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Ar={},Cr={};function kr(e){if(Ar[e])return Ar[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Ar[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var jr=kr("animationend"),Sr=kr("animationiteration"),Ir=kr("animationstart"),Nr=kr("transitionend"),_r=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){_r.set(e,t),l(t,[e])}for(var Or=0;Or<Tr.length;Or++){var Dr=Tr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(jr,"onAnimationEnd"),Rr(Sr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Te((function(){var r=s,i=xe(n),a=[];e:{var o=_r.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case jr:case Sr:case Ir:l=vn;break;case Nr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(v=qr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),$t=Zt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Re(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Ei=[],Ai=-1;function Ci(e){return{current:e}}function ki(e){0>Ai||(e.current=Ei[Ai],Ei[Ai]=null,Ai--)}function ji(e,t){Ai++,Ei[Ai]=e.current,e.current=t}var Si={},Ii=Ci(Si),Ni=Ci(!1),_i=Si;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ni),ki(Ii)}function Di(e,t,n){if(Ii.current!==Si)throw Error(s(168));ji(Ii,t),ji(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,Q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,_i=Ii.current,ji(Ii,e),ji(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Pi(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ii),ji(Ii,e)):ki(Ni),ji(Ni,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke($e,Vi),i}finally{wt=t,Bi=!1}}return null}var Qi=[],Hi=0,Wi=null,qi=0,Ki=[],Gi=0,Xi=null,Yi=1,Ji="";function Zi(e,t){Qi[Hi++]=qi,Qi[Hi++]=Wi,Wi=e,qi=t}function $i(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Wi;)Wi=Qi[--Hi],Qi[Hi]=null,qi=Qi[--Hi],Qi[Hi]=null;for(;e===Xi;)Xi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ci(null),ys=null,ws=null,bs=null;function xs(){bs=ws=ys=null}function Es(e){var t=vs.current;ki(vs),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var js=null;function Ss(e){null===js?js=[e]:js.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ss(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var _s=!1;function Ts(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ss(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ps(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;_s=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:_s=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ps(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ps(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rc(t,e,r,n),Ps(t,e,r))}};function Vs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Qs(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Ri(t)?_i:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fs,Ts(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Ri(t)?_i:Ii.current,i.context=Ti(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gs(e){return(0,e._init)(e._payload)}function Xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Gs(s)===t.type)?((r=i(t,n.props)).ref=qs(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=qs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=qs(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Ks(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Zi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Zi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,o,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===A&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===A){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Gs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=qs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===A?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=qs(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(P(a))return g(r,s,a,l);Ks(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Uc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ys=Xs(!0),Js=Xs(!1),Zs={},$s=Ci(Zs),ea=Ci(Zs),ta=Ci(Zs);function na(e){if(e===Zs)throw Error(s(174));return e}function ra(e,t){switch(ji(ta,t),ji(ea,e),ji($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($s),ji($s,t)}function ia(){ki($s),ki(ea),ki(ta)}function sa(e){na(ta.current);var t=na($s.current),n=le(t,e.type);t!==n&&(ji(ea,e),ji($s,n))}function aa(e){ea.current===e&&(ki($s),ki(ea))}var oa=Ci(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,wa=0,ba=0;function xa(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Aa(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,da.current=lo,e=n(r,i)}while(ya)}if(da.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Ca(){var e=0!==wa;return wa=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function ja(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Sa(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=ja(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,pa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=ja(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ta(e,t){var n=pa,r=ja(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Qa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(s(349));0!==(30&fa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&La(e)}function Da(e,t,n){return n((function(){Pa(t)&&La(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function La(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return ja().memoizedState}function Ba(e,t,n,r){var i=ka();pa.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=ja();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,s,r))}pa.flags|=e,i.memoizedState=Ua(1|t,n,s,r)}function Va(e,t){return Ba(8390656,8,e,t)}function Qa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,qa.bind(null,t,e),n)}function Ga(){}function Xa(e,t){var n=ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Za(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{wt=n,ha.transition=r}}function $a(){return ja().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Is(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ss(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Is(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:ks,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ao={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Ma,useDebugValue:Ga,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Za.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=ka();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===_l)throw Error(s(349));0!==(30&fa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=_l.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:ks,useCallback:Xa,useContext:ks,useEffect:Qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ia,useRef:Fa,useState:function(){return Ia(Sa)},useDebugValue:Ga,useDeferredValue:function(e){return Ja(ja(),ma.memoizedState,e)},useTransition:function(){return[Ia(Sa)[0],ja().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ta,useId:$a,unstable_isNewReconciler:!1},lo={readContext:ks,useCallback:Xa,useContext:ks,useEffect:Qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:Na,useRef:Fa,useState:function(){return Na(Sa)},useDebugValue:Ga,useDeferredValue:function(e){var t=ja();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Na(Sa)[0],ja().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ta,useId:$a,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),ho(0,t)},n}function mo(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?Js(t,null,n,r):Ys(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Cs(t,i),r=Aa(e,t,n,r,s,i),n=Ca(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ji(Dl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ji(Dl,Ol),Ol|=r;return xo(e,t,i,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,i){var s=Ri(n)?_i:Ii.current;return s=Ti(t,s),Cs(t,i),n=Aa(e,t,n,r,s,i),r=Ca(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Io(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Cs(t,i),null===t.stateNode)Ho(e,t),Qs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Ti(t,c=Ri(n)?_i:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Hs(t,a,r,c),_s=!1;var h=t.memoizedState;a.state=h,Ms(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ni.current||_s?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(o=_s||Vs(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Ti(t,l=Ri(n)?_i:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Hs(t,a,r,l),_s=!1,h=t.memoizedState,a.state=h,Ms(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||_s?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=_s||Vs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){jo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Wo(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ra(e,t.containerInfo)}function To(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xo(e,t,n,r),t.child}var Ro,Oo,Do,Po,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=_l)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Bo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ko(t),null;case 3:return r=t.stateNode,ia(),ki(Ni),ki(Ii),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Oo(e,t),Ko(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=na($s.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),$(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Po(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na($s.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(ki(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return ia(),Oo(e,t),null===e&&Vr(t.stateNode.containerInfo),Ko(t),null;case 10:return Es(t.type._context),Ko(t),null;case 19:if(ki(oa),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Ql&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Je()-a.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=oa.current,ji(oa,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),ki(Ni),ki(Ii),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(ki(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(oa),null;case 4:return ia(),null;case 10:return Es(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na($s.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Jo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Jo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,fl(e,t,n),Jo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||d,gl(t,e),Jo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,$o=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Yo;var c=Jo;if(Yo=a,(Jo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?Al(i):null!==l?(l.return=a,$o=l):Al(i);for(;null!==s;)$o=s,bl(s,t,n),s=s.sibling;$o=i,Yo=o,Jo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):xl(e)}}function xl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Us(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function El(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Al(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Cl,kl=Math.ceil,jl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,Nl=0,_l=null,Tl=null,Rl=0,Ol=0,Dl=Ci(0),Pl=0,Ll=null,Ml=0,Ul=0,Fl=0,Bl=null,zl=null,Vl=0,Ql=1/0,Hl=null,Wl=!1,ql=null,Kl=null,Gl=!1,Xl=null,Yl=0,Jl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Je():-1!==$l?$l:$l=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===_l||(e===_l&&(0===(2&Nl)&&(Ul|=n),4===Pl&&lc(e,Rl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Ql=Je()+500,Fi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===_l?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai((function(){0===(6&Nl)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var a=mc();for(_l===e&&Rl===t||(Hl=null,Ql=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}xs(),jl.current=a,Nl=i,null!==Tl?t=0:(_l=null,Rl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,zl,Hl),t);break}Ec(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,zl,Hl),r);break}Ec(e,zl,Hl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Ac();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Hl),ic(e,Je()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Ql=Je()+500,Fi&&Vi())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Nl)&&Ac();var t=Nl;Nl|=1;var n=Il.transition,r=wt;try{if(Il.transition=null,wt=1,e)return e()}finally{wt=r,Il.transition=n,0===(6&(Nl=t))&&Vi()}}function hc(){Ol=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:ia(),ki(Ni),ki(Ii),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:ki(oa);break;case 10:Es(r.type._context);break;case 22:case 23:hc()}n=n.return}if(_l=e,Tl=e=Dc(e.current,null),Rl=Ol=t,Pl=0,Ll=null,Fl=Ul=Ml=0,zl=Bl=null,null!==js){for(t=0;t<js.length;t++)if(null!==(r=(n=js[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}js=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(xs(),da.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,wa=0,Sl.current=null,null===n||null===n.return){Pl=1,Ll=t,Tl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Pl&&(Pl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function mc(){var e=jl.current;return jl.current=so,null===e?so:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===_l||0===(268435455&Ml)&&0===(268435455&Ul)||lc(_l,Rl)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(_l===e&&Rl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(xs(),Nl=n,jl.current=r,null!==Tl)throw Error(s(261));return _l=null,Rl=0,Pl}function yc(){for(;null!==Tl;)bc(Tl)}function wc(){for(;null!==Tl&&!Xe();)bc(Tl)}function bc(e){var t=Cl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Ol)))return void(Tl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Pl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Pl&&(Pl=5)}function Ec(e,t,n){var r=wt,i=Il.transition;try{Il.transition=null,wt=1,function(e,t,n,r){do{Ac()}while(null!==Xl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===_l&&(Tl=_l=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,_c(tt,(function(){return Ac(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var o=wt;wt=1;var l=Nl;Nl|=4,Sl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Ye(),Nl=l,wt=o,Il.transition=a}else e.current=n;if(Gl&&(Gl=!1,Xl=e,Yl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Ac(),a=e.pendingLanes,0!==(1&a)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Vi()}(e,t,n,r)}finally{Il.transition=i,wt=r}return null}function Ac(){if(null!==Xl){var e=bt(Yl),t=Il.transition,n=wt;try{if(Il.transition=null,wt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(al(d),d===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var w=e.current;for($o=w;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=w;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===o){$o=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$o=x;break e}$o=l.return}}if(Nl=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,Il.transition=t}}return!1}function Cc(e,t,n){e=Ds(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ds(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Rl&n)===n&&(4===Pl||3===Pl&&(130023424&Rl)===Rl&&500>Je()-Vl?fc(e,0):Fl|=n),ic(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function _c(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Tc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case A:return Lc(n.children,i,a,t);case C:o=8,i|=8;break;case k:return(e=Rc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=a,e;case _:return(e=Rc(19,n,t,i)).elementType=_,e.lanes=a,e;case O:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:o=10;break e;case S:o=9;break e;case I:o=11;break e;case T:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ts(s),e}function Vc(e){if(!e)return Si;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Pi(e,n,t)}return t}function Qc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Os(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,a))&&(rc(e,i,a,s),Ps(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:_o(t),fs();break;case 5:sa(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(ji(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);ji(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ti(t,Ii.current);Cs(t,n),i=Aa(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ts(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===T)return 14}return 2}(r),e=gs(r,e),i){case 0:t=So(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=Ao(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(_o(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Rs(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=To(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=To(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),jo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Uo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ji(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Os(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),As(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),As(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cs(t,n),r=r(i=ks(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ao(e,t,r,i=gs(r.type,i),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ho(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Cs(t,n),Qs(t,r,i),Ws(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Qo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=Qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Nl)&&(Ql=Je()+500,Vi()))}break;case 13:dc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},At=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Ct=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,xi,je,Se,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,A={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:A.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+I(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(j),j=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,C=!1,k=null,j=-1,S=5,I=-1;function N(){return!(t.unstable_now()-I<S)}function _(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?A():(C=!1,k=null)}}else C=!1}if("function"===typeof w)A=function(){w(_)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=_,A=function(){R.postMessage(null)}}else A=function(){v(_,0)};function O(e){k=e,C||(C=!0,A())}function D(e,n){j=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(j),j=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},391:e=>{"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/strava-app/",(()=>{"use strict";var e,t=n(791),r=n.t(t,2),i=n(250),s=n(164),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(oS){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=h(b.location,t,n);r&&r(i,t),g=v()+1;let o=d(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let i=h(b.location,t,n);r&&r(i,t),g=v();let s=d(i,g),o=b.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=T(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=I(i[a],_(r));return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=P([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:\w+$/,x=3,E=2,A=1,C=10,k=-2,j=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=k),t&&(r+=E),n.filter((e=>!j(e))).reduce(((e,t)=>e+(b.test(t)?x:""===t?A:C)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:P([i,c.pathname]),pathnameBase:L(P([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=P([i,c.pathnameBase]))}return s}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function _(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:U(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const P=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],z=(new Set(B),["get",...B]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const Q=t.createContext(null);const H=t.createContext(null);const W=t.createContext(null);const q=t.createContext(null);const K=t.createContext({outlet:null,matches:[],isDataRoute:!1});const G=t.createContext(null);function X(){return null!=t.useContext(q)}function Y(){return X()||c(!1),t.useContext(q).location}function J(e){t.useContext(W).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=ce(oe.UseNavigateStable),n=de(le.UseNavigateStable),r=t.useRef(!1);J((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))}),[e,n]);return i}():function(){X()||c(!1);let e=t.useContext(Q),{basename:n,navigator:r}=t.useContext(W),{matches:i}=t.useContext(K),{pathname:s}=Y(),a=JSON.stringify(O(i).map((e=>e.pathnameBase))),o=t.useRef(!1);J((()=>{o.current=!0}));let l=t.useCallback((function(t,i){if(void 0===i&&(i={}),!o.current)return;if("number"===typeof t)return void r.go(t);let l=D(t,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:P([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,a,s,e]);return l}()}function $(){let{matches:e}=t.useContext(K),n=e[e.length-1];return n?n.params:{}}function ee(e,n){let{relative:r}=void 0===n?{}:n,{matches:i}=t.useContext(K),{pathname:s}=Y(),a=JSON.stringify(O(i).map((e=>e.pathnameBase)));return t.useMemo((()=>D(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function te(n,r,i){X()||c(!1);let{navigator:s}=t.useContext(W),{matches:a}=t.useContext(K),o=a[a.length-1],l=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,h=Y();if(r){var f;let e="string"===typeof r?p(r):r;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),d=e}else d=h;let m=d.pathname||"/",g=v(n,{pathname:"/"===u?m:m.slice(u.length)||"/"});let y=ae(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:P([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i);return r&&y?t.createElement(q.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},y):y}function ne(){let e=function(){var e;let n=t.useContext(G),r=ue(le.UseRouteError),i=de(le.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const re=t.createElement(ne,null);class ie extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(Q);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(K.Provider,{value:n},i)}function ae(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,o=null==(i=r)?void 0:i.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,i,s)=>{let l=i.route.id?null==o?void 0:o[i.route.id]:null,c=null;r&&(c=i.route.errorElement||re);let u=n.concat(a.slice(0,s+1)),d=()=>{let n;return n=l?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(se,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(ie,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let n=t.useContext(Q);return n||c(!1),n}function ue(e){let n=t.useContext(H);return n||c(!1),n}function de(e){let n=function(e){let n=t.useContext(K);return n||c(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}r.startTransition;function he(e){c(!1)}function fe(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1}=n;X()&&c(!1);let u=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:u,navigator:o,static:l})),[u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:v="default"}=s,y=t.useMemo((()=>{let e=T(h,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:v},navigationType:a}}),[u,h,f,m,g,v,a]);return null==y?null:t.createElement(W.Provider,{value:d},t.createElement(q.Provider,{children:i,value:y}))}function pe(e){let{children:t,location:n}=e;return te(me(t),n)}new Promise((()=>{}));t.Component;function me(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,me(e.props.children,s));e.type!==he&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=me(e.props.children,s)),r.push(a)})),r}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const we=r.startTransition;a.flushSync;function be(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,e)}({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=t.useCallback((e=>{u&&we?we((()=>c(e))):c(e)}),[c,u]);return t.useLayoutEffect((()=>o.listen(d)),[o,d]),t.createElement(fe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,m=ve(e,ye),{basename:g}=t.useContext(W),v=!1;if("string"===typeof d&&Ee.test(d)&&(r=d,xe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=T(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(oS){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;X()||c(!1);let{basename:i,navigator:s}=t.useContext(W),{hash:a,pathname:o,search:l}=ee(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:P([i,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),w=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=Z(),u=Y(),d=ee(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,d,i,s,r,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,unstable_viewTransition:p});return t.createElement("a",ge({},m,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:u}))}));var Ce,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));const je=JSON.parse('{"strava":{"clientID":"113235","clientSecret":"4069d12e70c672a834bf7161d0652abd413c92d6","refreshToken":"a93df7afd0f962f71ed0ec01948c9ece96ff1a72"}}');var Se=n(694),Ie=n.n(Se),Ne=n(184);const _e=["xxl","xl","lg","md","sm","xs"],Te="xs",Re=t.createContext({prefixes:{},breakpoints:_e,minBreakpoint:Te}),{Consumer:Oe,Provider:De}=Re;function Pe(e,n){const{prefixes:r}=(0,t.useContext)(Re);return e||r[n]||n}function Le(){const{breakpoints:e}=(0,t.useContext)(Re);return e}function Me(){const{minBreakpoint:e}=(0,t.useContext)(Re);return e}function Ue(){const{dir:e}=(0,t.useContext)(Re);return"rtl"===e}const Fe=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s,...a}=e;const o=Pe(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,Ne.jsx)(i,{ref:t,...a,className:Ie()(s,r?"".concat(o).concat(l):o)})}));Fe.displayName="Container";const Be=Fe,ze=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...s}=e;const a=Pe(n,"row"),o=Le(),l=Me(),c="".concat(a,"-cols"),u=[];return o.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(r,"-").concat(n))})),(0,Ne.jsx)(i,{ref:t,...s,className:Ie()(r,a,...u)})}));ze.displayName="Row";const Ve=ze;const Qe=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=Pe(n,"col");const s=Le(),a=Me(),o=[],l=[];return s.forEach((e=>{const t=i[e];let r,s,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:c}=t):r=t;const u=e!==a?"-".concat(e):"";r&&o.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=s&&l.push("offset".concat(u,"-").concat(s))})),[{...i,className:Ie()(r,...o,...l)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,Ne.jsx)(i,{...r,ref:t,className:Ie()(n,!a.length&&s)})}));Qe.displayName="Col";const He=Qe,We=["as","disabled"];function qe(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:a,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const Ke=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,We);const[s,{tagName:a}]=qe(Object.assign({tagName:n,disabled:r},i));return(0,Ne.jsx)(a,Object.assign({},i,s,{ref:t}))}));Ke.displayName="Button";const Ge=Ke,Xe=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:a=!1,disabled:o=!1,className:l,...c}=e;const u=Pe(r,"btn"),[d,{tagName:h}]=qe({tagName:n,disabled:o,...c}),f=h;return(0,Ne.jsx)(f,{...d,...c,ref:t,disabled:o,className:Ie()(l,u,a&&"active",i&&"".concat(u,"-").concat(i),s&&"".concat(u,"-").concat(s),c.href&&o&&"disabled")})}));Xe.displayName="Button";const Ye=Xe;var Je=/-(.)/g;const Ze=e=>{return e[0].toUpperCase()+(t=e,t.replace(Je,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function $e(e){let{displayName:n=Ze(e),Component:r,defaultProps:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=t.forwardRef(((t,n)=>{let{className:s,bsPrefix:a,as:o=r||"div",...l}=t;const c={...i,...l},u=Pe(a,e);return(0,Ne.jsx)(o,{ref:n,className:Ie()(s,u),...c})}));return s.displayName=n,s}const et=e=>t.forwardRef(((t,n)=>(0,Ne.jsx)("div",{...t,ref:n,className:Ie()(t.className,e)}))),tt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:s="img",...a}=e;const o=Pe(n,"card-img");return(0,Ne.jsx)(s,{ref:t,className:Ie()(i?"".concat(o,"-").concat(i):o,r),...a})}));tt.displayName="CardImg";const nt=tt,rt=t.createContext(null);rt.displayName="CardHeaderContext";const it=rt,st=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:s="div",...a}=e;const o=Pe(r,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,Ne.jsx)(it.Provider,{value:l,children:(0,Ne.jsx)(s,{ref:n,...a,className:Ie()(i,o)})})}));st.displayName="CardHeader";const at=st,ot=et("h5"),lt=et("h6"),ct=$e("card-body"),ut=$e("card-title",{Component:ot}),dt=$e("card-subtitle",{Component:lt}),ht=$e("card-link",{Component:"a"}),ft=$e("card-text",{Component:"p"}),pt=$e("card-footer"),mt=$e("card-img-overlay"),gt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:a,body:o=!1,children:l,as:c="div",...u}=e;const d=Pe(n,"card");return(0,Ne.jsx)(c,{ref:t,...u,className:Ie()(r,d,i&&"bg-".concat(i),s&&"text-".concat(s),a&&"border-".concat(a)),children:o?(0,Ne.jsx)(ct,{children:l}):l})}));gt.displayName="Card";const vt=Object.assign(gt,{Img:nt,Title:ut,Subtitle:dt,Body:ct,Link:ht,Text:ft,Header:at,Footer:pt,ImgOverlay:mt});var yt=Function.prototype.bind.call(Function.prototype.call,[].slice);function wt(e,t){return yt(e.querySelectorAll(t))}const bt=!("undefined"===typeof window||!window.document||!window.document.createElement);var xt=!1,Et=!1;try{var At={get passive(){return xt=!0},get once(){return Et=xt=!0}};bt&&(window.addEventListener("test",At,At),window.removeEventListener("test",At,!0))}catch(oS){}const Ct=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Et){var i=r.once,s=r.capture,a=n;!Et&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=a),e.addEventListener(t,a,xt?r:s)}e.addEventListener(t,n,r)};function kt(e,n,r){const i=(0,t.useRef)(void 0!==e),[s,a]=(0,t.useState)(n),o=void 0!==e,l=i.current;return i.current=o,!o&&l&&s!==n&&a(n),[o?e:s,(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i,...s]=t;let o=null==r?void 0:r(i,...s);return a(i),o}),[r])]}function jt(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}function St(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}const It=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Nt(e){const n=It(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const _t=t.createContext(null);function Tt(){return(0,t.useState)(null)}var Rt=Object.prototype.hasOwnProperty;function Ot(e,t,n){for(n of e.keys())if(Dt(n,t))return n}function Dt(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Dt(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=Ot(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=Ot(t,i)))return!1;if(!Dt(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Rt.call(e,n)&&++r&&!Rt.call(t,n))return!1;if(!(n in t)||!Dt(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}function Pt(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}const Lt=function(e){const n=Pt();return[e[0],(0,t.useCallback)((t=>{if(n())return e[1](t)}),[n,e[1]])]};function Mt(e){return e.split("-")[0]}function Ut(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ft(e){return e instanceof Ut(e).Element||e instanceof Element}function Bt(e){return e instanceof Ut(e).HTMLElement||e instanceof HTMLElement}function zt(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Ut(e).ShadowRoot||e instanceof ShadowRoot)}var Vt=Math.max,Qt=Math.min,Ht=Math.round;function Wt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function qt(){return!/^((?!chrome|android).)*safari/i.test(Wt())}function Kt(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Bt(e)&&(i=e.offsetWidth>0&&Ht(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ht(r.height)/e.offsetHeight||1);var a=(Ft(e)?Ut(e):window).visualViewport,o=!qt()&&n,l=(r.left+(o&&a?a.offsetLeft:0))/i,c=(r.top+(o&&a?a.offsetTop:0))/s,u=r.width/i,d=r.height/s;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Gt(e){var t=Kt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&zt(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yt(e){return e?(e.nodeName||"").toLowerCase():null}function Jt(e){return Ut(e).getComputedStyle(e)}function Zt(e){return["table","td","th"].indexOf(Yt(e))>=0}function $t(e){return((Ft(e)?e.ownerDocument:e.document)||window.document).documentElement}function en(e){return"html"===Yt(e)?e:e.assignedSlot||e.parentNode||(zt(e)?e.host:null)||$t(e)}function tn(e){return Bt(e)&&"fixed"!==Jt(e).position?e.offsetParent:null}function nn(e){for(var t=Ut(e),n=tn(e);n&&Zt(n)&&"static"===Jt(n).position;)n=tn(n);return n&&("html"===Yt(n)||"body"===Yt(n)&&"static"===Jt(n).position)?t:n||function(e){var t=/firefox/i.test(Wt());if(/Trident/i.test(Wt())&&Bt(e)&&"fixed"===Jt(e).position)return null;var n=en(e);for(zt(n)&&(n=n.host);Bt(n)&&["html","body"].indexOf(Yt(n))<0;){var r=Jt(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function rn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sn(e,t,n){return Vt(e,Qt(t,n))}function an(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function on(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var ln="top",cn="bottom",un="right",dn="left",hn="auto",fn=[ln,cn,un,dn],pn="start",mn="end",gn="clippingParents",vn="viewport",yn="popper",wn="reference",bn=fn.reduce((function(e,t){return e.concat([t+"-"+pn,t+"-"+mn])}),[]),xn=[].concat(fn,[hn]).reduce((function(e,t){return e.concat([t,t+"-"+pn,t+"-"+mn])}),[]),En=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const An={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=Mt(n.placement),l=rn(o),c=[dn,un].indexOf(o)>=0?"height":"width";if(s&&a){var u=function(e,t){return an("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:on(e,fn))}(i.padding,n),d=Gt(s),h="y"===l?ln:dn,f="y"===l?cn:un,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=nn(s),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,w=u[h],b=v-d[c]-u[f],x=v/2-d[c]/2+y,E=sn(w,x,b),A=l;n.modifiersData[r]=((t={})[A]=E,t.centerOffset=E-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cn(e){return e.split("-")[1]}var kn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jn(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,f=void 0===h?0:h,p=a.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),w=dn,b=ln,x=window;if(c){var E=nn(n),A="clientHeight",C="clientWidth";if(E===Ut(n)&&"static"!==Jt(E=$t(n)).position&&"absolute"===o&&(A="scrollHeight",C="scrollWidth"),i===ln||(i===dn||i===un)&&s===mn)b=cn,m-=(d&&E===x&&x.visualViewport?x.visualViewport.height:E[A])-r.height,m*=l?1:-1;if(i===dn||(i===ln||i===cn)&&s===mn)w=un,f-=(d&&E===x&&x.visualViewport?x.visualViewport.width:E[C])-r.width,f*=l?1:-1}var k,j=Object.assign({position:o},c&&kn),S=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ht(n*i)/i||0,y:Ht(r*i)/i||0}}({x:f,y:m},Ut(n)):{x:f,y:m};return f=S.x,m=S.y,l?Object.assign({},j,((k={})[b]=y?"0":"",k[w]=v?"0":"",k.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},j,((t={})[b]=y?m+"px":"",t[w]=v?f+"px":"",t.transform="",t))}const Sn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,a=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,c={placement:Mt(t.placement),variation:Cn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,jn(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,jn(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var In={passive:!0};const Nn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,a=r.resize,o=void 0===a||a,l=Ut(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,In)})),o&&l.addEventListener("resize",n.update,In),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,In)})),o&&l.removeEventListener("resize",n.update,In)}},data:{}};var _n={left:"right",right:"left",bottom:"top",top:"bottom"};function Tn(e){return e.replace(/left|right|bottom|top/g,(function(e){return _n[e]}))}var Rn={start:"end",end:"start"};function On(e){return e.replace(/start|end/g,(function(e){return Rn[e]}))}function Dn(e){var t=Ut(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Pn(e){return Kt($t(e)).left+Dn(e).scrollLeft}function Ln(e){var t=Jt(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Mn(e){return["html","body","#document"].indexOf(Yt(e))>=0?e.ownerDocument.body:Bt(e)&&Ln(e)?e:Mn(en(e))}function Un(e,t){var n;void 0===t&&(t=[]);var r=Mn(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=Ut(r),a=i?[s].concat(s.visualViewport||[],Ln(r)?r:[]):r,o=t.concat(a);return i?o:o.concat(Un(en(a)))}function Fn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Bn(e,t,n){return t===vn?Fn(function(e,t){var n=Ut(e),r=$t(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=qt();(c||!c&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+Pn(e),y:l}}(e,n)):Ft(t)?function(e,t){var n=Kt(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Fn(function(e){var t,n=$t(e),r=Dn(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=Vt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Vt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+Pn(e),l=-r.scrollTop;return"rtl"===Jt(i||n).direction&&(o+=Vt(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}($t(e)))}function zn(e,t,n,r){var i="clippingParents"===t?function(e){var t=Un(en(e)),n=["absolute","fixed"].indexOf(Jt(e).position)>=0&&Bt(e)?nn(e):e;return Ft(n)?t.filter((function(e){return Ft(e)&&Xt(e,n)&&"body"!==Yt(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),a=s[0],o=s.reduce((function(t,n){var i=Bn(e,n,r);return t.top=Vt(i.top,t.top),t.right=Qt(i.right,t.right),t.bottom=Qt(i.bottom,t.bottom),t.left=Vt(i.left,t.left),t}),Bn(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Vn(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?Mt(i):null,a=i?Cn(i):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case ln:t={x:o,y:n.y-r.height};break;case cn:t={x:o,y:n.y+n.height};break;case un:t={x:n.x+n.width,y:l};break;case dn:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?rn(s):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case pn:t[c]=t[c]-(n[u]/2-r[u]/2);break;case mn:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Qn(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,a=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?gn:o,c=n.rootBoundary,u=void 0===c?vn:c,d=n.elementContext,h=void 0===d?yn:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=an("number"!==typeof g?g:on(g,fn)),y=h===yn?wn:yn,w=e.rects.popper,b=e.elements[p?y:h],x=zn(Ft(b)?b:b.contextElement||$t(e.elements.popper),l,u,a),E=Kt(e.elements.reference),A=Vn({reference:E,element:w,strategy:"absolute",placement:i}),C=Fn(Object.assign({},w,A)),k=h===yn?C:E,j={top:x.top-k.top+v.top,bottom:k.bottom-x.bottom+v.bottom,left:x.left-k.left+v.left,right:k.right-x.right+v.right},S=e.modifiersData.offset;if(h===yn&&S){var I=S[i];Object.keys(j).forEach((function(e){var t=[un,cn].indexOf(e)>=0?1:-1,n=[ln,cn].indexOf(e)>=0?"y":"x";j[e]+=I[n]*t}))}return j}const Hn={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,a=n.altAxis,o=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=Mt(g),y=l||(v===g||!p?[Tn(g)]:function(e){if(Mt(e)===hn)return[];var t=Tn(e);return[On(e),t,On(t)]}(g)),w=[g].concat(y).reduce((function(e,n){return e.concat(Mt(n)===hn?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?xn:l,u=Cn(r),d=u?o?bn:bn.filter((function(e){return Cn(e)===u})):fn,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=Qn(e,{placement:n,boundary:i,rootBoundary:s,padding:a})[Mt(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,x=t.rects.popper,E=new Map,A=!0,C=w[0],k=0;k<w.length;k++){var j=w[k],S=Mt(j),I=Cn(j)===pn,N=[ln,cn].indexOf(S)>=0,_=N?"width":"height",T=Qn(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),R=N?I?un:dn:I?cn:ln;b[_]>x[_]&&(R=Tn(R));var O=Tn(R),D=[];if(s&&D.push(T[S]<=0),o&&D.push(T[R]<=0,T[O]<=0),D.every((function(e){return e}))){C=j,A=!1;break}E.set(j,D)}if(A)for(var P=function(e){var t=w.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},L=p?3:1;L>0;L--){if("break"===P(L))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Wn(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qn(e){return[ln,un,cn,dn].some((function(t){return e[t]>=0}))}const Kn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,a=xn.reduce((function(e,n){return e[n]=function(e,t,n){var r=Mt(e),i=[dn,ln].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[dn,un].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}(n,t.rects,s),e}),{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};const Gn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,a=n.altAxis,o=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=Qn(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Mt(t.placement),y=Cn(t.placement),w=!y,b=rn(v),x="x"===b?"y":"x",E=t.modifiersData.popperOffsets,A=t.rects.reference,C=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,j="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(E){if(s){var N,_="y"===b?ln:dn,T="y"===b?cn:un,R="y"===b?"height":"width",O=E[b],D=O+g[_],P=O-g[T],L=f?-C[R]/2:0,M=y===pn?A[R]:C[R],U=y===pn?-C[R]:-A[R],F=t.elements.arrow,B=f&&F?Gt(F):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=z[_],Q=z[T],H=sn(0,A[R],B[R]),W=w?A[R]/2-L-H-V-j.mainAxis:M-H-V-j.mainAxis,q=w?-A[R]/2+L+H+Q+j.mainAxis:U+H+Q+j.mainAxis,K=t.elements.arrow&&nn(t.elements.arrow),G=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,X=null!=(N=null==S?void 0:S[b])?N:0,Y=O+q-X,J=sn(f?Qt(D,O+W-X-G):D,O,f?Vt(P,Y):P);E[b]=J,I[b]=J-O}if(o){var Z,$="x"===b?ln:dn,ee="x"===b?cn:un,te=E[x],ne="y"===x?"height":"width",re=te+g[$],ie=te-g[ee],se=-1!==[ln,dn].indexOf(v),ae=null!=(Z=null==S?void 0:S[x])?Z:0,oe=se?re:te-A[ne]-C[ne]-ae+j.altAxis,le=se?te+A[ne]+C[ne]-ae-j.altAxis:ie,ce=f&&se?function(e,t,n){var r=sn(e,t,n);return r>n?n:r}(oe,te,le):sn(f?oe:re,te,f?le:ie);E[x]=ce,I[x]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};function Xn(e,t,n){void 0===n&&(n=!1);var r=Bt(t),i=Bt(t)&&function(e){var t=e.getBoundingClientRect(),n=Ht(t.width)/e.offsetWidth||1,r=Ht(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=$t(t),a=Kt(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Yt(t)||Ln(s))&&(o=function(e){return e!==Ut(e)&&Bt(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Dn(e);var t}(t)),Bt(t)?((l=Kt(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Pn(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Yn(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Jn(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Zn={placement:"bottom",modifiers:[],strategy:"absolute"};function $n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function er(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?Zn:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zn,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],o=!1,l={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},s,i.options,o),i.scrollParents={reference:Ft(e)?Un(e):e.contextElement?Un(e.contextElement):[],popper:Un(t)};var u=function(e){var t=Yn(e);return En.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var o=s({state:i,name:t,instance:l,options:r}),c=function(){};a.push(o||c)}})),l.update()},forceUpdate:function(){if(!o){var e=i.elements,t=e.reference,n=e.popper;if($n(t,n)){i.rects={reference:Xn(t,nn(n),"fixed"===i.options.strategy),popper:Gt(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],a=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:Jn((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),o=!0}};if(!$n(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const tr=er({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Qn(t,{elementContext:"reference"}),o=Qn(t,{altBoundary:!0}),l=Wn(a,r),c=Wn(o,i,s),u=qn(l),d=qn(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Vn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Sn,Nn,Kn,Hn,Gn,An]}),nr=["enabled","placement","strategy","modifiers"];const rr={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ir={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,s=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?"".concat(e,",").concat(r.id):r.id)}}},sr=[];const ar=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:i=!0,placement:s="bottom",strategy:a="absolute",modifiers:o=sr}=r,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,nr);const c=(0,t.useRef)(o),u=(0,t.useRef)(),d=(0,t.useCallback)((()=>{var e;null==(e=u.current)||e.update()}),[]),h=(0,t.useCallback)((()=>{var e;null==(e=u.current)||e.forceUpdate()}),[]),[f,p]=Lt((0,t.useState)({placement:s,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,t.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),p({state:t,styles:n,attributes:r,update:d,forceUpdate:h,placement:t.placement})}})),[d,h,p]),g=(0,t.useMemo)((()=>(Dt(c.current,o)||(c.current=o),c.current)),[o]);return(0,t.useEffect)((()=>{u.current&&i&&u.current.setOptions({placement:s,strategy:a,modifiers:[...g,m,rr]})}),[a,s,m,i,g]),(0,t.useEffect)((()=>{if(i&&null!=e&&null!=n)return u.current=tr(e,n,Object.assign({},l,{placement:s,strategy:a,modifiers:[...g,ir,m]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[i,e,n]),f};function or(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const lr=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const cr=function(e,t,n,r){return Ct(e,t,n,r),function(){lr(e,t,n,r)}};function ur(e){return e&&e.ownerDocument||document}var dr=n(391),hr=n.n(dr);const fr=()=>{};const pr=e=>e&&("current"in e?e.current:e),mr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const gr=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr,{disabled:r,clickTrigger:i="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,t.useRef)(!1),a=(0,t.useRef)(!1),o=(0,t.useCallback)((t=>{const n=pr(e);var r;hr()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!or(n,t.target)||a.current,a.current=!1}),[e]),l=Nt((t=>{const n=pr(e);n&&or(n,t.target)&&(a.current=!0)})),c=Nt((e=>{s.current||n(e)}));(0,t.useEffect)((()=>{var t,n;if(r||null==e)return;const s=ur(pr(e)),a=s.defaultView||window;let u=null!=(t=a.event)?t:null==(n=a.parent)?void 0:n.event,d=null;mr[i]&&(d=cr(s,mr[i],l,!0));const h=cr(s,i,o,!0),f=cr(s,i,(e=>{e!==u?c(e):u=void 0}));let p=[];return"ontouchstart"in s.documentElement&&(p=[].slice.call(s.body.children).map((e=>cr(e,"mousemove",fr)))),()=>{null==d||d(),h(),f(),p.forEach((e=>e()))}}),[e,r,i,o,l,c])};function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function yr(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:s,fixed:a,containerPadding:o,arrowElement:l,popperConfig:c={}}=e;var u,d,h,f,p;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:a?"fixed":c.strategy,modifiers:vr(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:o?Object.assign({padding:o},null==(d=m.preventOverflow)?void 0:d.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:s},null==(f=m.offset)?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!l,options:Object.assign({},null==(p=m.arrow)?void 0:p.options,{element:l})}),flip:Object.assign({enabled:!!i},m.flip)}))})}const wr=["children"];const br=()=>{};function xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(_t),[r,i]=Tt(),s=(0,t.useRef)(!1),{flip:a,offset:o,rootCloseEvent:l,fixed:c=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:f=!!n}=e,p=null==(null==n?void 0:n.show)?!!e.show:n.show;p&&!s.current&&(s.current=!0);const{placement:m,setMenu:g,menuElement:v,toggleElement:y}=n||{},w=ar(y,v,yr({placement:u||m||"bottom-start",enabled:f,enableEvents:null==h?p:h,offset:o,flip:a,fixed:c,arrowElement:r,popperConfig:d})),b=Object.assign({ref:g||br,"aria-labelledby":null==y?void 0:y.id},w.attributes.popper,{style:w.styles.popper}),x={show:p,placement:m,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:i},w.attributes.arrow,{style:w.styles.arrow}):{}};return gr(v,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!p}),[b,x]}function Er(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,wr);const[r,i]=xr(n);return(0,Ne.jsx)(Ne.Fragment,{children:t(r,i)})}Er.displayName="DropdownMenu",Er.defaultProps={usePopper:!0};const Ar=Er,Cr={prefix:String(Math.round(1e10*Math.random())),current:0,isSSR:!1},kr=t.createContext(Cr);let jr=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Sr=new WeakMap;function Ir(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(kr),r=(0,t.useRef)(null);if(null===r.current&&!e){var i,s;let e=null===(i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(s=i.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let t=Sr.get(e);null==t?Sr.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,Sr.delete(e))}r.current=++n.current}return r.current}const Nr="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)(function(){if("function"===typeof t.useSyncExternalStore)return t.useSyncExternalStore(Rr,_r,Tr);return(0,t.useContext)(kr).isSSR}()),i=r?"react-aria":"react-aria".concat(Cr.prefix);return e||"".concat(i,"-").concat(n)}:function(e){let n=(0,t.useContext)(kr);n!==Cr||jr||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=Ir(!!e);return e||"react-aria".concat(n.prefix,"-").concat(r)};function _r(){return!1}function Tr(){return!0}function Rr(e){return()=>{}}const Or=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Dr=()=>{};function Pr(){const e=Nr(),{show:n=!1,toggle:r=Dr,setToggle:i,menuElement:s}=(0,t.useContext)(_t)||{},a=(0,t.useCallback)((e=>{r(!n,e)}),[n,r]),o={id:e,ref:i||Dr,onClick:a,"aria-expanded":!!n};return s&&Or(s)&&(o["aria-haspopup"]=!0),[o,{show:n,toggle:r}]}function Lr(e){let{children:t}=e;const[n,r]=Pr();return(0,Ne.jsx)(Ne.Fragment,{children:t(n,r)})}Lr.displayName="DropdownToggle";const Mr=Lr,Ur=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Fr=t.createContext(null),Br=t.createContext(null);Br.displayName="NavContext";const zr=Br,Vr="data-rr-ui-";function Qr(e){return"".concat(Vr).concat(e)}const Hr=["eventKey","disabled","onClick","active","as"];function Wr(e){let{key:n,href:r,active:i,disabled:s,onClick:a}=e;const o=(0,t.useContext)(Fr),l=(0,t.useContext)(zr),{activeKey:c}=l||{},u=Ur(n,r),d=null==i&&null!=n?Ur(c)===u:i;return[{onClick:Nt((e=>{s||(null==a||a(e),o&&!e.isPropagationStopped()&&o(u,e))})),"aria-disabled":s||void 0,"aria-selected":d,[Qr("dropdown-item")]:""},{isActive:d}]}const qr=t.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:a=Ge}=e,o=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Hr);const[l]=Wr({key:n,href:o.href,disabled:r,onClick:i,active:s});return(0,Ne.jsx)(a,Object.assign({},o,{ref:t},l))}));qr.displayName="DropdownItem";const Kr=qr,Gr=(0,t.createContext)(bt?window:void 0);Gr.Provider;function Xr(){return(0,t.useContext)(Gr)}function Yr(){const e=St(),n=(0,t.useRef)(null),r=(0,t.useCallback)((t=>{n.current=t,e()}),[e]);return[n,r]}function Jr(e){let{defaultShow:n,show:r,onSelect:i,onToggle:s,itemSelector:a="* [".concat(Qr("dropdown-item"),"]"),focusFirstItemOnShow:o,placement:l="bottom-start",children:c}=e;const u=Xr(),[d,h]=kt(r,n,s),[f,p]=Yr(),m=f.current,[g,v]=Yr(),y=g.current,w=jt(d),b=(0,t.useRef)(null),x=(0,t.useRef)(!1),E=(0,t.useContext)(Fr),A=(0,t.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),C=Nt(((e,t)=>{null==i||i(e,t),A(!1,t,"select"),t.isPropagationStopped()||null==E||E(e,t)})),k=(0,t.useMemo)((()=>({toggle:A,placement:l,show:d,menuElement:m,toggleElement:y,setMenu:p,setToggle:v})),[A,l,d,m,y,p,v]);m&&w&&!d&&(x.current=m.contains(m.ownerDocument.activeElement));const j=Nt((()=>{y&&y.focus&&y.focus()})),S=Nt((()=>{const e=b.current;let t=o;if(null==t&&(t=!(!f.current||!Or(f.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=wt(f.current,a)[0];n&&n.focus&&n.focus()}));(0,t.useEffect)((()=>{d?S():x.current&&(x.current=!1,j())}),[d,x,j,S]),(0,t.useEffect)((()=>{b.current=null}));const I=(e,t)=>{if(!f.current)return null;const n=wt(f.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=Nt(r);(0,t.useEffect)((()=>{const t="function"===typeof e?e():e;return t.addEventListener(n,s,i),()=>t.removeEventListener(n,s,i)}),[e])}((0,t.useCallback)((()=>u.document),[u]),"keydown",(e=>{var t,n;const{key:r}=e,i=e.target,s=null==(t=f.current)?void 0:t.contains(i),a=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&s||"Escape"===r&&"search"===i.type))return;if(!s&&!a)return;if("Tab"===r&&(!f.current||!d))return;b.current=e.type;const o={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=I(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=I(i,1);e&&e.focus&&e.focus()}else h(!0,o);return;case"Tab":Ct(i.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||h(!1,o)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,o)}})),(0,Ne.jsx)(Fr.Provider,{value:C,children:(0,Ne.jsx)(_t.Provider,{value:k,children:c})})}Jr.displayName="Dropdown",Jr.Menu=Ar,Jr.Toggle=Mr,Jr.Item=Kr;const Zr=Jr;function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(this,arguments)}function ei(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(176);function ti(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ni(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ri(e,n){return Object.keys(n).reduce((function(r,i){var s,a=r,o=a[ti(i)],l=a[i],c=ei(a,[ti(i),i].map(ni)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),a=s[0],o=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&a!==n&&o(n),[l?e:a,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),o(e)}),[r])]}(l,o,e[u]),h=d[0],f=d[1];return $r({},c,((s={})[i]=h,s[u]=f,s))}),e)}function ii(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function si(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ai(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ii.__suppressDeprecationWarning=!0,si.__suppressDeprecationWarning=!0,ai.__suppressDeprecationWarning=!0;const oi=t.createContext({});oi.displayName="DropdownContext";const li=oi;const ci="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ui="undefined"!==typeof document||ci?t.useLayoutEffect:t.useEffect;new WeakMap;const di=["onKeyDown"];const hi=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,di);const[i]=qe(Object.assign({tagName:"a"},r)),s=Nt((e=>{i.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,Ne.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Ne.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var a}));hi.displayName="Anchor";const fi=hi,pi=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:s=!1,onClick:a,active:o,as:l=fi,...c}=e;const u=Pe(n,"dropdown-item"),[d,h]=Wr({key:i,href:c.href,disabled:s,onClick:a,active:o});return(0,Ne.jsx)(l,{...c,...d,ref:t,className:Ie()(r,u,h.isActive&&"active",s&&"disabled")})}));pi.displayName="DropdownItem";const mi=pi,gi=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const vi=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=gi(e),r=gi(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])},yi=t.createContext(null);yi.displayName="InputGroupContext";const wi=yi,bi=t.createContext(null);bi.displayName="NavbarContext";const xi=bi;function Ei(e,t){return e}function Ai(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const Ci=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,align:s,rootCloseEvent:a,flip:o=!0,show:l,renderOnMount:c,as:u="div",popperConfig:d,variant:h,...f}=e,p=!1;const m=(0,t.useContext)(xi),g=Pe(r,"dropdown-menu"),{align:v,drop:y,isRTL:w}=(0,t.useContext)(li);s=s||v;const b=(0,t.useContext)(wi),x=[];if(s)if("object"===typeof s){const e=Object.keys(s);if(e.length){const t=e[0],n=s[t];p="start"===n,x.push("".concat(g,"-").concat(t,"-").concat(n))}}else"end"===s&&(p=!0);const E=Ai(p,y,w),[A,{hasShown:C,popper:k,show:j,toggle:S}]=xr({flip:o,rootCloseEvent:a,show:l,usePopper:!m&&0===x.length,offset:[0,2],popperConfig:d,placement:E});if(A.ref=vi(Ei(n),A.ref),ui((()=>{j&&(null==k||k.update())}),[j]),!C&&!c&&!b)return null;"string"!==typeof u&&(A.show=j,A.close=()=>null==S?void 0:S(!1),A.align=s);let I=f.style;return null!=k&&k.placement&&(I={...f.style,...A.style},f["x-placement"]=k.placement),(0,Ne.jsx)(u,{...f,...A,style:I,...(x.length||m)&&{"data-bs-popper":"static"},className:Ie()(i,g,j&&"show",p&&"".concat(g,"-end"),h&&"".concat(g,"-").concat(h),...x)})}));Ci.displayName="DropdownMenu";const ki=Ci,ji=t.forwardRef(((e,n)=>{let{bsPrefix:r,split:i,className:s,childBsPrefix:a,as:o=Ye,...l}=e;const c=Pe(r,"dropdown-toggle"),u=(0,t.useContext)(_t);void 0!==a&&(l.bsPrefix=a);const[d]=Pr();return d.ref=vi(d.ref,Ei(n)),(0,Ne.jsx)(o,{className:Ie()(s,c,i&&"".concat(c,"-split"),(null==u?void 0:u.show)&&"show"),...d,...l})}));ji.displayName="DropdownToggle";const Si=ji,Ii=$e("dropdown-header",{defaultProps:{role:"heading"}}),Ni=$e("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),_i=$e("dropdown-item-text",{Component:"span"}),Ti=t.forwardRef(((e,n)=>{const{bsPrefix:r,drop:i="down",show:s,className:a,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:f=!0,...p}=ri(e,{show:"onToggle"}),m=(0,t.useContext)(wi),g=Pe(r,"dropdown"),v=Ue(),y=Nt(((e,t)=>{var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===f?"click"===n:"inside"===f?"rootClose"!==n:"outside"!==f||"select"!==n)&&(null==c||c(e,t))})),w=Ai("end"===o,i,v),b=(0,t.useMemo)((()=>({align:o,drop:i,isRTL:v})),[o,i,v]),x={down:g,"down-centered":"".concat(g,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,Ne.jsx)(li.Provider,{value:b,children:(0,Ne.jsx)(Zr,{placement:w,show:s,onSelect:l,onToggle:y,focusFirstItemOnShow:u,itemSelector:".".concat(g,"-item:not(.disabled):not(:disabled)"),children:m?p.children:(0,Ne.jsx)(d,{...p,ref:n,className:Ie()(a,s&&"show",x[i])})})})}));Ti.displayName="Dropdown";const Ri=Object.assign(Ti,{Toggle:Si,Menu:ki,Item:mi,ItemText:_i,Divider:Ni,Header:Ii});var Oi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Di=t.createContext&&t.createContext(Oi),Pi=function(){return Pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pi.apply(this,arguments)},Li=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Mi(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Pi({key:n},e.attr),Mi(e.child))}))}function Ui(e){return function(n){return t.createElement(Fi,Pi({attr:Pi({},e.attr)},n),Mi(e.child))}}function Fi(e){var n=function(n){var r,i=e.attr,s=e.size,a=e.title,o=Li(e,["attr","size","title"]),l=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Pi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:Pi(Pi({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==Di?t.createElement(Di.Consumer,null,(function(e){return n(e)})):n(Oi)}function Bi(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 15.0006L7.75732 10.758L9.17154 9.34375L12 12.1722L14.8284 9.34375L16.2426 10.758L12 15.0006Z"}}]})(e)}const zi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Qi;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hi=function(e){return function(e){const t=zi(e);return Vi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wi=function(e){try{return Vi.decodeString(e,!0)}catch(oS){console.error("base64Decode failed: ",oS)}return null};const qi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ki=()=>{try{return qi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/strava-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(oS){return}const t=e&&Wi(e[1]);return t&&JSON.parse(t)})()}catch(oS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(oS))}},Gi=e=>{var t,n;return null===(n=null===(t=Ki())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Xi=e=>{const t=Gi(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Yi=()=>{var e;return null===(e=Ki())||void 0===e?void 0:e.config},Ji=e=>{var t;return null===(t=Ki())||void 0===t?void 0:t["_".concat(e)]};class Zi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function $i(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Hi(JSON.stringify({alg:"none",type:"JWT"})),Hi(JSON.stringify(s)),""].join(".")}function es(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ts(){return!function(){var e;const t=null===(e=Ki())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(oS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ns(){try{return"object"===typeof indexedDB}catch(oS){return!1}}class rs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,is.prototype.create)}}class is{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ss,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new rs(n,s,t)}}const ss=/\{\$([^}]+)}/g;function as(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(os(n)&&os(s)){if(!as(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function os(e){return null!==e&&"object"===typeof e}function ls(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cs(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function us(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ds{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=hs),void 0===r.error&&(r.error=hs),void 0===r.complete&&(r.complete=hs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(oS){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(oS){"undefined"!==typeof console&&console.error&&console.error(oS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function hs(){}function fs(e){return e&&e._delegate?e._delegate:e}class ps{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ms="[DEFAULT]";class gs{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Zi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(oS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(oS){if(r)return null;throw oS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch(oS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(oS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ms?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ys=[];var ws;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ws||(ws={}));const bs={debug:ws.DEBUG,verbose:ws.VERBOSE,info:ws.INFO,warn:ws.WARN,error:ws.ERROR,silent:ws.SILENT},xs=ws.INFO,Es={[ws.DEBUG]:"log",[ws.VERBOSE]:"log",[ws.INFO]:"info",[ws.WARN]:"warn",[ws.ERROR]:"error"},As=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Es[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Cs{constructor(e){this.name=e,this._logLevel=xs,this._logHandler=As,this._userLogHandler=null,ys.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ws))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ws.DEBUG,...t),this._logHandler(this,ws.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ws.VERBOSE,...t),this._logHandler(this,ws.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ws.INFO,...t),this._logHandler(this,ws.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ws.WARN,...t),this._logHandler(this,ws.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ws.ERROR,...t),this._logHandler(this,ws.ERROR,...t)}}const ks=(e,t)=>t.some((t=>e instanceof t));let js,Ss;const Is=new WeakMap,Ns=new WeakMap,_s=new WeakMap,Ts=new WeakMap,Rs=new WeakMap;let Os={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ns.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_s.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ds(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ss||(Ss=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ms(this),n),Ls(Is.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ls(e.apply(Ms(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ms(this),t,...r);return _s.set(s,t.sort?t.sort():[t]),Ls(s)}}function Ps(e){return"function"===typeof e?Ds(e):(e instanceof IDBTransaction&&function(e){if(Ns.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ns.set(e,t)}(e),ks(e,js||(js=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Os):e)}function Ls(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ls(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Is.set(t,e)})).catch((()=>{})),Rs.set(t,e),t}(e);if(Ts.has(e))return Ts.get(e);const t=Ps(e);return t!==e&&(Ts.set(e,t),Rs.set(t,e)),t}const Ms=e=>Rs.get(e);const Us=["get","getKey","getAll","getAllKeys","count"],Fs=["put","add","delete","clear"],Bs=new Map;function zs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Bs.get(t))return Bs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Fs.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Us.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Bs.set(t,s),s}Os=(e=>({...e,get:(t,n,r)=>zs(t,n)||e.get(t,n,r),has:(t,n)=>!!zs(t,n)||e.has(t,n)}))(Os);class Vs{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Qs="@firebase/app",Hs="0.9.27",Ws=new Cs("@firebase/app"),qs="[DEFAULT]",Ks={[Qs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gs=new Map,Xs=new Map;function Ys(e,t){try{e.container.addComponent(t)}catch(oS){Ws.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),oS)}}function Js(e){const t=e.name;if(Xs.has(t))return Ws.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xs.set(t,e);for(const n of Gs.values())Ys(n,e);return!0}function Zs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const $s=new is("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ea{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ps("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const ta="10.8.0";function na(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:qs,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $s.create("bad-app-name",{appName:String(i)});if(n||(n=Yi()),!n)throw $s.create("no-options");const s=Gs.get(i);if(s){if(as(n,s.options)&&as(r,s.config))return s;throw $s.create("duplicate-app",{appName:i})}const a=new vs(i);for(const l of Xs.values())a.addComponent(l);const o=new ea(n,r,a);return Gs.set(i,o),o}function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qs;const t=Gs.get(e);if(!t&&e===qs&&Yi())return na();if(!t)throw $s.create("no-app",{appName:e});return t}function ia(e,t,n){var r;let i=null!==(r=Ks[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ws.warn(e.join(" "))}Js(new ps("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const sa="firebase-heartbeat-database",aa=1,oa="firebase-heartbeat-store";let la=null;function ca(){return la||(la=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Ls(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Ls(a.result),e.oldVersion,e.newVersion,Ls(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(sa,aa,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(oa)}catch(oS){console.warn(oS)}}}).catch((e=>{throw $s.create("idb-open",{originalErrorMessage:e.message})}))),la}async function ua(e,t){try{const n=(await ca()).transaction(oa,"readwrite"),r=n.objectStore(oa);await r.put(t,da(e)),await n.done}catch(oS){if(oS instanceof rs)Ws.warn(oS.message);else{const t=$s.create("idb-set",{originalErrorMessage:null===oS||void 0===oS?void 0:oS.message});Ws.warn(t.message)}}}function da(e){return"".concat(e.name,"!").concat(e.options.appId)}class ha{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pa(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fa();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=fa(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ma(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ma(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Hi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function fa(){return(new Date).toISOString().substring(0,10)}class pa{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ns()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ca()).transaction(oa),n=await t.objectStore(oa).get(da(e));return await t.done,n}catch(oS){if(oS instanceof rs)Ws.warn(oS.message);else{const t=$s.create("idb-get",{originalErrorMessage:null===oS||void 0===oS?void 0:oS.message});Ws.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ua(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ua(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ma(e){return Hi(JSON.stringify({version:2,heartbeats:e})).length}var ga;ga="",Js(new ps("platform-logger",(e=>new Vs(e)),"PRIVATE")),Js(new ps("heartbeat",(e=>new ha(e)),"PRIVATE")),ia(Qs,Hs,ga),ia(Qs,Hs,"esm2017"),ia("fire-js","");var va,ya="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},wa={},ba=ba||{},xa=ya||self;function Ea(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Aa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ca="closure_uid_"+(1e9*Math.random()>>>0),ka=0;function ja(e,t,n){return e.call.apply(e.bind,arguments)}function Sa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ia(e,t,n){return(Ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:Sa).apply(null,arguments)}function Na(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _a(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ta(){this.s=this.s,this.o=this.o}Ta.prototype.s=!1,Ta.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ca)&&e[Ca]||(e[Ca]=++ka)}(this)},Ta.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ra=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Oa(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Da(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ea(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Pa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pa.prototype.h=function(){this.defaultPrevented=!0};var La=function(){if(!xa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};xa.addEventListener("test",e,t),xa.removeEventListener("test",e,t)}catch(LS){}return e}();function Ma(e){return/^[\s\xa0]*$/.test(e)}function Ua(){var e=xa.navigator;return e&&(e=e.userAgent)?e:""}function Fa(e){return-1!=Ua().indexOf(e)}function Ba(e){return Ba[" "](e),e}Ba[" "]=function(){};var za,Va,Qa=Fa("Opera"),Ha=Fa("Trident")||Fa("MSIE"),Wa=Fa("Edge"),qa=Wa||Ha,Ka=Fa("Gecko")&&!(-1!=Ua().toLowerCase().indexOf("webkit")&&!Fa("Edge"))&&!(Fa("Trident")||Fa("MSIE"))&&!Fa("Edge"),Ga=-1!=Ua().toLowerCase().indexOf("webkit")&&!Fa("Edge");function Xa(){var e=xa.document;return e?e.documentMode:void 0}e:{var Ya="",Ja=function(){var e=Ua();return Ka?/rv:([^\);]+)(\)|;)/.exec(e):Wa?/Edge\/([\d\.]+)/.exec(e):Ha?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ga?/WebKit\/(\S+)/.exec(e):Qa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ja&&(Ya=Ja?Ja[1]:""),Ha){var Za=Xa();if(null!=Za&&Za>parseFloat(Ya)){za=String(Za);break e}}za=Ya}if(xa.document&&Ha){var $a=Xa();Va=$a||(parseInt(za,10)||void 0)}else Va=void 0;var eo=Va;function to(e,t){if(Pa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ka){e:{try{Ba(t.nodeName);var i=!0;break e}catch(gS){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:no[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&to.$.h.call(this)}}_a(to,Pa);var no={2:"touch",3:"pen",4:"mouse"};to.prototype.h=function(){to.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ro="closure_listenable_"+(1e6*Math.random()|0),io=0;function so(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++io,this.fa=this.ia=!1}function ao(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function oo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function lo(e){const t={};for(const n in e)t[n]=e[n];return t}const co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uo(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<co.length;t++)n=co[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ho(e){this.src=e,this.g={},this.h=0}function fo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ra(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ao(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function po(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}ho.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=po(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new so(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var mo="closure_lm_"+(1e6*Math.random()|0),go={};function vo(e,t,n,r,i){if(r&&r.once)return wo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)vo(e,t[s],n,r,i);return null}return n=jo(n),e&&e[ro]?e.O(t,n,Aa(r)?!!r.capture:!!r,i):yo(e,t,n,!1,r,i)}function yo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Aa(i)?!!i.capture:!!i,o=Co(e);if(o||(e[mo]=o=new ho(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ao;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)La||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Eo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)wo(e,t[s],n,r,i);return null}return n=jo(n),e&&e[ro]?e.P(t,n,Aa(r)?!!r.capture:!!r,i):yo(e,t,n,!0,r,i)}function bo(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)bo(e,t[s],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=jo(n),e&&e[ro]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=po(s=e.g[t],n,r,i))&&(ao(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Co(e))&&(t=e.g[t.toString()],e=-1,t&&(e=po(t,n,r,i)),(n=-1<e?t[e]:null)&&xo(n))}function xo(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ro])fo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Eo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Co(t))?(fo(n,e),0==n.h&&(n.src=null,t[mo]=null)):ao(e)}}}function Eo(e){return e in go?go[e]:go[e]="on"+e}function Ao(e,t){if(e.fa)e=!0;else{t=new to(t,this);var n=e.listener,r=e.la||e.src;e.ia&&xo(e),e=n.call(r,t)}return e}function Co(e){return(e=e[mo])instanceof ho?e:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(e){return"function"===typeof e?e:(e[ko]||(e[ko]=function(t){return e.handleEvent(t)}),e[ko])}function So(){Ta.call(this),this.i=new ho(this),this.S=this,this.J=null}function Io(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Pa(t,e);else if(t instanceof Pa)t.target=t.target||e;else{var i=t;uo(t=new Pa(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=No(a,r,!0,t)&&i}if(i=No(a=t.g=e,r,!0,t)&&i,i=No(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=No(a=t.g=n[s],r,!1,t)&&i}function No(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&fo(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}_a(So,Ta),So.prototype[ro]=!0,So.prototype.removeEventListener=function(e,t,n,r){bo(this,e,t,n,r)},So.prototype.N=function(){if(So.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ao(n[r]);delete t.g[e],t.h--}}this.J=null},So.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},So.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _o=xa.JSON.stringify;function To(){var e=Uo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ro=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Oo),(e=>e.reset()));class Oo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Do(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Po(e){xa.setTimeout((()=>{throw e}),0)}let Lo,Mo=!1,Uo=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ro.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Fo=()=>{const e=xa.Promise.resolve(void 0);Lo=()=>{e.then(Bo)}};var Bo=()=>{for(var e;e=To();){try{e.h.call(e.g)}catch(LS){Po(LS)}var t=Ro;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mo=!1};function zo(e,t){So.call(this),this.h=e||1,this.g=t||xa,this.j=Ia(this.qb,this),this.l=Date.now()}function Vo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Qo(e,t,n){if("function"===typeof e)n&&(e=Ia(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ia(e.handleEvent,e)}return 2147483647<Number(t)?-1:xa.setTimeout(e,t||0)}function Ho(e){e.g=Qo((()=>{e.g=null,e.i&&(e.i=!1,Ho(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_a(zo,So),(va=zo.prototype).ga=!1,va.T=null,va.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Io(this,"tick"),this.ga&&(Vo(this),this.start()))}},va.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},va.N=function(){zo.$.N.call(this),Vo(this),delete this.g};class Wo extends Ta{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ho(this)}N(){super.N(),this.g&&(xa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(e){Ta.call(this),this.h=e,this.g={}}_a(qo,Ta);var Ko=[];function Go(e,t,n,r){Array.isArray(n)||(n&&(Ko[0]=n.toString()),n=Ko);for(var i=0;i<n.length;i++){var s=vo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Xo(e){oo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xo(e)}),e),e.g={}}function Yo(){this.g=!0}function Jo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return _o(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}qo.prototype.N=function(){qo.$.N.call(this),Xo(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yo.prototype.Ea=function(){this.g=!1},Yo.prototype.info=function(){};var Zo={},$o=null;function el(){return $o=$o||new So}function tl(e){Pa.call(this,Zo.Ta,e)}function nl(e){const t=el();Io(t,new tl(t))}function rl(e,t){Pa.call(this,Zo.STAT_EVENT,e),this.stat=t}function il(e){const t=el();Io(t,new rl(t,e))}function sl(e,t){Pa.call(this,Zo.Ua,e),this.size=t}function al(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xa.setTimeout((function(){e()}),t)}Zo.Ta="serverreachability",_a(tl,Pa),Zo.STAT_EVENT="statevent",_a(rl,Pa),Zo.Ua="timingevent",_a(sl,Pa);var ol={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ll={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cl(){}function ul(e){return e.h||(e.h=e.i())}function dl(){}cl.prototype.h=null;var hl,fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pl(){Pa.call(this,"d")}function ml(){Pa.call(this,"c")}function gl(){}function vl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new qo(this),this.P=wl,e=qa?125:void 0,this.V=new zo(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yl}function yl(){this.i=null,this.g="",this.h=!1}_a(pl,Pa),_a(ml,Pa),_a(gl,cl),gl.prototype.g=function(){return new XMLHttpRequest},gl.prototype.i=function(){return{}},hl=new gl;var wl=45e3,bl={},xl={};function El(e,t,n){e.L=1,e.A=zl(Ll(t)),e.u=n,e.S=!0,Al(e,null)}function Al(e,t){e.G=Date.now(),Sl(e),e.B=Ll(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),ec(n.i,"t",r),e.o=0,n=e.l.J,e.h=new yl,e.g=$c(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Wo(Ia(e.Pa,e,e.g),e.O)),Go(e.U,e.g,"readystatechange",e.nb),t=e.I?lo(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),nl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Cl(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function kl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=jl(e,n),r==xl){4==t&&(e.s=4,il(14),i=!1),Jo(e.j,e.m,null,"[Incomplete Response]");break}if(r==bl){e.s=4,il(15),Jo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jo(e.j,e.m,r,null),Rl(e,r)}Cl(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,il(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wc(t),t.M=!0,il(11))):(Jo(e.j,e.m,n,"[Invalid Chunked Response]"),Tl(e),_l(e))}function jl(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?xl:(n=Number(t.substring(n,r)),isNaN(n)?bl:(r+=1)+n>t.length?xl:(t=t.slice(r,r+n),e.o=r+n,t))}function Sl(e){e.Y=Date.now()+e.P,Il(e,e.P)}function Il(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=al(Ia(e.lb,e),t)}function Nl(e){e.C&&(xa.clearTimeout(e.C),e.C=null)}function _l(e){0==e.l.H||e.J||Gc(e.l,e)}function Tl(e){Nl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Vo(e.V),Xo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Rl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ac(n.i,e)))if(!e.K&&ac(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Kc(n),Mc(n)}Hc(n),il(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=al(Ia(n.ib,n),6e3));if(1>=sc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Yc(n,11)}else if((e.K||n.g==e)&&Kc(n),!Ma(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oc(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Bl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Zc(r,r.J?r.pa:null,r.Y),a.K){lc(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(Nl(o),Sl(o)),r.g=a}else Qc(r);0<n.j.length&&Fc(n)}else"stop"!=c[0]&&"close"!=c[0]||Yc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Yc(n,7):Lc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}nl()}catch(c){}}function Ol(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ea(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ea(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ea(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(va=vl.prototype).setTimeout=function(e){this.P=e},va.nb=function(e){e=e.target;const t=this.M;t&&3==_c(e)?t.l():this.Pa(e)},va.Pa=function(e){try{if(e==this.g)e:{const u=_c(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||qa||this.g&&(this.h.h||this.g.ja()||Tc(this.g)))){this.J||4!=u||7==t||nl(),Nl(this);var n=this.g.da();this.ca=n;t:if(Cl(this)){var r=Tc(this.g);e="";var i=r.length,s=4==_c(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Tl(this),_l(this);var a="";break t}this.h.i=new xa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,il(12),Tl(this),_l(this);break e}Jo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rl(this,n)}this.S?(kl(this,u,a),qa&&this.i&&3==u&&(Go(this.U,this.V,"tick",this.mb),this.V.start())):(Jo(this.j,this.m,a,null),Rl(this,a)),4==u&&Tl(this),this.i&&!this.J&&(4==u?Gc(this.l,this):(this.i=!1,Sl(this)))}else(function(e){const t={};e=(e.g&&2<=_c(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ma(e[r]))continue;var n=Do(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,il(12)):(this.s=0,il(13)),Tl(this),_l(this)}}}catch(u){}},va.mb=function(){if(this.g){var e=_c(this.g),t=this.g.ja();this.o<t.length&&(Nl(this),kl(this,e,t),this.i&&4!=e&&Sl(this))}},va.cancel=function(){this.J=!0,Tl(this)},va.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(nl(),il(17)),Tl(this),this.s=2,_l(this)):Il(this,this.Y-e)};var Dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pl){this.h=e.h,Ml(this,e.j),this.s=e.s,this.g=e.g,Ul(this,e.m),this.l=e.l;var t=e.i,n=new Yl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Fl(this,n),this.o=e.o}else e&&(t=String(e).match(Dl))?(this.h=!1,Ml(this,t[1]||"",!0),this.s=Vl(t[2]||""),this.g=Vl(t[3]||"",!0),Ul(this,t[4]),this.l=Vl(t[5]||"",!0),Fl(this,t[6]||"",!0),this.o=Vl(t[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}function Ll(e){return new Pl(e)}function Ml(e,t,n){e.j=n?Vl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ul(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fl(e,t,n){t instanceof Yl?(e.i=t,function(e,t){t&&!e.j&&(Jl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zl(this,t),ec(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ql(t,Gl)),e.i=new Yl(t,e.h))}function Bl(e,t,n){e.i.set(t,n)}function zl(e){return Bl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ql(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ql(t,Wl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ql(t,Wl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ql(n,"/"==n.charAt(0)?Kl:ql,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ql(n,Xl)),e.join("")};var Wl=/[#\/\?@]/g,ql=/[#\?:]/g,Kl=/[#\?]/g,Gl=/[#\?@]/g,Xl=/#/g;function Yl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zl(e,t){Jl(e),t=tc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $l(e,t){return Jl(e),t=tc(e,t),e.g.has(t)}function ec(e,t,n){Zl(e,t),0<n.length&&(e.i=null,e.g.set(tc(e,t),Oa(n)),e.h+=n.length)}function tc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(va=Yl.prototype).add=function(e,t){Jl(this),this.i=null,e=tc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},va.forEach=function(e,t){Jl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},va.ta=function(){Jl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},va.Z=function(e){Jl(this);let t=[];if("string"===typeof e)$l(this,e)&&(t=t.concat(this.g.get(tc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},va.set=function(e,t){return Jl(this),this.i=null,$l(this,e=tc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},va.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},va.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};function nc(e){this.l=e||rc,xa.PerformanceNavigationTiming?e=0<(e=xa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xa.g&&xa.g.Ka&&xa.g.Ka()&&xa.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rc=10;function ic(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sc(e){return e.h?1:e.g?e.g.size:0}function ac(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function oc(e,t){e.g?e.g.add(t):e.h=t}function lc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Oa(e.i)}nc.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var uc=class{stringify(e){return xa.JSON.stringify(e,void 0)}parse(e){return xa.JSON.parse(e,void 0)}};function dc(){this.g=new uc}function hc(e,t,n){const r=n||"";try{Ol(e,(function(e,n){let i=e;Aa(e)&&(i=_o(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(oS){throw t.push(r+"type="+encodeURIComponent("_badmap")),oS}}function fc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(gS){}}function pc(e){this.l=e.ec||null,this.j=e.ob||!1}function mc(e,t){So.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=gc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_a(pc,cl),pc.prototype.g=function(){return new mc(this.l,this.j)},pc.prototype.i=function(e){return function(){return e}}({}),_a(mc,So);var gc=0;function vc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function yc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wc(e)}function wc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(va=mc.prototype).open=function(e,t){if(this.readyState!=gc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wc(this)},va.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},va.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yc(this)),this.readyState=gc},va.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof xa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},va.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yc(this):wc(this),3==this.readyState&&vc(this)}},va.Za=function(e){this.g&&(this.response=this.responseText=e,yc(this))},va.Ya=function(e){this.g&&(this.response=e,yc(this))},va.ka=function(){this.g&&yc(this)},va.setRequestHeader=function(e,t){this.v.append(e,t)},va.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},va.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bc=xa.JSON.parse;function xc(e){So.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ec,this.L=this.M=!1}_a(xc,So);var Ec="",Ac=/^https?$/i,Cc=["POST","PUT"];function kc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jc(e),Ic(e)}function jc(e){e.F||(e.F=!0,Io(e,"complete"),Io(e,"error"))}function Sc(e){if(e.h&&"undefined"!=typeof ba&&(!e.C[1]||4!=_c(e)||2!=e.da()))if(e.v&&4==_c(e))Qo(e.La,0,e);else if(Io(e,"readystatechange"),4==_c(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Dl)[1]||null;!i&&xa.self&&xa.self.location&&(i=xa.self.location.protocol.slice(0,-1)),r=!Ac.test(i?i.toLowerCase():"")}n=r}if(n)Io(e,"complete"),Io(e,"success");else{e.m=6;try{var s=2<_c(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",jc(e)}}finally{Ic(e)}}}function Ic(e,t){if(e.g){Nc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Io(e,"ready");try{n.onreadystatechange=r}catch(oS){}}}function Nc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xa.clearTimeout(e.A),e.A=null)}function _c(e){return e.g?e.g.readyState:0}function Tc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ec:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Uu){return null}}function Rc(e){let t="";return oo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Oc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bl(e,t,n))}function Dc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pc(e){this.Ga=0,this.j=[],this.l=new Yo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dc("baseRetryDelayMs",5e3,e),this.hb=Dc("retryDelaySeedMs",1e4,e),this.eb=Dc("forwardChannelMaxRetries",2,e),this.xa=Dc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nc(e&&e.concurrentRequestLimit),this.Ja=new dc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Lc(e){if(Uc(e),3==e.H){var t=e.W++,n=Ll(e.I);if(Bl(n,"SID",e.K),Bl(n,"RID",t),Bl(n,"TYPE","terminate"),zc(e,n),(t=new vl(e,e.l,t)).L=2,t.A=zl(Ll(n)),n=!1,xa.navigator&&xa.navigator.sendBeacon)try{n=xa.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&xa.Image&&((new Image).src=t.A,n=!0),n||(t.g=$c(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Sl(t)}Jc(e)}function Mc(e){e.g&&(Wc(e),e.g.cancel(),e.g=null)}function Uc(e){Mc(e),e.u&&(xa.clearTimeout(e.u),e.u=null),Kc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xa.clearTimeout(e.m),e.m=null)}function Fc(e){if(!ic(e.i)&&!e.m){e.m=!0;var t=e.Na;Lo||Fo(),Mo||(Lo(),Mo=!0),Uo.add(t,e),e.C=0}}function Bc(e,t){var n;n=t?t.m:e.W++;const r=Ll(e.I);Bl(r,"SID",e.K),Bl(r,"RID",n),Bl(r,"AID",e.V),zc(e,r),e.o&&e.s&&Oc(r,e.o,e.s),n=new vl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Vc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),oc(e.i,n),El(n,r,t)}function zc(e,t){e.na&&oo(e.na,(function(e,n){Bl(t,n,e)})),e.h&&Ol({},(function(e,n){Bl(t,n,e)}))}function Vc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ia(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{hc(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Qc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Lo||Fo(),Mo||(Lo(),Mo=!0),Uo.add(t,e),e.A=0}}function Hc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=al(Ia(e.Ma,e),Xc(e,e.A)),e.A++,!0)}function Wc(e){null!=e.B&&(xa.clearTimeout(e.B),e.B=null)}function qc(e){e.g=new vl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ll(e.wa);Bl(t,"RID","rpc"),Bl(t,"SID",e.K),Bl(t,"AID",e.V),Bl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Bl(t,"TO",e.qa),Bl(t,"TYPE","xmlhttp"),zc(e,t),e.o&&e.s&&Oc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=zl(Ll(t)),n.u=null,n.S=!0,Al(n,e)}function Kc(e){null!=e.v&&(xa.clearTimeout(e.v),e.v=null)}function Gc(e,t){var n=null;if(e.g==t){Kc(e),Wc(e),e.g=null;var r=2}else{if(!ac(e.i,t))return;n=t.F,lc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Io(r=el(),new sl(r,n)),Fc(e)}else Qc(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(sc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=al(Ia(e.Na,e,t),Xc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Yc(e,5);break;case 4:Yc(e,10);break;case 3:Yc(e,6);break;default:Yc(e,2)}}function Xc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Yc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ia(e.pb,e);n||(n=new Pl("//www.google.com/images/cleardot.gif"),xa.location&&"http"==xa.location.protocol||Ml(n,"https"),zl(n)),function(e,t){const n=new Yo;if(xa.Image){const r=new Image;r.onload=Na(fc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Na(fc,n,r,"TestLoadImage: error",!1,t),r.onabort=Na(fc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Na(fc,n,r,"TestLoadImage: timeout",!1,t),xa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else il(2);e.H=0,e.h&&e.h.za(t),Jc(e),Uc(e)}function Jc(e){if(e.H=0,e.ma=[],e.h){const t=cc(e.i);0==t.length&&0==e.j.length||(Da(e.ma,t),Da(e.ma,e.j),e.i.i.length=0,Oa(e.j),e.j.length=0),e.h.ya()}}function Zc(e,t,n){var r=n instanceof Pl?Ll(n):new Pl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ul(r,r.m);else{var i=xa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Pl(null);r&&Ml(s,r),t&&(s.g=t),i&&Ul(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Bl(r,n,t),Bl(r,"VER",e.ra),zc(e,r),r}function $c(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new xc(new pc({ob:n})):new xc(e.va)).Oa(e.J),t}function eu(){}function tu(){if(Ha&&!(10<=Number(eo)))throw Error("Environmental error: no available transport.")}function nu(e,t){So.call(this),this.g=new Pc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ma(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ma(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new su(this)}function ru(e){pl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function iu(){ml.call(this),this.status=1}function su(e){this.g=e}function au(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ou(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function lu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(va=xc.prototype).Oa=function(e){this.M=e},va.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hl.g(),this.C=this.u?ul(this.u):ul(hl),this.g.onreadystatechange=Ia(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(gS){return void kc(this,gS)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=xa.FormData&&e instanceof xa.FormData,!(0<=Ra(Cc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Nc(this),0<this.B&&((this.L=function(e){return Ha&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ia(this.ua,this)):this.A=Qo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(gS){kc(this,gS)}},va.ua=function(){"undefined"!=typeof ba&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Io(this,"timeout"),this.abort(8))},va.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Io(this,"complete"),Io(this,"abort"),Ic(this))},va.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ic(this,!0)),xc.$.N.call(this)},va.La=function(){this.s||(this.G||this.v||this.l?Sc(this):this.kb())},va.kb=function(){Sc(this)},va.isActive=function(){return!!this.g},va.da=function(){try{return 2<_c(this)?this.g.status:-1}catch(pS){return-1}},va.ja=function(){try{return this.g?this.g.responseText:""}catch(pS){return""}},va.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bc(t)}},va.Ia=function(){return this.m},va.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(va=Pc.prototype).ra=8,va.H=1,va.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new vl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=lo(s),uo(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Vc(this,i,t),Bl(n=Ll(this.I),"RID",e),Bl(n,"CVER",22),this.F&&Bl(n,"X-HTTP-Session-Id",this.F),zc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rc(s)))+"&"+t:this.o&&Oc(n,this.o,s)),oc(this.i,i),this.bb&&Bl(n,"TYPE","init"),this.P?(Bl(n,"$req",t),Bl(n,"SID","null"),i.aa=!0,El(i,n,null)):El(i,n,t),this.H=2}}else 3==this.H&&(e?Bc(this,e):0==this.j.length||ic(this.i)||Bc(this))},va.Ma=function(){if(this.u=null,qc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=al(Ia(this.jb,this),e)}},va.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,il(10),Mc(this),qc(this))},va.ib=function(){null!=this.v&&(this.v=null,Mc(this),Hc(this),il(19))},va.pb=function(e){e?(this.l.info("Successfully pinged google.com"),il(2)):(this.l.info("Failed to ping google.com"),il(1))},va.isActive=function(){return!!this.h&&this.h.isActive(this)},(va=eu.prototype).Ba=function(){},va.Aa=function(){},va.za=function(){},va.ya=function(){},va.isActive=function(){return!0},va.Va=function(){},tu.prototype.g=function(e,t){return new nu(e,t)},_a(nu,So),nu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;il(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Zc(e,null,e.Y),Fc(e)},nu.prototype.close=function(){Lc(this.g)},nu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_o(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&Fc(t)},nu.prototype.N=function(){this.g.h=null,delete this.j,Lc(this.g),delete this.g,nu.$.N.call(this)},_a(ru,pl),_a(iu,ml),_a(su,eu),su.prototype.Ba=function(){Io(this.g,"a")},su.prototype.Aa=function(e){Io(this.g,new ru(e))},su.prototype.za=function(e){Io(this.g,new iu)},su.prototype.ya=function(){Io(this.g,"b")},_a(au,(function(){this.blockSize=-1})),au.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},au.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)ou(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){ou(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){ou(this,r),i=0;break}}this.h=i,this.i+=t},au.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var cu={};function uu(e){return-128<=e&&128>e?function(e,t){var n=cu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new lu([0|e],0>e?-1:0)})):new lu([0|e],0>e?-1:0)}function du(e){if(isNaN(e)||!isFinite(e))return fu;if(0>e)return yu(du(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=hu;return new lu(t,0)}var hu=4294967296,fu=uu(0),pu=uu(1),mu=uu(16777216);function gu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function vu(e){return-1==e.h}function yu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new lu(n,~e.h).add(pu)}function wu(e,t){return e.add(yu(t))}function bu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function xu(e,t){this.g=e,this.h=t}function Eu(e,t){if(gu(t))throw Error("division by zero");if(gu(e))return new xu(fu,fu);if(vu(e))return t=Eu(yu(e),t),new xu(yu(t.g),yu(t.h));if(vu(t))return t=Eu(e,yu(t)),new xu(yu(t.g),t.h);if(30<e.g.length){if(vu(e)||vu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=pu,r=t;0>=r.X(e);)n=Au(n),r=Au(r);var i=Cu(n,1),s=Cu(r,1);for(r=Cu(r,2),n=Cu(n,2);!gu(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Cu(r,1),n=Cu(n,1)}return t=wu(e,i.R(t)),new xu(i,t)}for(i=fu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=du(n)).R(t);vu(a)||0<a.X(e);)a=(s=du(n-=r)).R(t);gu(s)&&(s=pu),i=i.add(s),e=wu(e,a)}return new xu(i,e)}function Au(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new lu(n,e.h)}function Cu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new lu(i,e.h)}(va=lu.prototype).ea=function(){if(vu(this))return-yu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:hu+r)*t,t*=hu}return e},va.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(gu(this))return"0";if(vu(this))return"-"+yu(this).toString(e);for(var t=du(Math.pow(e,6)),n=this,r="";;){var i=Eu(n,t).g,s=((0<(n=wu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(gu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},va.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},va.X=function(e){return vu(e=wu(this,e))?-1:gu(e)?0:1},va.abs=function(){return vu(this)?yu(this):this},va.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new lu(n,-2147483648&n[n.length-1]?-1:0)},va.R=function(e){if(gu(this)||gu(e))return fu;if(vu(this))return vu(e)?yu(this).R(yu(e)):yu(yu(this).R(e));if(vu(e))return yu(this.R(yu(e)));if(0>this.X(mu)&&0>e.X(mu))return du(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,bu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bu(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,bu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,bu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new lu(n,0)},va.gb=function(e){return Eu(this,e).h},va.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new lu(n,this.h&e.h)},va.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new lu(n,this.h|e.h)},va.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new lu(n,this.h^e.h)},tu.prototype.createWebChannel=tu.prototype.g,nu.prototype.send=nu.prototype.u,nu.prototype.open=nu.prototype.m,nu.prototype.close=nu.prototype.close,ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,ll.COMPLETE="complete",dl.EventType=fl,fl.OPEN="a",fl.CLOSE="b",fl.ERROR="c",fl.MESSAGE="d",So.prototype.listen=So.prototype.O,xc.prototype.listenOnce=xc.prototype.P,xc.prototype.getLastError=xc.prototype.Sa,xc.prototype.getLastErrorCode=xc.prototype.Ia,xc.prototype.getStatus=xc.prototype.da,xc.prototype.getResponseJson=xc.prototype.Wa,xc.prototype.getResponseText=xc.prototype.ja,xc.prototype.send=xc.prototype.ha,xc.prototype.setWithCredentials=xc.prototype.Oa,au.prototype.digest=au.prototype.l,au.prototype.reset=au.prototype.reset,au.prototype.update=au.prototype.j,lu.prototype.add=lu.prototype.add,lu.prototype.multiply=lu.prototype.R,lu.prototype.modulo=lu.prototype.gb,lu.prototype.compare=lu.prototype.X,lu.prototype.toNumber=lu.prototype.ea,lu.prototype.toString=lu.prototype.toString,lu.prototype.getBits=lu.prototype.D,lu.fromNumber=du,lu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return yu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=du(Math.pow(n,8)),i=fu,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=du(Math.pow(n,a)),i=i.R(a).add(du(o))):i=(i=i.R(r)).add(du(o))}return i};var ku=wa.createWebChannelTransport=function(){return new tu},ju=wa.getStatEventTarget=function(){return el()},Su=wa.ErrorCode=ol,Iu=wa.EventType=ll,Nu=wa.Event=Zo,_u=wa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tu=(wa.FetchXmlHttpFactory=pc,wa.WebChannel=dl),Ru=wa.XhrIo=xc,Ou=wa.Md5=au,Du=wa.Integer=lu;const Pu="@firebase/firestore";class Lu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lu.UNAUTHENTICATED=new Lu(null),Lu.GOOGLE_CREDENTIALS=new Lu("google-credentials-uid"),Lu.FIRST_PARTY=new Lu("first-party-uid"),Lu.MOCK_USER=new Lu("mock-user");let Mu="10.8.0";const Uu=new Cs("@firebase/firestore");function Fu(){return Uu.logLevel}function Bu(e){if(Uu.logLevel<=ws.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qu);Uu.debug("Firestore (".concat(Mu,"): ").concat(e),...i)}}function zu(e){if(Uu.logLevel<=ws.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qu);Uu.error("Firestore (".concat(Mu,"): ").concat(e),...i)}}function Vu(e){if(Uu.logLevel<=ws.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qu);Uu.warn("Firestore (".concat(Mu,"): ").concat(e),...i)}}function Qu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(lS){return e}}function Hu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Mu,") INTERNAL ASSERTION FAILED: ")+e;throw zu(t),new Error(t)}function Wu(e,t){e||Hu()}function qu(e,t){return e}const Ku={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gu extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Yu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ju{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Lu.UNAUTHENTICATED)))}shutdown(){}}class Zu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $u{constructor(e){this.t=e,this.currentUser=Lu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Xu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Bu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Bu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Bu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wu("string"==typeof t.accessToken),new Yu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wu(null===e||"string"==typeof e),new Lu(e)}}class ed{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Lu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class td{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ed(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Lu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Bu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Bu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Bu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Bu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Wu("string"==typeof e.token),this.R=e.token,new nd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function id(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=id(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ad(e,t){return e<t?-1:e>t?1:0}function od(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class ld{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gu(Ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gu(Ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gu(Ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gu(Ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ld.fromMillis(Date.now())}static fromDate(e){return ld.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ld(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ad(this.nanoseconds,e.nanoseconds):ad(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cd(e)}static min(){return new cd(new ld(0,0))}static max(){return new cd(new ld(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ud{constructor(e,t,n){void 0===t?t=0:t>e.length&&Hu(),void 0===n?n=e.length-t:n>e.length-t&&Hu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ud.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dd extends ud{construct(e,t,n){return new dd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Gu(Ku.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new dd(e)}static emptyPath(){return new dd([])}}const hd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fd extends ud{construct(e,t,n){return new fd(e,t,n)}static isValidIdentifier(e){return hd.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fd.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fd(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gu(Ku.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gu(Ku.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gu(Ku.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Gu(Ku.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fd(t)}static emptyPath(){return new fd([])}}class pd{constructor(e){this.path=e}static fromPath(e){return new pd(dd.fromString(e))}static fromName(e){return new pd(dd.fromString(e).popFirst(5))}static empty(){return new pd(dd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pd(new dd(e.slice()))}}class md{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}md.UNKNOWN_ID=-1;function gd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cd.fromTimestamp(1e9===r?new ld(n+1,0):new ld(n,r));return new yd(i,pd.empty(),t)}function vd(e){return new yd(e.readTime,e.key,-1)}class yd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yd(cd.min(),pd.empty(),-1)}static max(){return new yd(cd.max(),pd.empty(),-1)}}function wd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pd.comparator(e.documentKey,t.documentKey),0!==n?n:ad(e.largestBatchId,t.largestBatchId))}const bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ed(e){if(e.code!==Ku.FAILED_PRECONDITION||e.message!==bd)throw e;Bu("LocalStore","Unexpectedly lost primary lease")}class Ad{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ad(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ad?t:Ad.resolve(t)}catch(e){return Ad.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ad.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ad.reject(t)}static resolve(e){return new Ad(((t,n)=>{t(e)}))}static reject(e){return new Ad(((t,n)=>{n(e)}))}static waitFor(e){return new Ad(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ad.resolve(!1);for(const n of e)t=t.next((e=>e?Ad.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ad(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ad(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Cd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Xu,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Sd(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Rd(t.target.error);this.V.reject(new Sd(e,n))}}static open(e,t,n,r){try{return new Cd(t,e.transaction(r,n))}catch(e){throw new Sd(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Bu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Nd(t)}}class kd{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===kd.S(es())&&zu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Bu("SimpleDb","Removing database:",e),_d(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ns())return!1;if(kd.C())return!0;const e=es(),t=kd.S(e),n=0<t&&t<10,r=kd.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Bu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Sd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Gu(Ku.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Gu(Ku.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Sd(e,r))},r.onupgradeneeded=e=>{Bu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Bu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Cd.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Ad.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Bu("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class jd{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return _d(this.k.delete())}}class Sd extends Gu{constructor(e,t){super(Ku.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Id(e){return"IndexedDbTransactionError"===e.name}class Nd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Bu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Bu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_d(n)}add(e){return Bu("SimpleDb","ADD",this.store.name,e,e),_d(this.store.add(e))}get(e){return _d(this.store.get(e)).next((t=>(void 0===t&&(t=null),Bu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Bu("SimpleDb","DELETE",this.store.name,e),_d(this.store.delete(e))}count(){return Bu("SimpleDb","COUNT",this.store.name),_d(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Ad(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ad(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Bu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Ad(((n,r)=>{t.onerror=e=>{const t=Rd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Ad(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new jd(i),a=t(i.primaryKey,i.value,s);if(a instanceof Ad){const e=a.catch((e=>(s.done(),Ad.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Ad.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _d(e){return new Ad(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Rd(e.target.error);n(t)}}))}let Td=!1;function Rd(e){const t=kd.S(es());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Gu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Td||(Td=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Dd(e){return null==e}function Pd(e){return 0===e&&1/e==-1/0}function Ld(e){return"number"==typeof e&&Number.isInteger(e)&&!Pd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Od._e=-1;const Md=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ud=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fd=Ud;function Bd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Qd{constructor(e,t){this.comparator=e,this.root=t||Wd.EMPTY}insert(e,t){return new Qd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wd.BLACK,null,null))}remove(e){return new Qd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wd.RED,this.left=null!=r?r:Wd.EMPTY,this.right=null!=i?i:Wd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hu();if(this.right.isRed())throw Hu();const e=this.left.check();if(e!==this.right.check())throw Hu();return e+(this.isRed()?0:1)}}Wd.EMPTY=null,Wd.RED=!0,Wd.BLACK=!1,Wd.EMPTY=new class{constructor(){this.size=0}get key(){throw Hu()}get value(){throw Hu()}get color(){throw Hu()}get left(){throw Hu()}get right(){throw Hu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qd{constructor(e){this.comparator=e,this.data=new Qd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kd(this.data.getIterator())}getIteratorFrom(e){return new Kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof qd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qd(this.comparator);return t.data=e,t}}class Kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gd{constructor(e){this.fields=e,e.sort(fd.comparator)}static empty(){return new Gd([])}unionWith(e){let t=new qd(fd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Gd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return od(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xd("Invalid base64 string: "+e):e}}(e);return new Yd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Yd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ad(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yd.EMPTY_BYTE_STRING=new Yd("");const Jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(e){if(Wu(!!e),"string"==typeof e){let t=0;const n=Jd.exec(e);if(Wu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$d(e.seconds),nanos:$d(e.nanos)}}function $d(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function eh(e){return"string"==typeof e?Yd.fromBase64String(e):Yd.fromUint8Array(e)}function th(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nh(e){const t=e.mapValue.fields.__previous_value__;return th(t)?nh(t):t}function rh(e){const t=Zd(e.mapValue.fields.__local_write_time__.timestampValue);return new ld(t.seconds,t.nanos)}class ih{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}const ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?th(e)?4:xh(e)?9007199254740991:10:Hu()}function lh(e,t){if(e===t)return!0;const n=oh(e);if(n!==oh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rh(e).isEqual(rh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zd(e.timestampValue),r=Zd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return eh(e.bytesValue).isEqual(eh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $d(e.geoPointValue.latitude)===$d(t.geoPointValue.latitude)&&$d(e.geoPointValue.longitude)===$d(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $d(e.integerValue)===$d(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=$d(e.doubleValue),r=$d(t.doubleValue);return n===r?Pd(n)===Pd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return od(e.arrayValue.values||[],t.arrayValue.values||[],lh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bd(n)!==Bd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lh(n[i],r[i])))return!1;return!0}(e,t);default:return Hu()}}function ch(e,t){return void 0!==(e.values||[]).find((e=>lh(e,t)))}function uh(e,t){if(e===t)return 0;const n=oh(e),r=oh(t);if(n!==r)return ad(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ad(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=$d(e.integerValue||e.doubleValue),r=$d(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dh(e.timestampValue,t.timestampValue);case 4:return dh(rh(e),rh(t));case 5:return ad(e.stringValue,t.stringValue);case 6:return function(e,t){const n=eh(e),r=eh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ad(n[i],r[i]);if(0!==e)return e}return ad(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ad($d(e.latitude),$d(t.latitude));return 0!==n?n:ad($d(e.longitude),$d(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=uh(n[i],r[i]);if(e)return e}return ad(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ah.mapValue&&t===ah.mapValue)return 0;if(e===ah.mapValue)return 1;if(t===ah.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ad(r[a],s[a]);if(0!==e)return e;const t=uh(n[r[a]],i[s[a]]);if(0!==t)return t}return ad(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Hu()}}function dh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ad(e,t);const n=Zd(e),r=Zd(t),i=ad(n.seconds,r.seconds);return 0!==i?i:ad(n.nanos,r.nanos)}function hh(e){return fh(e)}function fh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return eh(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return pd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=fh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(fh(e.fields[i]));return n+"}"}(e.mapValue):Hu()}function ph(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function mh(e){return!!e&&"integerValue"in e}function gh(e){return!!e&&"arrayValue"in e}function vh(e){return!!e&&"nullValue"in e}function yh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wh(e){return!!e&&"mapValue"in e}function bh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=bh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function xh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Eh{constructor(e){this.value=e}static empty(){return new Eh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bh(t)}setAll(e){let t=fd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=bh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Eh(bh(this.value))}}function Ah(e){const t=[];return zd(e.fields,((e,n)=>{const r=new fd([e]);if(wh(n)){const e=Ah(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Gd(t)}class Ch{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ch(e,0,cd.min(),cd.min(),cd.min(),Eh.empty(),0)}static newFoundDocument(e,t,n,r){return new Ch(e,1,t,cd.min(),n,r,0)}static newNoDocument(e,t){return new Ch(e,2,t,cd.min(),cd.min(),Eh.empty(),0)}static newUnknownDocument(e,t){return new Ch(e,3,t,cd.min(),cd.min(),Eh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(cd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Eh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Eh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ch&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ch(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class kh{constructor(e,t){this.position=e,this.inclusive=t}}function jh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?pd.comparator(pd.fromName(a.referenceValue),n.key):uh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Sh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!lh(e.position[n],t.position[n]))return!1;return!0}class Ih{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Nh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class _h{}class Th extends _h{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Fh(e,t,n):"array-contains"===t?new Qh(e,n):"in"===t?new Hh(e,n):"not-in"===t?new Wh(e,n):"array-contains-any"===t?new qh(e,n):new Th(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bh(e,n):new zh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(uh(t,this.value)):null!==t&&oh(this.value)===oh(t)&&this.matchesComparison(uh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rh extends _h{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Rh(e,t)}matches(e){return Oh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Oh(e){return"and"===e.op}function Dh(e){return Ph(e)&&Oh(e)}function Ph(e){for(const t of e.filters)if(t instanceof Rh)return!1;return!0}function Lh(e){if(e instanceof Th)return e.field.canonicalString()+e.op.toString()+hh(e.value);if(Dh(e))return e.filters.map((e=>Lh(e))).join(",");{const t=e.filters.map((e=>Lh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Mh(e,t){return e instanceof Th?function(e,t){return t instanceof Th&&e.op===t.op&&e.field.isEqual(t.field)&&lh(e.value,t.value)}(e,t):e instanceof Rh?function(e,t){return t instanceof Rh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Mh(n,t.filters[r])),!0)}(e,t):void Hu()}function Uh(e){return e instanceof Th?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(hh(e.value))}(e):e instanceof Rh?function(e){return e.op.toString()+" {"+e.getFilters().map(Uh).join(" ,")+"}"}(e):"Filter"}class Fh extends Th{constructor(e,t,n){super(e,t,n),this.key=pd.fromName(n.referenceValue)}matches(e){const t=pd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bh extends Th{constructor(e,t){super(e,"in",t),this.keys=Vh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zh extends Th{constructor(e,t){super(e,"not-in",t),this.keys=Vh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Vh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>pd.fromName(e.referenceValue)))}class Qh extends Th{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gh(t)&&ch(t.arrayValue,this.value)}}class Hh extends Th{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ch(this.value.arrayValue,t)}}class Wh extends Th{constructor(e,t){super(e,"not-in",t)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ch(this.value.arrayValue,t)}}class qh extends Th{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ch(this.value.arrayValue,e)))}}class Kh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function Gh(e){return new Kh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xh(e){const t=qu(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Lh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Dd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>hh(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>hh(e))).join(",")),t.ce=e}return t.ce}function Yh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Nh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Mh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sh(e.startAt,t.startAt)&&Sh(e.endAt,t.endAt)}function Jh(e){return pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Zh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function $h(e,t,n,r,i,s,a,o){return new Zh(e,t,n,r,i,s,a,o)}function ef(e){return new Zh(e)}function tf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nf(e){return null!==e.collectionGroup}function rf(e){const t=qu(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new qd(fd.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Ih(r,n))})),e.has(fd.keyField().canonicalString())||t.le.push(new Ih(fd.keyField(),n))}return t.le}function sf(e){const t=qu(e);return t.he||(t.he=af(t,rf(e))),t.he}function af(e,t){if("F"===e.limitType)return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ih(e.field,t)}));const n=e.endAt?new kh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new kh(e.startAt.position,e.startAt.inclusive):null;return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function of(e,t){const n=e.filters.concat([t]);return new Zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lf(e,t,n){return new Zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cf(e,t){return Yh(sf(e),sf(t))&&e.limitType===t.limitType}function uf(e){return"".concat(Xh(sf(e)),"|lt:").concat(e.limitType)}function df(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Uh(e))).join(", "),"]")),Dd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>hh(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>hh(e))).join(",")),"Target(".concat(t,")")}(sf(e)),"; limitType=").concat(e.limitType,")")}function hf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of rf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rf(e),t))&&!(e.endAt&&!function(e,t,n){const r=jh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rf(e),t))}(e,t)}function ff(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pf(e){return(t,n)=>{let r=!1;for(const i of rf(e)){const e=mf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mf(e,t,n){const r=e.field.isKeyField()?pd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?uh(r,i):Hu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hu()}}class gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Vd(this.inner)}size(){return this.innerSize}}const vf=new Qd(pd.comparator);function yf(){return vf}const wf=new Qd(pd.comparator);function bf(){let e=wf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function xf(e){let t=wf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ef(){return Cf()}function Af(){return Cf()}function Cf(){return new gf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const kf=new Qd(pd.comparator),jf=new qd(pd.comparator);function Sf(){let e=jf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const If=new qd(ad);function Nf(){return If}function _f(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(t)?"-0":t}}function Tf(e){return{integerValue:""+e}}function Rf(e,t){return Ld(t)?Tf(t):_f(e,t)}class Of{constructor(){this._=void 0}}function Df(e,t,n){return e instanceof Mf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&th(t)&&(t=nh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uf?Ff(e,t):e instanceof Bf?zf(e,t):function(e,t){const n=Lf(e,t),r=Qf(n)+Qf(e.Ie);return mh(n)&&mh(e.Ie)?Tf(r):_f(e.serializer,r)}(e,t)}function Pf(e,t,n){return e instanceof Uf?Ff(e,t):e instanceof Bf?zf(e,t):n}function Lf(e,t){return e instanceof Vf?function(e){return mh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Mf extends Of{}class Uf extends Of{constructor(e){super(),this.elements=e}}function Ff(e,t){const n=Hf(t);for(const r of e.elements)n.some((e=>lh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bf extends Of{constructor(e){super(),this.elements=e}}function zf(e,t){let n=Hf(t);for(const r of e.elements)n=n.filter((e=>!lh(e,r)));return{arrayValue:{values:n}}}class Vf extends Of{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Qf(e){return $d(e.integerValue||e.doubleValue)}function Hf(e){return gh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Wf{constructor(e,t){this.field=e,this.transform=t}}class qf{constructor(e,t){this.version=e,this.transformResults=t}}class Kf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kf}static exists(e){return new Kf(void 0,e)}static updateTime(e){return new Kf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Xf{}function Yf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ap(e.key,Kf.none()):new tp(e.key,e.data,Kf.none());{const n=e.data,r=Eh.empty();let i=new qd(fd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new np(e.key,r,new Gd(i.toArray()),Kf.none())}}function Jf(e,t,n){e instanceof tp?function(e,t,n){const r=e.value.clone(),i=ip(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof np?function(e,t,n){if(!Gf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ip(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zf(e,t,n,r){return e instanceof tp?function(e,t,n,r){if(!Gf(e.precondition,t))return n;const i=e.value.clone(),s=sp(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof np?function(e,t,n,r){if(!Gf(e.precondition,t))return n;const i=sp(e.fieldTransforms,r,t),s=t.data;return s.setAll(rp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Gf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function $f(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Lf(r.transform,e||null);null!=i&&(null===n&&(n=Eh.empty()),n.set(r.field,i))}return n||null}function ep(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&od(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uf&&t instanceof Uf||e instanceof Bf&&t instanceof Bf?od(e.elements,t.elements,lh):e instanceof Vf&&t instanceof Vf?lh(e.Ie,t.Ie):e instanceof Mf&&t instanceof Mf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tp extends Xf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class np extends Xf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ip(e,t,n){const r=new Map;Wu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Pf(a,o,n[i]))}return r}function sp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Df(e,s,t))}return r}class ap extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class op extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Jf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Af();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Yf(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(cd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Sf())}isEqual(e){return this.batchId===e.batchId&&od(this.mutations,e.mutations,((e,t)=>ep(e,t)))&&od(this.baseMutations,e.baseMutations,((e,t)=>ep(e,t)))}}class cp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wu(e.mutations.length===n.length);let r=kf;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new cp(e,t,n,r)}}class up{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class dp{constructor(e,t){this.count=e,this.unchangedNames=t}}var hp,fp;function pp(e){switch(e){default:return Hu();case Ku.CANCELLED:case Ku.UNKNOWN:case Ku.DEADLINE_EXCEEDED:case Ku.RESOURCE_EXHAUSTED:case Ku.INTERNAL:case Ku.UNAVAILABLE:case Ku.UNAUTHENTICATED:return!1;case Ku.INVALID_ARGUMENT:case Ku.NOT_FOUND:case Ku.ALREADY_EXISTS:case Ku.PERMISSION_DENIED:case Ku.FAILED_PRECONDITION:case Ku.ABORTED:case Ku.OUT_OF_RANGE:case Ku.UNIMPLEMENTED:case Ku.DATA_LOSS:return!0}}function mp(e){if(void 0===e)return zu("GRPC error has no .code"),Ku.UNKNOWN;switch(e){case hp.OK:return Ku.OK;case hp.CANCELLED:return Ku.CANCELLED;case hp.UNKNOWN:return Ku.UNKNOWN;case hp.DEADLINE_EXCEEDED:return Ku.DEADLINE_EXCEEDED;case hp.RESOURCE_EXHAUSTED:return Ku.RESOURCE_EXHAUSTED;case hp.INTERNAL:return Ku.INTERNAL;case hp.UNAVAILABLE:return Ku.UNAVAILABLE;case hp.UNAUTHENTICATED:return Ku.UNAUTHENTICATED;case hp.INVALID_ARGUMENT:return Ku.INVALID_ARGUMENT;case hp.NOT_FOUND:return Ku.NOT_FOUND;case hp.ALREADY_EXISTS:return Ku.ALREADY_EXISTS;case hp.PERMISSION_DENIED:return Ku.PERMISSION_DENIED;case hp.FAILED_PRECONDITION:return Ku.FAILED_PRECONDITION;case hp.ABORTED:return Ku.ABORTED;case hp.OUT_OF_RANGE:return Ku.OUT_OF_RANGE;case hp.UNIMPLEMENTED:return Ku.UNIMPLEMENTED;case hp.DATA_LOSS:return Ku.DATA_LOSS;default:return Hu()}}(fp=hp||(hp={}))[fp.OK=0]="OK",fp[fp.CANCELLED=1]="CANCELLED",fp[fp.UNKNOWN=2]="UNKNOWN",fp[fp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fp[fp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fp[fp.NOT_FOUND=5]="NOT_FOUND",fp[fp.ALREADY_EXISTS=6]="ALREADY_EXISTS",fp[fp.PERMISSION_DENIED=7]="PERMISSION_DENIED",fp[fp.UNAUTHENTICATED=16]="UNAUTHENTICATED",fp[fp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fp[fp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fp[fp.ABORTED=10]="ABORTED",fp[fp.OUT_OF_RANGE=11]="OUT_OF_RANGE",fp[fp.UNIMPLEMENTED=12]="UNIMPLEMENTED",fp[fp.INTERNAL=13]="INTERNAL",fp[fp.UNAVAILABLE=14]="UNAVAILABLE",fp[fp.DATA_LOSS=15]="DATA_LOSS";let gp=null;function vp(){return new TextEncoder}const yp=new Du([4294967295,4294967295],0);function wp(e){const t=vp().encode(e),n=new Ou;return n.update(t),new Uint8Array(n.digest())}function bp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Du([n,r],0),new Du([i,s],0)]}class xp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ep("Invalid padding: ".concat(t));if(n<0)throw new Ep("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ep("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ep("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Du.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Du.fromNumber(n)));return 1===r.compare(yp)&&(r=new Du([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=wp(e),[n,r]=bp(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new xp(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=wp(e),[n,r]=bp(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ep extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ap{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ap(cd.min(),r,new Qd(ad),yf(),Sf())}}class Cp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cp(n,t,Sf(),Sf(),Sf())}}class kp{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class jp{constructor(e,t){this.targetId=e,this.fe=t}}class Sp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ip{constructor(){this.ge=0,this.pe=Tp(),this.ye=Yd.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Sf(),t=Sf(),n=Sf();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hu()}})),new Cp(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Tp()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Wu(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Np{constructor(e){this.Le=e,this.ke=new Map,this.qe=yf(),this.Qe=_p(),this.Ke=new Qd(ad)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Hu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Jh(i))if(0===n){const e=new pd(i.path);this.We(t,e,Ch.newNoDocument(e,cd.min()))}else Wu(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==gp||gp.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=eh(n).toUint8Array()}catch(e){if(e instanceof Xd)return Vu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new xp(s,r,i)}catch(e){return Vu(e instanceof Ep?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Jh(i.target)){const t=new pd(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Ch.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Sf();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Ap(e,t,this.Ke,this.qe,n);return this.qe=yf(),this.Qe=_p(),this.Ke=new Qd(ad),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ip,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new qd(ad),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Bu("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ip),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _p(){return new Qd(pd.comparator)}function Tp(){return new Qd(pd.comparator)}const Rp={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dp={and:"AND",or:"OR"};class Pp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lp(e,t){return e.useProto3Json||Dd(t)?t:{value:t}}function Mp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Up(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fp(e,t){return Mp(e,t.toTimestamp())}function Bp(e){return Wu(!!e),cd.fromTimestamp(function(e){const t=Zd(e);return new ld(t.seconds,t.nanos)}(e))}function zp(e,t){return Vp(e,t).canonicalString()}function Vp(e,t){const n=function(e){return new dd(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Qp(e){const t=dd.fromString(e);return Wu(cm(t)),t}function Hp(e,t){return zp(e.databaseId,t.path)}function Wp(e,t){const n=Qp(t);if(n.get(1)!==e.databaseId.projectId)throw new Gu(Ku.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gu(Ku.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pd(Xp(n))}function qp(e,t){return zp(e.databaseId,t)}function Kp(e){const t=Qp(e);return 4===t.length?dd.emptyPath():Xp(t)}function Gp(e){return new dd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xp(e){return Wu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yp(e,t,n){return{name:Hp(e,t),fields:n.value.mapValue.fields}}function Jp(e,t){let n;if(t instanceof tp)n={update:Yp(e,t.key,t.value)};else if(t instanceof ap)n={delete:Hp(e,t.key)};else if(t instanceof np)n={update:Yp(e,t.key,t.data),updateMask:lm(t.fieldMask)};else{if(!(t instanceof op))return Hu();n={verify:Hp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Mf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vf)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Hu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hu()}(e,t.precondition)),n}function Zp(e,t){return{documents:[qp(e,t.path)]}}function $p(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qp(e,i);const s=function(e){if(0!==e.length)return om(Rh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sm(e.field),direction:nm(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Lp(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function em(e){let t=Kp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=tm(e);return t instanceof Rh&&Dh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Ih(am(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Dd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new kh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new kh(n,t)}(n.endAt)),$h(t,i,a,s,o,"F",l,c)}function tm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=am(e.unaryFilter.field);return Th.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=am(e.unaryFilter.field);return Th.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=am(e.unaryFilter.field);return Th.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=am(e.unaryFilter.field);return Th.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hu()}}(e):void 0!==e.fieldFilter?function(e){return Th.create(am(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Rh.create(e.compositeFilter.filters.map((e=>tm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Hu()}}(e.compositeFilter.op))}(e):Hu()}function nm(e){return Rp[e]}function rm(e){return Op[e]}function im(e){return Dp[e]}function sm(e){return{fieldPath:e.canonicalString()}}function am(e){return fd.fromServerFormat(e.fieldPath)}function om(e){return e instanceof Th?function(e){if("=="===e.op){if(yh(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NAN"}};if(vh(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yh(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NOT_NAN"}};if(vh(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sm(e.field),op:rm(e.op),value:e.value}}}(e):e instanceof Rh?function(e){const t=e.getFilters().map((e=>om(e)));return 1===t.length?t[0]:{compositeFilter:{op:im(e.op),filters:t}}}(e):Hu()}function lm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function cm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class um{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cd.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yd.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new um(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new um(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new um(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new um(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dm{constructor(e){this.ct=e}}function hm(e){const t=em({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lf(t,t.limit,"L"):t}class fm{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt($d(e.integerValue));else if("doubleValue"in e){const n=$d(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Pd(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(eh(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?xh(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Hu()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),pd.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}fm.bt=new fm;class pm{constructor(){this._n=new mm}addToCollectionParentIndex(e,t){return this._n.add(t),Ad.resolve()}getCollectionParents(e,t){return Ad.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Ad.resolve()}deleteFieldIndex(e,t){return Ad.resolve()}deleteAllFieldIndexes(e){return Ad.resolve()}createTargetIndexes(e,t){return Ad.resolve()}getDocumentsMatchingTarget(e,t){return Ad.resolve(null)}getIndexType(e,t){return Ad.resolve(0)}getFieldIndexes(e,t){return Ad.resolve([])}getNextCollectionGroupToUpdate(e){return Ad.resolve(null)}getMinOffset(e,t){return Ad.resolve(yd.min())}getMinOffsetFromCollectionGroup(e,t){return Ad.resolve(yd.min())}updateCollectionGroup(e,t,n){return Ad.resolve()}updateIndexEntries(e,t){return Ad.resolve()}}class mm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qd(dd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new qd(dd.comparator)).toArray()}}new Uint8Array(0);class gm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new gm(e,gm.DEFAULT_COLLECTION_PERCENTILE,gm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gm.DEFAULT_COLLECTION_PERCENTILE=10,gm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gm.DEFAULT=new gm(41943040,gm.DEFAULT_COLLECTION_PERCENTILE,gm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gm.DISABLED=new gm(-1,0,0);class vm{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vm(0)}static Bn(){return new vm(-1)}}class ym{constructor(){this.changes=new gf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ch.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ad.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Zf(n.mutation,e,Gd.empty(),ld.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Sf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sf();const r=Ef();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=bf();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ef();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Sf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=yf();const s=Cf(),a=Cf();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof np)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Zf(a.mutation,t,a.mutation.getFieldMask(),ld.now())):s.set(t.key,Gd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new wm(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Cf();let r=new Qd(((e,t)=>e-t)),i=Sf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Gd.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Sf()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Af();l.forEach((e=>{if(!i.has(e)){const r=Yf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ad.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ad.resolve(Ef());let a=-1,o=i;return s.next((t=>Ad.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ad.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Sf()))).next((e=>({batchId:a,changes:xf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pd(t)).next((e=>{let t=bf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=bf();return this.indexManager.getCollectionParents(e,i).next((a=>Ad.forEach(a,(a=>{const o=function(e,t){return new Zh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ch.newInvalidDocument(r)))}));let n=bf();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Zf(s.mutation,r,Gd.empty(),ld.now()),hf(t,r)&&(n=n.insert(e,r))})),n}))}}class xm{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Ad.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bp(e.createTime)}}(t)),Ad.resolve()}getNamedQuery(e,t){return Ad.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:hm(e.bundledQuery),readTime:Bp(e.readTime)}}(t)),Ad.resolve()}}class Em{constructor(){this.overlays=new Qd(pd.comparator),this.hr=new Map}getOverlay(e,t){return Ad.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ef();return Ad.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Ad.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Ad.resolve()}getOverlaysForCollection(e,t,n){const r=Ef(),i=t.length+1,s=new pd(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ad.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Qd(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ef(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ef(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Ad.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new up(t,n));let i=this.hr.get(t);void 0===i&&(i=Sf(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Am{constructor(){this.Pr=new qd(Cm.Ir),this.Tr=new qd(Cm.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Cm(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Cm(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new pd(new dd([])),n=new Cm(t,e),r=new Cm(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new pd(new dd([])),n=new Cm(t,e),r=new Cm(t,e+1);let i=Sf();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Cm(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Cm{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return pd.comparator(e.key,t.key)||ad(e.pr,t.pr)}static Er(e,t){return ad(e.pr,t.pr)||pd.comparator(e.key,t.key)}}class km{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new qd(Cm.Ir)}checkEmpty(e){return Ad.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new lp(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Cm(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ad.resolve(s)}lookupMutationBatch(e,t){return Ad.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Ad.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ad.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ad.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Cm(t,0),r=new Cm(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Ad.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qd(ad);return t.forEach((e=>{const t=new Cm(e,0),r=new Cm(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Ad.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pd.isDocumentKey(i)||(i=i.child(""));const s=new Cm(new pd(i),0);let a=new qd(ad);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),Ad.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Wu(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Ad.forEach(t.mutations,(r=>{const i=new Cm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Cm(t,0),r=this.wr.firstAfterOrEqual(n);return Ad.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ad.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jm{constructor(e){this.vr=e,this.docs=new Qd(pd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ad.resolve(n?n.document.mutableCopy():Ch.newInvalidDocument(t))}getEntries(e,t){let n=yf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ch.newInvalidDocument(e))})),Ad.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=yf();const s=t.path,a=new pd(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||wd(vd(a),n)<=0||(r.has(a.key)||hf(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ad.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Hu()}Fr(e,t){return Ad.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Sm(this)}getSize(e){return Ad.resolve(this.size)}}class Sm extends ym{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Ad.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Im{constructor(e){this.persistence=e,this.Mr=new gf((e=>Xh(e)),Yh),this.lastRemoteSnapshotVersion=cd.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Am,this.targetCount=0,this.Br=vm.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Ad.resolve()}getLastRemoteSnapshotVersion(e){return Ad.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ad.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Ad.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Ad.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new vm(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Ad.resolve()}updateTargetData(e,t){return this.qn(t),Ad.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Ad.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Ad.waitFor(i).next((()=>r))}getTargetCount(e){return Ad.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Ad.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Ad.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ad.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Ad.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Ad.resolve(n)}containsKey(e,t){return Ad.resolve(this.Nr.containsKey(t))}}class Nm{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Od(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Im(this),this.indexManager=new pm,this.remoteDocumentCache=function(e){return new jm(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new dm(t),this.$r=new xm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new km(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Bu("MemoryPersistence","Starting transaction:",e);const r=new _m(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Ad.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class _m extends xd{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.zr=new Am,this.jr=null}static Hr(e){return new Tm(e)}get Jr(){if(this.jr)return this.jr;throw Hu()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Ad.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Ad.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Ad.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ad.forEach(this.Jr,(n=>{const r=pd.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,cd.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Ad.or([()=>Ad.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Rm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Sf(),r=Sf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Rm(e,t.fromCache,n,r)}}class Om{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dm{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=ts()?8:kd.v(es())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Om;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Fu()<=ws.DEBUG&&Bu("QueryEngine","SDK will not create cache indexes for query:",df(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ad.resolve()):(Fu()<=ws.DEBUG&&Bu("QueryEngine","Query:",df(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Fu()<=ws.DEBUG&&Bu("QueryEngine","The SDK decides to create cache indexes for query:",df(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sf(t))):Ad.resolve())}ji(e,t){if(tf(t))return Ad.resolve(null);let n=sf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=lf(t,null,"F"),n=sf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Sf(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,lf(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return tf(t)||r.isEqual(cd.min())?Ad.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Ad.resolve(null):(Fu()<=ws.DEBUG&&Bu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),df(t)),this.es(e,s,t,gd(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new qd(pf(e));return t.forEach(((t,r)=>{hf(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Fu()<=ws.DEBUG&&Bu("QueryEngine","Using full collection scan to execute query:",df(t)),this.zi.getDocumentsMatchingQuery(e,t,yd.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Pm{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Qd(ad),this.rs=new gf((e=>Xh(e)),Yh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Lm(e,t,n,r){return new Pm(e,t,n,r)}async function Mm(e,t){const n=qu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Sf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Um(e){const t=qu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Fm(e,t,n){let r=Sf(),i=Sf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=yf();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(cd.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Bu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Bm(e,t){const n=qu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function zm(e,t){const n=qu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Ad.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new um(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Vm(e,t,n){const r=qu(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Id(e))throw e;Bu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Qm(e,t,n){const r=qu(e);let i=cd.min(),s=Sf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=qu(e),i=r.rs.get(n);return void 0!==i?Ad.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,sf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:cd.min(),n?s:Sf()))).next((e=>(Hm(r,ff(t),e),{documents:e,hs:s})))))}function Hm(e,t,n){let r=e.ss.get(t)||cd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Wm{constructor(){this.activeTargetIds=Nf()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qm{constructor(){this.no=new Wm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Km{io(e){}shutdown(){}}class Gm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Bu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Bu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xm=null;function Ym(){return null===Xm?Xm=268435456+Math.round(2147483648*Math.random()):Xm++,"0x"+Xm.toString(16)}const Jm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zm{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const $m="WebChannelConnection";class eg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Ym(),a=this.bo(e,t.toUriEncodedString());Bu("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(Bu("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Vu("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Jm[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Ym();return new Promise(((s,a)=>{const o=new Ru;o.setWithCredentials(!0),o.listenOnce(Iu.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Su.NO_ERROR:const t=o.getResponseJson();Bu($m,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Su.TIMEOUT:Bu($m,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Gu(Ku.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:const n=o.getStatus();if(Bu($m,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ku).indexOf(t)>=0?t:Ku.UNKNOWN}(t.status);a(new Gu(e,t.message))}else a(new Gu(Ku.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Gu(Ku.UNAVAILABLE,"Connection failed."));break;default:Hu()}}finally{Bu($m,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Bu($m,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Ym(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ku(),a=ju(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Bu($m,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Zm({lo:t=>{h?Bu($m,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Bu($m,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Bu($m,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Tu.EventType.OPEN,(()=>{h||Bu($m,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Tu.EventType.CLOSE,(()=>{h||(h=!0,Bu($m,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Tu.EventType.ERROR,(t=>{h||(h=!0,Vu($m,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Gu(Ku.UNAVAILABLE,"The operation could not be completed")))})),p(u,Tu.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Wu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Bu($m,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=hp[e];if(void 0!==t)return mp(t)}(t),i=a.message;void 0===n&&(n=Ku.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Vo(new Gu(n,i)),u.close()}else Bu($m,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Nu.STAT_EVENT,(t=>{t.stat===_u.PROXY?Bu($m,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===_u.NOPROXY&&Bu($m,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function tg(){return"undefined"!=typeof document?document:null}function ng(e){return new Pp(e,!0)}class rg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Bu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class ig{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new rg(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Ku.RESOURCE_EXHAUSTED?(zu(t.toString()),zu("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Ku.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Gu(Ku.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Bu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Bu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sg extends ig{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Wu(void 0===t||"string"==typeof t),Yd.fromBase64String(t||"")):(Wu(void 0===t||t instanceof Uint8Array),Yd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ku.UNKNOWN:mp(e.code);return new Gu(t,e.message||"")}(a);n=new Sp(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wp(e,r.document.name),s=Bp(r.document.updateTime),a=r.document.createTime?Bp(r.document.createTime):cd.min(),o=new Eh({mapValue:{fields:r.document.fields}}),l=Ch.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new kp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wp(e,r.document),s=r.readTime?Bp(r.readTime):cd.min(),a=Ch.newNoDocument(i,s),o=r.removedTargetIds||[];n=new kp([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wp(e,r.document),s=r.removedTargetIds||[];n=new kp([],s,i,null)}else{if(!("filter"in t))return Hu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new dp(r,i),a=e.targetId;n=new jp(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return cd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?cd.min():t.readTime?Bp(t.readTime):cd.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Gp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jh(r)?{documents:Zp(e,r)}:{query:$p(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Up(e,t.resumeToken);const r=Lp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(cd.min())>0){n.readTime=Mp(e,t.snapshotVersion.toTimestamp());const r=Lp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Hu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Gp(this.serializer),t.removeTarget=e,this.t_(t)}}class ag extends ig{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Wu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Wu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Bp(e.updateTime):Bp(t);return n.isEqual(cd.min())&&(n=Bp(t)),new qf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Bp(e.commitTime);return this.listener.T_(n,t)}return Wu(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Gp(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Jp(this.serializer,e)))};this.t_(t)}}class og extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Gu(Ku.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Vp(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ku.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gu(Ku.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,Vp(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ku.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gu(Ku.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class lg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(zu(t),this.g_=!1):Bu("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class cg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{yg(this)&&(Bu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=qu(e);t.v_.add(4),await dg(t),t.x_.set("Unknown"),t.v_.delete(4),await ug(t)}(this))}))})),this.x_=new lg(n,r)}}async function ug(e){if(yg(e))for(const t of e.F_)await t(!0)}async function dg(e){for(const t of e.F_)await t(!1)}function hg(e,t){const n=qu(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),vg(n)?gg(n):Lg(n).Jo()&&pg(n,t))}function fg(e,t){const n=qu(e),r=Lg(n);n.C_.delete(t),r.Jo()&&mg(n,t),0===n.C_.size&&(r.Jo()?r.Xo():yg(n)&&n.x_.set("Unknown"))}function pg(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(cd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Lg(e).c_(t)}function mg(e,t){e.O_.Oe(t),Lg(e).l_(t)}function gg(e){e.O_=new Np({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Lg(e).start(),e.x_.p_()}function vg(e){return yg(e)&&!Lg(e).Ho()&&e.C_.size>0}function yg(e){return 0===qu(e).v_.size}function wg(e){e.O_=void 0}async function bg(e){e.C_.forEach(((t,n)=>{pg(e,t)}))}async function xg(e,t){wg(e),vg(e)?(e.x_.S_(t),gg(e)):e.x_.set("Unknown")}async function Eg(e,t,n){if(e.x_.set("Online"),t instanceof Sp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Bu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ag(e,n)}else if(t instanceof kp?e.O_.$e(t):t instanceof jp?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(cd.min()))try{const t=await Um(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Yd.EMPTY_BYTE_STRING,r.snapshotVersion)),mg(e,t);const i=new um(r.target,t,n,r.sequenceNumber);pg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Bu("RemoteStore","Failed to raise snapshot:",t),await Ag(e,t)}}async function Ag(e,t,n){if(!Id(t))throw t;e.v_.add(1),await dg(e),e.x_.set("Offline"),n||(n=()=>Um(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Bu("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await ug(e)}))}function Cg(e,t){return t().catch((n=>Ag(e,n,t)))}async function kg(e){const t=qu(e),n=Mg(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;jg(t);)try{const e=await Bm(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Sg(t,e)}catch(e){await Ag(t,e)}Ig(t)&&Ng(t)}function jg(e){return yg(e)&&e.D_.length<10}function Sg(e,t){e.D_.push(t);const n=Mg(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Ig(e){return yg(e)&&!Mg(e).Ho()&&e.D_.length>0}function Ng(e){Mg(e).start()}async function _g(e){Mg(e).d_()}async function Tg(e){const t=Mg(e);for(const n of e.D_)t.I_(n.mutations)}async function Rg(e,t,n){const r=e.D_.shift(),i=cp.from(r,t,n);await Cg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await kg(e)}async function Og(e,t){t&&Mg(e).P_&&await async function(e,t){if(function(e){return pp(e)&&e!==Ku.ABORTED}(t.code)){const n=e.D_.shift();Mg(e).Zo(),await Cg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await kg(e)}}(e,t),Ig(e)&&Ng(e)}async function Dg(e,t){const n=qu(e);n.asyncQueue.verifyOperationInProgress(),Bu("RemoteStore","RemoteStore received new credentials");const r=yg(n);n.v_.add(3),await dg(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await ug(n)}async function Pg(e,t){const n=qu(e);t?(n.v_.delete(2),await ug(n)):t||(n.v_.add(2),await dg(n),n.x_.set("Unknown"))}function Lg(e){return e.N_||(e.N_=function(e,t,n){const r=qu(e);return r.R_(),new sg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:bg.bind(null,e),To:xg.bind(null,e),u_:Eg.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),vg(e)?gg(e):e.x_.set("Unknown")):(await e.N_.stop(),wg(e))}))),e.N_}function Mg(e){return e.B_||(e.B_=function(e,t,n){const r=qu(e);return r.R_(),new ag(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:_g.bind(null,e),To:Og.bind(null,e),E_:Tg.bind(null,e),T_:Rg.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await kg(e)):(await e.B_.stop(),e.D_.length>0&&(Bu("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Ug{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Ug(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gu(Ku.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(e,t){if(zu("AsyncQueue","".concat(t,": ").concat(e)),Id(e))return new Gu(Ku.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Bg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||pd.comparator(t.key,n.key):(e,t)=>pd.comparator(e.key,t.key),this.keyedMap=bf(),this.sortedSet=new Qd(this.comparator)}static emptySet(e){return new Bg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class zg{constructor(){this.L_=new Qd(pd.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Hu():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Vg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Vg(e,t,Bg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qg{constructor(){this.q_=void 0,this.Q_=[]}}class Hg{constructor(){this.queries=new gf((e=>uf(e)),cf),this.onlineState="Unknown",this.K_=new Set}}async function Wg(e,t){const n=qu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Qg),i)try{s.q_=await n.onListen(r)}catch(e){const n=Fg(e,"Initialization of query '".concat(df(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&Xg(n)}async function qg(e,t){const n=qu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Kg(e,t){const n=qu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Xg(n)}function Gg(e,t,n){const r=qu(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Xg(e){e.K_.forEach((e=>{e.next()}))}class Yg{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Vg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Vg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Jg{constructor(e){this.key=e}}class Zg{constructor(e){this.key=e}}class $g{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Sf(),this.mutatedKeys=Sf(),this.ua=pf(e),this.ca=new Bg(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new zg,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=hf(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ua(u,o)>0||l&&this.ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hu()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==s.length||l?{snapshot:new Vg(this.query,e.ca,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new zg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Sf(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Zg(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new Jg(n))})),t}Ra(e){this.oa=e.hs,this.aa=Sf();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Vg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class ev{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tv{constructor(e){this.key=e,this.ma=!1}}class nv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new gf((e=>uf(e)),cf),this.pa=new Map,this.ya=new Set,this.wa=new Qd(pd.comparator),this.Sa=new Map,this.ba=new Am,this.Da={},this.Ca=new Map,this.va=vm.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function rv(e,t){const n=xv(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await zm(n.localStore,sf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await iv(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&hg(n.remoteStore,e)}return i}async function iv(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Qm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return mv(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const s=await Qm(e.localStore,t,!0),a=new $g(t,s.hs),o=a.ha(s.documents),l=Cp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);mv(e,n,c.da);const u=new ev(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function sv(e,t){const n=qu(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!cf(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),fg(n.remoteStore,r.targetId),fv(n,r.targetId)})).catch(Ed)):(fv(n,r.targetId),await Vm(n.localStore,r.targetId,!0))}async function av(e,t){const n=qu(e);try{const e=await function(e,t){const n=qu(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Yd.EMPTY_BYTE_STRING,cd.min()).withLastLimboFreeSnapshotVersion(cd.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=yf(),l=Sf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Fm(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(cd.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Ad.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Wu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Wu(r.ma):e.removedDocuments.size>0&&(Wu(r.ma),r.ma=!1))})),await yv(n,e,t)}catch(e){await Ed(e)}}function ov(e,t,n){const r=qu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=qu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Xg(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lv(e,t,n){const r=qu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Qd(pd.comparator);e=e.insert(s,Ch.newNoDocument(s,cd.min()));const n=Sf().add(s),i=new Ap(cd.min(),new Map,new Qd(ad),e,n);await av(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),vv(r)}else await Vm(r.localStore,t,!1).then((()=>fv(r,t,n))).catch(Ed)}async function cv(e,t){const n=qu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=qu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Ad.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Wu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Sf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);hv(n,r,null),dv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yv(n,e)}catch(e){await Ed(e)}}async function uv(e,t,n){const r=qu(e);try{const e=await function(e,t){const n=qu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Wu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);hv(r,t,n),dv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await yv(r,e)}catch(n){await Ed(n)}}function dv(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function hv(e,t,n){const r=qu(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function fv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||pv(e,t)}))}function pv(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(fg(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),vv(e))}function mv(e,t,n){for(const r of n)r instanceof Jg?(e.ba.addReference(r.key,t),gv(e,r)):r instanceof Zg?(Bu("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||pv(e,r.key)):Hu()}function gv(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Bu("SyncEngine","New document in limbo: "+n),e.ya.add(r),vv(e))}function vv(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new pd(dd.fromString(t)),r=e.va.next();e.Sa.set(r,new tv(n)),e.wa=e.wa.insert(n,r),hg(e.remoteStore,new um(sf(ef(n.path)),r,"TargetPurposeLimboResolution",Od._e))}}async function yv(e,t,n){const r=qu(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Rm.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=qu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ad.forEach(t,(t=>Ad.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ad.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Id(e))throw e;Bu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function wv(e,t){const n=qu(e);if(!n.currentUser.isEqual(t)){Bu("SyncEngine","User change. New user:",t.toKey());const e=await Mm(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Gu(Ku.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await yv(n,e.us)}}function bv(e,t){const n=qu(e),r=n.Sa.get(t);if(r&&r.ma)return Sf().add(r.key);{let e=Sf();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function xv(e){const t=qu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=av.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lv.bind(null,t),t.fa.u_=Kg.bind(null,t.eventManager),t.fa.xa=Gg.bind(null,t.eventManager),t}function Ev(e){const t=qu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uv.bind(null,t),t}class Av{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Lm(this.persistence,new Dm,e.initialUser,this.serializer)}createPersistence(e){return new Nm(Tm.Hr,this.serializer)}createSharedClientState(e){return new qm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Cv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ov(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=wv.bind(null,this.syncEngine),await Pg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Hg}createDatastore(e){const t=ng(e.databaseInfo.databaseId),n=function(e){return new eg(e)}(e.databaseInfo);return function(e,t,n,r){return new og(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new cg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ov(this.syncEngine,e,0)),Gm.D()?new Gm:new Km)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new nv(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=qu(e);Bu("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await dg(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):zu("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class jv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Lu.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Bu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Bu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gu(Ku.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(lS){const n=Fg(lS,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sv(e,t){e.asyncQueue.verifyOperationInProgress(),Bu("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Mm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Iv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _v(e);Bu("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Dg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Dg(t.remoteStore,n))),e._onlineComponents=t}function Nv(e){return"FirebaseError"===e.name?e.code===Ku.FAILED_PRECONDITION||e.code===Ku.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function _v(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Bu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sv(e,e._uninitializedComponentsProvider._offline)}catch(lS){const n=lS;if(!Nv(n))throw n;Vu("Error using user provided cache. Falling back to memory cache: "+n),await Sv(e,new Av)}}else Bu("FirestoreClient","Using default OfflineComponentProvider"),await Sv(e,new Av);return e._offlineComponents}async function Tv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Bu("FirestoreClient","Using user provided OnlineComponentProvider"),await Iv(e,e._uninitializedComponentsProvider._online)):(Bu("FirestoreClient","Using default OnlineComponentProvider"),await Iv(e,new Cv))),e._onlineComponents}function Rv(e){return Tv(e).then((e=>e.syncEngine))}async function Ov(e){const t=await Tv(e),n=t.eventManager;return n.onListen=rv.bind(null,t.syncEngine),n.onUnlisten=sv.bind(null,t.syncEngine),n}function Dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new kv({next:s=>{t.enqueueAndForget((()=>qg(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Gu(Ku.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Gu(Ku.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Yg(ef(n.path),s,{includeMetadataChanges:!0,Z_:!0});return Wg(e,a)}(await Ov(e),e.asyncQueue,t,n,r))),r.promise}function Pv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Xu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new kv({next:n=>{t.enqueueAndForget((()=>qg(e,a))),n.fromCache&&"server"===r.source?i.reject(new Gu(Ku.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Yg(n,s,{includeMetadataChanges:!0,Z_:!0});return Wg(e,a)}(await Ov(e),e.asyncQueue,t,n,r))),r.promise}function Lv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mv=new Map;function Uv(e,t,n){if(!n)throw new Gu(Ku.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fv(e){if(!pd.isDocumentKey(e))throw new Gu(Ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bv(e){if(pd.isDocumentKey(e))throw new Gu(Ku.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Hu()}function Vv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gu(Ku.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zv(e);throw new Gu(Ku.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Qv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Gu(Ku.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gu(Ku.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Gu(Ku.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gu(Ku.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Gu(Ku.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Gu(Ku.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gu(Ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gu(Ku.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ju;switch(e.type){case"firstParty":return new td(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gu(Ku.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mv.get(e);t&&(Bu("ComponentProvider","Removing Datastore"),Mv.delete(e),t.terminate())}(this),Promise.resolve()}}class Wv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wv(this.firestore,e,this._query)}}class qv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qv(this.firestore,e,this._key)}}class Kv extends Wv{constructor(e,t,n){super(e,t,ef(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qv(this.firestore,null,new pd(e))}withConverter(e){return new Kv(this.firestore,e,this._path)}}function Gv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fs(e),Uv("collection","path",t),e instanceof Hv){const n=dd.fromString(t,...r);return Bv(n),new Kv(e,null,n)}{if(!(e instanceof qv||e instanceof Kv))throw new Gu(Ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dd.fromString(t,...r));return Bv(n),new Kv(e.firestore,null,n)}}function Xv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fs(e),1===arguments.length&&(t=sd.newId()),Uv("doc","path",t),e instanceof Hv){const n=dd.fromString(t,...r);return Fv(n),new qv(e,null,new pd(n))}{if(!(e instanceof qv||e instanceof Kv))throw new Gu(Ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dd.fromString(t,...r));return Fv(n),new qv(e.firestore,e instanceof Kv?e.converter:null,new pd(n))}}class Yv{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new rg(this,"async_queue_retry"),this._u=()=>{const e=tg();e&&Bu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=tg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=tg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Xu;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(oS){if(!Id(oS))throw oS;Bu("AsyncQueue","Operation failed with retryable error: "+oS)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Ug.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&Hu()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Jv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Zv extends Hv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Yv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ey(this),this._firestoreClient.terminate()}}function $v(e){return e._firestoreClient||ey(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ey(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ih(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jv(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ty{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ty(Yd.fromBase64String(e))}catch(e){throw new Gu(Ku.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ty(Yd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ny{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Gu(Ku.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ry{constructor(e){this._methodName=e}}class iy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gu(Ku.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gu(Ku.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ad(this._lat,e._lat)||ad(this._long,e._long)}}const sy=/^__.*__$/;class ay{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new np(e,this.data,this.fieldMask,t,this.fieldTransforms):new tp(e,this.data,t,this.fieldTransforms)}}class oy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new np(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ly(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hu()}}class cy{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ky(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ly(this.du)&&sy.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class uy{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ng(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cy({du:e,methodName:t,wu:n,path:fd.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dy(e){const t=e._freezeSettings(),n=ng(e._databaseId);return new uy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);xy("Data must be an object, but it was:",a,r);const o=wy(r,a);let l,c;if(s.merge)l=new Gd(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ey(t,r,n);if(!a.contains(i))throw new Gu(Ku.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));jy(e,i)||e.push(i)}l=new Gd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new ay(new Eh(o),l,c)}class fy extends ry{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fy}}class py extends ry{_toFieldTransform(e){return new Wf(e.path,new Mf)}isEqual(e){return e instanceof py}}function my(e,t,n,r){const i=e.Su(1,t,n);xy("Data must be an object, but it was:",i,r);const s=[],a=Eh.empty();zd(r,((e,r)=>{const o=Cy(t,e,n);r=fs(r);const l=i.fu(o);if(r instanceof fy)s.push(o);else{const e=yy(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Gd(s);return new oy(a,o,i.fieldTransforms)}function gy(e,t,n,r,i,s){const a=e.Su(1,t,n),o=[Ey(t,r,n)],l=[i];if(s.length%2!=0)throw new Gu(Ku.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Ey(t,s[h])),l.push(s[h+1]);const c=[],u=Eh.empty();for(let h=o.length-1;h>=0;--h)if(!jy(c,o[h])){const e=o[h];let t=l[h];t=fs(t);const n=a.fu(e);if(t instanceof fy)c.push(e);else{const r=yy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Gd(c);return new oy(u,d,a.fieldTransforms)}function vy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yy(n,e.Su(r?4:3,t))}function yy(e,t){if(by(e=fs(e)))return xy("Unsupported field value:",t,e),wy(e,t);if(e instanceof ry)return function(e,t){if(!ly(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=yy(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=fs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ld.fromDate(e);return{timestampValue:Mp(t.serializer,n)}}if(e instanceof ld){const n=new ld(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mp(t.serializer,n)}}if(e instanceof iy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ty)return{bytesValue:Up(t.serializer,e._byteString)};if(e instanceof qv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:zp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(zv(e)))}(e,t)}function wy(e,t){const n={};return Vd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zd(e,((e,r)=>{const i=yy(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function by(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ld||e instanceof iy||e instanceof ty||e instanceof qv||e instanceof ry)}function xy(e,t,n){if(!by(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zv(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Ey(e,t,n){if((t=fs(t))instanceof ny)return t._internalPath;if("string"==typeof t)return Cy(e,t);throw ky("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ay=new RegExp("[~\\*/\\[\\]]");function Cy(e,t,n){if(t.search(Ay)>=0)throw ky("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ny(...t.split("."))._internalPath}catch(_a){throw ky("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ky(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Gu(Ku.INVALID_ARGUMENT,o+e+l)}function jy(e,t){return e.some((e=>e.isEqual(t)))}class Sy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ny("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Iy extends Sy{data(){return super.data()}}function Ny(e,t){return"string"==typeof t?Cy(e,t):t instanceof ny?t._internalPath:t._delegate._internalPath}function _y(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gu(Ku.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class Ry extends Ty{}function Oy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ty&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ly)).length,n=e.filter((e=>e instanceof Dy)).length;if(t>1||t>0&&n>0)throw new Gu(Ku.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Dy extends Ry{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Dy(e,t,n)}_apply(e){const t=this._parse(e);return Fy(e._query,t),new Wv(e.firestore,e.converter,of(e._query,t))}_parse(e){const t=dy(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Gu(Ku.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Uy(a,s);const t=[];for(const n of a)t.push(My(r,e,n));o={arrayValue:{values:t}}}else o=My(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Uy(a,s),o=vy(n,t,a,"in"===s||"not-in"===s);return Th.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Py(e,t,n){const r=t,i=Ny("where",e);return Dy._create(i,r,n)}class Ly extends Ty{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ly(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Rh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Fy(n,i),n=of(n,i)}(e._query,t),new Wv(e.firestore,e.converter,of(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function My(e,t,n){if("string"==typeof(n=fs(n))){if(""===n)throw new Gu(Ku.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nf(t)&&-1!==n.indexOf("/"))throw new Gu(Ku.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(dd.fromString(n));if(!pd.isDocumentKey(r))throw new Gu(Ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ph(e,new pd(r))}if(n instanceof qv)return ph(e,n._key);throw new Gu(Ku.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zv(n),"."))}function Uy(e,t){if(!Array.isArray(e)||0===e.length)throw new Gu(Ku.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Fy(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Gu(Ku.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gu(Ku.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class By{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(oh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $d(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new iy($d(e.latitude),$d(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){const t=Zd(e);return new ld(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dd.fromString(e);Wu(cm(n));const r=new sh(n.get(1),n.get(3)),i=new pd(n.popFirst(5));return r.isEqual(t)||zu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function zy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Vy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qy extends Sy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Hy extends Qy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Wy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Hy(this._firestore,this._userDataWriter,n.key,n,new Vy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gu(Ku.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Hy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Vy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Hy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:qy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hu()}}function Ky(e){e=Vv(e,qv);const t=Vv(e.firestore,Zv);return Dv($v(t),e._key).then((n=>tw(t,e,n)))}class Gy extends By{constructor(e){super(),this.firestore=e}convertBytes(e){return new ty(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qv(this.firestore,null,t)}}function Xy(e){e=Vv(e,Wv);const t=Vv(e.firestore,Zv),n=$v(t),r=new Gy(t);return _y(e._query),Pv(n,e._query).then((n=>new Wy(t,r,e,n)))}function Yy(e,t,n){e=Vv(e,qv);const r=Vv(e.firestore,Zv),i=dy(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=fs(t))||t instanceof ny?gy(i,"updateDoc",e._key,t,n,o):my(i,"updateDoc",e._key,t),ew(r,[s.toMutation(e._key,Kf.exists(!0))])}function Jy(e){return ew(Vv(e.firestore,Zv),[new ap(e._key,Kf.none())])}function Zy(e,t){const n=Vv(e.firestore,Zv),r=Xv(e),i=zy(e.converter,t);return ew(n,[hy(dy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Kf.exists(!1))]).then((()=>r))}function $y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=fs(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Jv(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Jv(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof qv)d=Vv(e.firestore,Zv),h=ef(e._key.path),u={next:t=>{n[l]&&n[l](tw(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Vv(e,Wv);d=Vv(t.firestore,Zv),h=t._query;const r=new Gy(d);u={next:e=>{n[l]&&n[l](new Wy(d,r,t,e))},error:n[l+1],complete:n[l+2]},_y(e._query)}return function(e,t,n,r){const i=new kv(r),s=new Yg(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Wg(await Ov(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>qg(await Ov(e),s)))}}($v(d),h,c,u)}function ew(e,t){return function(e,t){const n=new Xu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ev(e);try{const e=await function(e,t){const n=qu(e),r=ld.now(),i=t.reduce(((e,t)=>e.add(t.key)),Sf());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=yf(),l=Sf();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=$f(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new np(e.key,t,Ah(t.value.mapValue),Kf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:xf(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Qd(ad)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await yv(r,e.changes),await kg(r.remoteStore)}catch(e){const t=Fg(e,"Failed to persist write");n.reject(t)}}(await Rv(e),t,n))),n.promise}($v(e),t)}function tw(e,t,n){const r=n.docs.get(t._key),i=new Gy(e);return new Qy(e,i,t._key,r,new Vy(n.hasPendingWrites,n.fromCache),t.converter)}class nw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dy(e)}set(e,t,n){this._verifyNotCommitted();const r=rw(e,this._firestore),i=zy(r.converter,t,n),s=hy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Kf.none())),this}update(e,t,n){this._verifyNotCommitted();const r=rw(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=fs(t))||t instanceof ny?gy(this._dataReader,"WriteBatch.update",r._key,t,n,a):my(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Kf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rw(e,this._firestore);return this._mutations=this._mutations.concat(new ap(t._key,Kf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gu(Ku.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rw(e,t){if((e=fs(e)).firestore!==t)throw new Gu(Ku.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function iw(e){return $v(e=Vv(e,Zv)),new nw(e,(t=>ew(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Mu=e}(ta),Js(new ps("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Zv(new $u(e.getProvider("auth-internal")),new rd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gu(Ku.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),ia(Pu,"4.4.2",e),ia(Pu,"4.4.2","esm2017")}();ia("firebase","10.8.0","app");const sw="firebasestorage.googleapis.com",aw="storageBucket";class ow extends rs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(uw(e),"Firebase Storage: ".concat(t," (").concat(uw(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ow.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var lw,cw;function uw(e){return"storage/"+e}function dw(){return new ow(lw.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hw(){return new ow(lw.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fw(){return new ow(lw.CANCELED,"User canceled the upload/download.")}function pw(){return new ow(lw.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mw(e){return new ow(lw.INVALID_ARGUMENT,e)}function gw(){return new ow(lw.APP_DELETED,"The Firebase app was deleted.")}function vw(e,t){return new ow(lw.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yw(e){throw new ow(lw.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(lw||(lw={}));class ww{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ww.makeFromUrl(e,t)}catch(oS){return new ww(e,"")}if(""===n.path)return n;throw r=e,new ow(lw.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===sw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ww(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new ow(lw.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class bw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function xw(e){return"string"===typeof e||e instanceof String}function Ew(e){return Aw()&&e instanceof Blob}function Aw(){return"undefined"!==typeof Blob}function Cw(e,t,n,r){if(r<t)throw mw("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw mw("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function kw(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function jw(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Sw(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cw||(cw={}));class Iw{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Nw(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===cw.NO_ERROR,i=n.getStatus();if(!t||Sw(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===cw.ABORT;return void e(!1,new Nw(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Nw(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(oS){r(oS)}else if(null!==i){const e=dw();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?gw():fw())}else{r(hw())}};this.canceled_?t(0,new Nw(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Nw{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function _w(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Tw(){const e=_w();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Aw())return new Blob(n);throw new ow(lw.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Rw(e){if("undefined"===typeof atob)throw t="base-64",new ow(lw.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Ow={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dw{constructor(e,t){this.data=e,this.contentType=t||null}}function Pw(e,t){switch(e){case Ow.RAW:return new Dw(Lw(t));case Ow.BASE64:case Ow.BASE64URL:return new Dw(Mw(e,t));case Ow.DATA_URL:return new Dw(function(e){const t=new Uw(e);return t.base64?Mw(Ow.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(oS){throw vw(Ow.DATA_URL,"Malformed data URL.")}return Lw(t)}(t.rest)}(t),new Uw(t).contentType)}throw dw()}function Lw(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Mw(e,t){switch(e){case Ow.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw vw(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Ow.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw vw(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rw(t)}catch(oS){if(oS.message.includes("polyfill"))throw oS;throw vw(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Uw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw vw(Ow.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Fw{constructor(e,t){let n=0,r="";Ew(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ew(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Fw(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Fw(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Aw()){const e=t.map((e=>e instanceof Fw?e.data_:e));return new Fw(Tw.apply(null,e))}{const e=t.map((e=>xw(e)?Pw(Ow.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Fw(r,!0)}}uploadData(){return this.data_}}function Bw(e){let t;try{t=JSON.parse(e)}catch(oS){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zw(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Vw(e,t){return t}class Qw{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Vw}}let Hw=null;function Ww(){if(Hw)return Hw;const e=[];e.push(new Qw("bucket")),e.push(new Qw("generation")),e.push(new Qw("metageneration")),e.push(new Qw("name","fullPath",!0));const t=new Qw("name");t.xform=function(e,t){return function(e){return!xw(e)||e.length<2?e:zw(e)}(t)},e.push(t);const n=new Qw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Qw("timeCreated")),e.push(new Qw("updated")),e.push(new Qw("md5Hash",null,!0)),e.push(new Qw("cacheControl",null,!0)),e.push(new Qw("contentDisposition",null,!0)),e.push(new Qw("contentEncoding",null,!0)),e.push(new Qw("contentLanguage",null,!0)),e.push(new Qw("contentType",null,!0)),e.push(new Qw("metadata","customMetadata",!0)),Hw=e,Hw}function qw(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new ww(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Kw(e,t,n){const r=Bw(t);if(null===r)return null;return qw(e,r,n)}function Gw(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Xw{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yw(e){if(!e)throw dw()}function Jw(e,t){return function(n,r){const i=Kw(e,r,t);return Yw(null!==i),i}}function Zw(e,t){return function(n,r){const i=Kw(e,r,t);return Yw(null!==i),function(e,t,n,r){const i=Bw(t);if(null===i)return null;if(!xw(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return kw("/b/"+a(i)+"/o/"+a(s),n,r)+jw({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function $w(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ow(lw.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new ow(lw.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new ow(lw.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ow(lw.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function eb(e){const t=$w(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new ow(lw.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function tb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nb(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=tb(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Gw(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Fw.getBlob(c,r,u);if(null===d)throw pw();const h={name:l.fullPath},f=kw(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Xw(f,"POST",Jw(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=$w(t),m}let rb=null;class ib{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cw.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=cw.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=cw.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw yw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(oS){return-1}}getResponse(){if(!this.sent_)throw yw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class sb extends ib{initXhr(){this.xhr_.responseType="text"}}function ab(){return rb?rb():new sb}class ob{constructor(e,t){this._service=e,this._location=t instanceof ww?t:ww.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ob(e,t)}get root(){const e=new ww(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zw(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ww(this._location.bucket,e);return new ob(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ow(lw.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function lb(e,t,n){e._throwIfRoot("uploadBytes");const r=nb(e.storage,e._location,Ww(),new Fw(t,!0),n);return e.storage.makeRequestWithTokens(r,ab).then((t=>({metadata:t,ref:e})))}function cb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=kw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Xw(r,"GET",Zw(e,n),i);return s.errorHandler=eb(t),s}(e.storage,e._location,Ww());return e.storage.makeRequestWithTokens(t,ab).then((e=>{if(null===e)throw new ow(lw.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ub(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=kw(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Xw(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=eb(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ab)}function db(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ww(e._location.bucket,n);return new ob(e.storage,r)}function hb(e,t){if(e instanceof mb){const n=e;if(null==n._bucket)throw new ow(lw.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aw+"' property when initializing the app?");const r=new ob(n,n._bucket);return null!=t?hb(r,t):r}return void 0!==t?db(e,t):e}function fb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof mb)return new ob(e,t);throw mw("To use ref(service, url), the first argument must be a Storage instance.")}return hb(e,t)}function pb(e,t){const n=null===t||void 0===t?void 0:t[aw];return null==n?null:ww.makeFromBucketSpec(n,e)}class mb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=sw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ww.makeFromBucketSpec(r,this._host):pb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ww.makeFromBucketSpec(this._url,e):this._bucket=pb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ob(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new bw(gw());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=jw(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Iw(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const gb="@firebase/storage",vb="0.12.1",yb="storage";function wb(e,t,n){return lb(e=fs(e),t,n)}function bb(e){return cb(e=fs(e))}function xb(e,t){return fb(e=fs(e),t)}function Eb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra(),t=arguments.length>1?arguments[1]:void 0;e=fs(e);const n=Zs(e,yb).getImmediate({identifier:t}),r=Xi("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:$i(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Ab(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new mb(r,i,s,n,ta)}Js(new ps(yb,Ab,"PUBLIC").setMultipleInstances(!0)),ia(gb,vb,""),ia(gb,vb,"esm2017");function Cb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jb=kb,Sb=new is("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ib=new Cs("@firebase/auth");function Nb(e){if(Ib.logLevel<=ws.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ib.error("Auth (".concat(ta,"): ").concat(e),...n)}}function _b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Db(e,...n)}function Tb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Db(e,...n)}function Rb(e,t,n){const r=Object.assign(Object.assign({},jb()),{[t]:n});return new is("auth","Firebase",r).create(t,{appName:e.name})}function Ob(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_b(e,"argument-error"),Rb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Db(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Sb.create(e,...n)}function Pb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Db(t,...r)}}function Lb(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nb(t),new Error(t)}function Mb(e,t){e||Lb(t)}function Ub(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fb(){return"http:"===Bb()||"https:"===Bb()}function Bb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function zb(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fb()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Vb{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mb(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(es())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return zb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qb(e,t){Mb(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Hb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Lb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Lb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Lb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qb=new Vb(3e4,6e4);function Kb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gb(e,t,n,r){return Xb(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=ls(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Hb.fetch()(Jb(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Xb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wb),t);try{const t=new $b(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ex(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ex(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ex(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ex(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Rb(e,o,a);_b(e,o)}}catch(oS){if(oS instanceof rs)throw oS;_b(e,"network-request-failed",{message:String(oS)})}}async function Yb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Gb(e,t,n,r,i);return"mfaPendingCredential"in s&&_b(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Jb(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Zb(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $b{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Tb(this.auth,"network-request-failed"))),qb.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ex(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tb(e,t,r);return i.customData._tokenResponse=n,i}function tx(e){return void 0!==e&&void 0!==e.enterprise}class nx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zb(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function rx(e,t){return Gb(e,"GET","/v2/recaptchaConfig",Kb(e,t))}function ix(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(oS){}}function sx(e){return 1e3*Number(e)}function ax(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Nb("JWT malformed, contained fewer than 3 sections"),null;try{const e=Wi(n);return e?JSON.parse(e):(Nb("Failed to decode base64 JWT payload"),null)}catch(oS){return Nb("Caught error parsing JWT payload as JSON",null===oS||void 0===oS?void 0:oS.toString()),null}}async function ox(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(oS){throw oS instanceof rs&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(oS)&&e.auth.currentUser===e&&await e.auth.signOut(),oS}}class lx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(oS){return void((null===oS||void 0===oS?void 0:oS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class cx{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ix(this.lastLoginAt),this.creationTime=ix(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ux(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ox(e,async function(e,t){return Gb(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Pb(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Cb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class dx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pb(e.idToken,"internal-error"),Pb("undefined"!==typeof e.idToken,"internal-error"),Pb("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ax(e);return Pb(t,"internal-error"),Pb("undefined"!==typeof t.exp,"internal-error"),Pb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pb(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Xb(e,{},(async()=>{const n=ls({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Jb(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hb.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new dx;return n&&(Pb("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Pb("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Pb("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dx,this.toJSON())}_performRefresh(){return Lb("not implemented")}}function hx(e,t){Pb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fx{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Cb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ox(this,this.stsTokenManager.getToken(this.auth,e));return Pb(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=fs(e),r=await n.getIdToken(t),i=ax(r);Pb(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ix(sx(i.auth_time)),issuedAtTime:ix(sx(i.iat)),expirationTime:ix(sx(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=fs(e);await ux(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fx(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ux(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ox(this,async function(e,t){return Gb(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:E}=t;Pb(y&&E,e,"internal-error");const A=dx.fromJSON(this.name,E);Pb("string"===typeof y,e,"internal-error"),hx(u,e.name),hx(d,e.name),Pb("boolean"===typeof w,e,"internal-error"),Pb("boolean"===typeof b,e,"internal-error"),hx(h,e.name),hx(f,e.name),hx(p,e.name),hx(m,e.name),hx(g,e.name),hx(v,e.name);const C=new fx({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:A,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(C.providerData=x.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new dx;r.updateFromServerResponse(t);const i=new fx({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ux(i),i}}const px=new Map;function mx(e){Mb(e instanceof Function,"Expected a class definition");let t=px.get(e);return t?(Mb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,px.set(e,t),t)}class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gx.type="NONE";const vx=gx;function yx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class wx{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yx(this.userKey,r.apiKey,i),this.fullPersistenceKey=yx("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fx._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wx(mx(vx),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mx(vx);const s=yx(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=fx._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new wx(i,e,n)):new wx(i,e,n)}}function bx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jx(t))return"Blackberry";if(Sx(t))return"Webos";if(Ex(t))return"Safari";if((t.includes("chrome/")||Ax(t))&&!t.includes("edge/"))return"Chrome";if(kx(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function xx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/firefox\//i.test(e)}function Ex(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:es()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ax(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/crios\//i.test(e)}function Cx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/iemobile/i.test(e)}function kx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/android/i.test(e)}function jx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/blackberry/i.test(e)}function Sx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/webos/i.test(e)}function Ix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nx(){return function(){const e=es();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return Ix(e)||kx(e)||Sx(e)||jx(e)||/windows phone/i.test(e)||Cx(e)}function Tx(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bx(es());break;case"Worker":t="".concat(bx(es()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ta,"/").concat(r)}class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(oS){r(oS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(oS){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===oS||void 0===oS?void 0:oS.message})}}}class Ox{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Dx{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lx(this),this.idTokenSubscription=new Lx(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mx(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wx.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(oS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(oS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(oS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pb(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(oS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ux(e)}catch(oS){if((null===oS||void 0===oS?void 0:oS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?fs(e):null;return t&&Pb(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Pb(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(mx(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Gb(e,"GET","/v2/passwordPolicy",Kb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ox(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new is("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Gb(e,"POST","/v2/accounts:revokeToken",Kb(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mx(e)||this._popupRedirectResolver;Pb(t,this,"argument-error"),this.redirectPersistenceManager=await wx.create(this,[mx(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pb(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pb(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ib.logLevel<=ws.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ib.warn("Auth (".concat(ta,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Px(e){return fs(e)}class Lx{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ds(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Pb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ux(e){return Mx.loadJS(e)}function Fx(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Bx{constructor(e){this.type="recaptcha-enterprise",this.auth=Px(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;tx(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{rx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new nx(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&tx(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Mx.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ux(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Bx(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vx(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zx(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await zx(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Qx(e,t,n){const r=Px(e);Pb(r._canInitEmulator,r,"emulator-config-failed"),Pb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Hx(t),{host:a,port:o}=function(e){const t=Hx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wx(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wx(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lb("not implemented")}_getIdTokenResponse(e){return Lb("not implemented")}_linkToIdToken(e,t){return Lb("not implemented")}_getReauthenticationResolver(e){return Lb("not implemented")}}async function Kx(e,t){return Gb(e,"POST","/v1/accounts:signUp",t)}async function Gx(e,t){return Yb(e,"POST","/v1/accounts:signInWithPassword",Kb(e,t))}class Xx extends qx{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xx(e,t,"password")}static _fromEmailAndCode(e,t){return new Xx(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Vx(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gx);case"emailLink":return async function(e,t){return Yb(e,"POST","/v1/accounts:signInWithEmailLink",Kb(e,t))}(e,{email:this._email,oobCode:this._password});default:_b(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vx(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kx);case"emailLink":return async function(e,t){return Yb(e,"POST","/v1/accounts:signInWithEmailLink",Kb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_b(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Yx(e,t){return Yb(e,"POST","/v1/accounts:signInWithIdp",Kb(e,t))}class Jx extends qx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jx(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_b("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Cb(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Jx(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Yx(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yx(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yx(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ls(t)}return e}}const Zx={USER_NOT_FOUND:"user-not-found"};class $x extends qx{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $x({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $x({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Yb(e,"POST","/v1/accounts:signInWithPhoneNumber",Kb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Yb(e,"POST","/v1/accounts:signInWithPhoneNumber",Kb(e,t));if(n.temporaryProof)throw ex(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Yb(e,"POST","/v1/accounts:signInWithPhoneNumber",Kb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Zx)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new $x({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class eE{constructor(e){var t,n,r,i,s,a;const o=cs(us(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Pb(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=cs(us(e)).link,n=t?cs(us(t)).deep_link_id:null,r=cs(us(e)).deep_link_id;return(r?cs(us(r)).link:null)||r||n||t||e}(e);try{return new eE(t)}catch(n){return null}}}class tE{constructor(){this.providerId=tE.PROVIDER_ID}static credential(e,t){return Xx._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=eE.parseLink(t);return Pb(n,"argument-error"),Xx._fromEmailAndCode(e,n.code,n.tenantId)}}tE.PROVIDER_ID="password",tE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rE extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class iE extends rE{constructor(){super("facebook.com")}static credential(e){return Jx._fromParams({providerId:iE.PROVIDER_ID,signInMethod:iE.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iE.credentialFromTaggedObject(e)}static credentialFromError(e){return iE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return iE.credential(t.oauthAccessToken)}catch(n){return null}}}iE.FACEBOOK_SIGN_IN_METHOD="facebook.com",iE.PROVIDER_ID="facebook.com";class sE extends rE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jx._fromParams({providerId:sE.PROVIDER_ID,signInMethod:sE.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sE.credentialFromTaggedObject(e)}static credentialFromError(e){return sE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return sE.credential(n,r)}catch(i){return null}}}sE.GOOGLE_SIGN_IN_METHOD="google.com",sE.PROVIDER_ID="google.com";class aE extends rE{constructor(){super("github.com")}static credential(e){return Jx._fromParams({providerId:aE.PROVIDER_ID,signInMethod:aE.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aE.credentialFromTaggedObject(e)}static credentialFromError(e){return aE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return aE.credential(t.oauthAccessToken)}catch(n){return null}}}aE.GITHUB_SIGN_IN_METHOD="github.com",aE.PROVIDER_ID="github.com";class oE extends rE{constructor(){super("twitter.com")}static credential(e,t){return Jx._fromParams({providerId:oE.PROVIDER_ID,signInMethod:oE.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oE.credentialFromTaggedObject(e)}static credentialFromError(e){return oE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return oE.credential(n,r)}catch(i){return null}}}async function lE(e,t){return Yb(e,"POST","/v1/accounts:signUp",Kb(e,t))}oE.TWITTER_SIGN_IN_METHOD="twitter.com",oE.PROVIDER_ID="twitter.com";class cE{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fx._fromIdTokenResponse(e,n,r),s=uE(n);return new cE({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=uE(n);return new cE({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function uE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class dE extends rs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,dE.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new dE(e,t,n,r)}}function hE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw dE._fromErrorAndOperation(e,n,t,r);throw n}))}async function fE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ox(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cE._forOperation(e,"link",r)}async function pE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ox(e,hE(r,i,t,e),n);Pb(s.idToken,r,"internal-error");const a=ax(s.idToken);Pb(a,r,"internal-error");const{sub:o}=a;return Pb(e.uid===o,r,"user-mismatch"),cE._forOperation(e,i,s)}catch(oS){throw(null===oS||void 0===oS?void 0:oS.code)==="auth/".concat("user-not-found")&&_b(r,"user-mismatch"),oS}}async function mE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await hE(e,r,t),s=await cE._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function gE(e,t){return mE(Px(e),t)}async function vE(e){const t=Px(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const yE="__sak";class wE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yE,"1"),this.storage.removeItem(yE),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bE extends wE{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=es();return Ex(e)||Ix(e)}()&&function(){try{return!(!window||window===window.top)}catch(oS){return!1}}(),this.fallbackToPolling=_x(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Nx()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bE.type="LOCAL";const xE=bE;class EE extends wE{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EE.type="SESSION";const AE=EE;class CE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new CE(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function kE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}CE.receivers=[];class jE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=kE("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function SE(){return window}function IE(){return"undefined"!==typeof SE().WorkerGlobalScope&&"function"===typeof SE().importScripts}const NE="firebaseLocalStorageDb",_E="firebaseLocalStorage",TE="fbase_key";class RE{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function OE(e,t){return e.transaction([_E],t?"readwrite":"readonly").objectStore(_E)}function DE(){const e=indexedDB.open(NE,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(_E,{keyPath:TE})}catch(oS){n(oS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(_E)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(NE);return new RE(e).toPromise()}(),t(await DE()))}))}))}async function PE(e,t,n){const r=OE(e,!0).put({[TE]:t,value:n});return new RE(r).toPromise()}function LE(e,t){const n=OE(e,!0).delete(t);return new RE(n).toPromise()}class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await DE()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(oS){if(t++>3)throw oS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=CE._getInstance(IE()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new jE(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await DE();return await PE(e,yE,"1"),await LE(e,yE),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>PE(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=OE(e,!1).get(t),r=await new RE(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>LE(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=OE(e,!1).getAll();return new RE(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ME.type="LOCAL";const UE=ME;Fx("rcb"),new Vb(3e4,6e4);const FE="recaptcha";async function BE(e,t,n){var r;const i=await n.verify();try{let s;if(Pb("string"===typeof i,e,"argument-error"),Pb(n.type===FE,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Pb("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Gb(e,"POST","/v2/accounts/mfaEnrollment:start",Kb(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Pb("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Pb(n,e,"missing-multi-factor-info");const a=await function(e,t){return Gb(e,"POST","/v2/accounts/mfaSignIn:start",Kb(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Gb(e,"POST","/v1/accounts:sendVerificationCode",Kb(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class zE{constructor(e){this.providerId=zE.PROVIDER_ID,this.auth=Px(e)}verifyPhoneNumber(e,t){return BE(this.auth,e,fs(t))}static credential(e,t){return $x._fromVerification(e,t)}static credentialFromResult(e){const t=e;return zE.credentialFromTaggedObject(t)}static credentialFromError(e){return zE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?$x._fromTokenResponse(n,r):null}}function VE(e,t){return t?mx(t):(Pb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zE.PROVIDER_ID="phone",zE.PHONE_SIGN_IN_METHOD="phone";class QE extends qx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yx(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yx(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yx(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HE(e){return mE(e.auth,new QE(e),e.bypassAuthState)}function WE(e){const{auth:t,user:n}=e;return Pb(n,t,"internal-error"),pE(n,new QE(e),e.bypassAuthState)}async function qE(e){const{auth:t,user:n}=e;return Pb(n,t,"internal-error"),fE(n,new QE(e),e.bypassAuthState)}class KE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(oS){this.reject(oS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(oS){this.reject(oS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HE;case"linkViaPopup":case"linkViaRedirect":return qE;case"reauthViaPopup":case"reauthViaRedirect":return WE;default:_b(this.auth,"internal-error")}}resolve(e){Mb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GE=new Vb(2e3,1e4);async function XE(e,t,n){const r=Px(e);Ob(e,t,nE);const i=VE(r,n);return new YE(r,"signInViaPopup",t,i).executeNotNull()}class YE extends KE{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,YE.currentPopupAction&&YE.currentPopupAction.cancel(),YE.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pb(e,this.auth,"internal-error"),e}async onExecution(){Mb(1===this.filter.length,"Popup operations only handle one event");const e=kE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Tb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Tb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,YE.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Tb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,GE.get())};e()}}YE.currentPopupAction=null;const JE="pendingRedirect",ZE=new Map;class $E extends KE{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ZE.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nA(t),r=tA(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(oS){e=()=>Promise.reject(oS)}ZE.set(this.auth._key(),e)}return this.bypassAuthState||ZE.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function eA(e,t){ZE.set(e._key(),t)}function tA(e){return mx(e._redirectPersistence)}function nA(e){return yx(JE,e.config.apiKey,e.name)}async function rA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Px(e),i=VE(r,t),s=new $E(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class iA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!aA(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sA(e))}saveEventToCache(e){this.cachedEventUids.add(sA(e)),this.lastProcessedEventTime=Date.now()}}function sA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function aA(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const oA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lA=/^https?/;async function cA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Gb(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(uA(r))return}catch(n){}_b(e,"unauthorized-domain")}function uA(e){const t=Ub(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lA.test(n))return!1;if(oA.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dA=new Vb(3e4,6e4);function hA(){const e=SE().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fA(e){return new Promise(((t,n)=>{var r,i,s;function a(){hA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hA(),n(Tb(e,"network-request-failed"))},timeout:dA.get()})}if(null===(i=null===(r=SE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=SE().gapi)||void 0===s?void 0:s.load)){const t=Fx("iframefcb");return SE()[t]=()=>{gapi.load?a():n(Tb(e,"network-request-failed"))},Ux("".concat(Mx.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw pA=null,e}))}let pA=null;const mA=new Vb(5e3,15e3),gA="__/auth/iframe",vA="emulator/auth/iframe",yA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bA(e){const t=e.config;Pb(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qb(t,vA):"https://".concat(e.config.authDomain,"/").concat(gA),r={apiKey:t.apiKey,appName:e.name,v:ta},i=wA.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ls(r).slice(1))}async function xA(e){const t=await function(e){return pA=pA||fA(e),pA}(e),n=SE().gapi;return Pb(n,e,"internal-error"),t.open({where:document.body,url:bA(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yA,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Tb(e,"network-request-failed"),s=SE().setTimeout((()=>{r(i)}),mA.get());function a(){SE().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const EA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(oS){}}}function CA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},EA),{width:r.toString(),height:i.toString(),top:s,left:a}),c=es().toLowerCase();n&&(o=Ax(c)?"_blank":n),xx(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ix(arguments.length>0&&void 0!==arguments[0]?arguments[0]:es())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new AA(null);const d=window.open(t||"",o,u);Pb(d,e,"popup-blocked");try{d.focus()}catch(oS){}return new AA(d)}const kA="__/auth/handler",jA="emulator/auth/handler",SA=encodeURIComponent("fac");async function IA(e,t,n,r,i,s){Pb(e.config.authDomain,e,"auth-domain-config-required"),Pb(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ta,eventId:i};if(t instanceof nE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof rE){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(SA,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kA);return Qb(t,jA)}(e),"?").concat(ls(o).slice(1)).concat(c)}const NA="webStorageSupport";const _A=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=rA,this._overrideRedirectResult=eA}async _openPopup(e,t,n,r){var i;Mb(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return CA(e,await IA(e,t,n,Ub(),r),kE())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){SE().location.href=e}(await IA(e,t,n,Ub(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Mb(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await xA(e),n=new iA(e);return t.register("authEvent",(t=>{Pb(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(NA,{type:NA},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[NA];void 0!==i&&t(!!i),_b(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _x()||Ex()||Ix()}};var TA="@firebase/auth",RA="1.6.0";class OA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const DA=Ji("authIdTokenMaxAge")||300;let PA=null;function LA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();const t=Zs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Zs(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(as(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;_b(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:_A,persistence:[UE,xE,AE]}),r=Ji("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>DA)return;const r=null===t||void 0===t?void 0:t.token;PA!==r&&(PA=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){fs(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){fs(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Gi("auth");return s&&Qx(n,"http://".concat(s)),n}var MA;!function(e){Mx=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Tb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),MA="Browser",Js(new ps("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Pb(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:MA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(MA)},c=new Dx(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Js(new ps("auth-internal",(e=>(e=>new OA(e))(Px(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ia(TA,RA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(MA)),ia(TA,RA,"esm2017");const UA=na({apiKey:"AIzaSyACklxBeZiCfUoFcFOakUU3Mxg7kFOR_Jo",authDomain:"strava-web-application-replica.firebaseapp.com",projectId:"strava-web-application-replica",storageBucket:"strava-web-application-replica.appspot.com",messagingSenderId:"1061110930450",appId:"1:1061110930450:web:2b85608831d9e8a1734ccb",measurementId:"G-FBJTPMR2X9"}),FA=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Zs("object"==typeof e?e:ra(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Xi("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Vv(e,Hv))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Lu.MOCK_USER;else{t=$i(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Gu(Ku.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Lu(s)}e._authCredentials=new Zu(new Yu(t,n))}}(r,...e)}return r}(UA),BA=(Eb(UA),LA(UA)),zA=()=>{const e=BA.currentUser;return e?e.uid:null};var VA=n(7),QA=n.n(VA);const HA={type:QA().string,tooltip:QA().bool,as:QA().elementType},WA=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...a}=e;return(0,Ne.jsx)(n,{...a,ref:t,className:Ie()(r,"".concat(i,"-").concat(s?"tooltip":"feedback"))})}));WA.displayName="Feedback",WA.propTypes=HA;const qA=WA,KA=t.createContext({}),GA=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:s,type:a="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(KA);return i=Pe(i,"form-check-input"),(0,Ne.jsx)(c,{...u,ref:n,type:a,id:r||d,className:Ie()(s,i,o&&"is-valid",l&&"is-invalid")})}));GA.displayName="FormCheckInput";const XA=GA,YA=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:s,...a}=e;const{controlId:o}=(0,t.useContext)(KA);return r=Pe(r,"form-check-label"),(0,Ne.jsx)("label",{...a,ref:n,htmlFor:s||o,className:Ie()(i,r)})}));YA.displayName="FormCheckLabel";const JA=YA;function ZA(e,n){let r=0;return t.Children.map(e,(e=>t.isValidElement(e)?n(e,r++):e))}const $A=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:s,inline:a=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:w,as:b="input",...x}=e;i=Pe(i,"form-check"),s=Pe(s,"form-switch");const{controlId:E}=(0,t.useContext)(KA),A=(0,t.useMemo)((()=>({controlId:r||E})),[E,r]),C=!w&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(w,JA),k=(0,Ne.jsx)(XA,{...x,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:b});return(0,Ne.jsx)(KA.Provider,{value:A,children:(0,Ne.jsx)("div",{style:m,className:Ie()(p,C&&i,a&&"".concat(i,"-inline"),o&&"".concat(i,"-reverse"),"switch"===v&&s),children:w||(0,Ne.jsxs)(Ne.Fragment,{children:[k,C&&(0,Ne.jsx)(JA,{title:g,children:y}),h&&(0,Ne.jsx)(qA,{type:f,tooltip:d,children:h})]})})})}));$A.displayName="FormCheck";const eC=Object.assign($A,{Input:XA,Label:JA}),tC=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:s,htmlSize:a,id:o,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,t.useContext)(KA);let g;return r=Pe(r,"form-control"),g=d?{["".concat(r,"-plaintext")]:!0}:{[r]:!0,["".concat(r,"-").concat(s)]:s},(0,Ne.jsx)(f,{...p,type:i,size:a,ref:n,readOnly:h,id:o||m,className:Ie()(l,g,c&&"is-valid",u&&"is-invalid","color"===i&&"".concat(r,"-color"))})}));tC.displayName="FormControl";const nC=Object.assign(tC,{Feedback:qA}),rC=$e("form-floating"),iC=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,Ne.jsx)(KA.Provider,{value:a,children:(0,Ne.jsx)(i,{...s,ref:n})})}));iC.displayName="FormGroup";const sC=iC,aC=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:s=!1,visuallyHidden:a=!1,className:o,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(KA);i=Pe(i,"form-label");let d="col-form-label";"string"===typeof s&&(d="".concat(d," ").concat(d,"-").concat(s));const h=Ie()(o,i,a&&"visually-hidden",s&&d);return l=l||u,s?(0,Ne.jsx)(He,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,Ne.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));aC.displayName="FormLabel";const oC=aC,lC=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:s,...a}=e;const{controlId:o}=(0,t.useContext)(KA);return r=Pe(r,"form-range"),(0,Ne.jsx)("input",{...a,type:"range",ref:n,className:Ie()(i,r),id:s||o})}));lC.displayName="FormRange";const cC=lC,uC=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:s,className:a,isValid:o=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(KA);return r=Pe(r,"form-select"),(0,Ne.jsx)("select",{...u,size:s,ref:n,className:Ie()(a,r,i&&"".concat(r,"-").concat(i),o&&"is-valid",l&&"is-invalid"),id:c||d})}));uC.displayName="FormSelect";const dC=uC,hC=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...a}=e;return n=Pe(n,"form-text"),(0,Ne.jsx)(i,{...a,ref:t,className:Ie()(r,n,s&&"text-muted")})}));hC.displayName="FormText";const fC=hC,pC=t.forwardRef(((e,t)=>(0,Ne.jsx)(eC,{...e,ref:t,type:"switch"})));pC.displayName="Switch";const mC=Object.assign(pC,{Input:eC.Input,Label:eC.Label}),gC=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:a,...o}=e;return n=Pe(n,"form-floating"),(0,Ne.jsxs)(sC,{ref:t,className:Ie()(r,n),controlId:s,...o,children:[i,(0,Ne.jsx)("label",{htmlFor:s,children:a})]})}));gC.displayName="FloatingLabel";const vC=gC,yC={_ref:QA().any,validated:QA().bool,as:QA().elementType},wC=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...s}=e;return(0,Ne.jsx)(i,{...s,ref:t,className:Ie()(n,r&&"was-validated")})}));wC.displayName="Form",wC.propTypes=yC;const bC=Object.assign(wC,{Group:sC,Control:nC,Floating:rC,Check:eC,Switch:mC,Label:oC,Text:fC,Range:cC,Select:dC,FloatingLabel:vC}),xC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMBAMAAABc7lwNAAAAJ1BMVEXf3+j////k5Ov9/f77+/z29vnq6vD5+fvl5ezn5+7w8PTs7PLy8vZMTm3ZAAABkElEQVRo3u3XOy9sYRQG4DdzznFcqtcel6CYoHBpbAmNaktQaFwShQqhURkRtVuIDpVCQUEiUZD4AbR+FZmYmf0Z+WzvZkSynh+w8q219l5ZC8YYY4wxxhTVXW5MzG8hpb6IL7LnSKU+ZEFwixQyeb5qQgp7LBmFLBOxJJuD6j9jpqB6ZEybnFPImEDN6h8dD9B00TEAzSIdzdBM09EBTURHCzQhHVmx33zjR8OAruBnS5ynQx05F3S0Q7NNR6M8bhxr0NTQcQRR3q2wapcxgyjTswqOILtjyQh0NaHzGNkBX60jlWUWjCOls4jMXiO93hOY75TpOTzdySGV/ZsNFow9LUG1OsuYoSso+otByoEW8GkrISsEc/ike75rU47impTmQ6UZYVqVKcN0kR7DSKgupEewhWT+0mtNWwFIbSWI6NUiLWuVElaYH8h9TZhkraoVXiOFqWaJEdIrqOp3g2l6dVT3ZzimVyuS+UOvAeHiLRLu+gZ6LWjXoXxWPar9dnXTYxSJdXrAGGOMMcb8Us/Dk3wYp//cpQAAAABJRU5ErkJggg==",EC=e=>{let{showComments:n,onCommentPost:r}=e;const[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)({});return(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(n.empty)console.error("User document not found for current user.");else{const e=n.docs[0].data();o(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,Ne.jsxs)("div",{className:"comment-section ".concat(n?"visible":"hidden"),id:"activityCommentsWrapper",children:[a.profileImageUrl?(0,Ne.jsx)("img",{src:a.profileImageUrl,alt:"user profile",width:24,height:24,id:"userProfileCommentsImg"}):(0,Ne.jsx)("img",{src:xC,alt:"user profile",width:24,height:24,id:"userProfileCommentsImg"}),(0,Ne.jsx)(bC.Group,{className:"mb-2 comments-textarea-wrapper",children:(0,Ne.jsx)(bC.Control,{as:"textarea",id:"commentingTextAreaInput",placeholder:"Add a comment, @ to mention",rows:2,value:i,onChange:e=>s(e.target.value)})}),(0,Ne.jsx)(Ye,{variant:"outline-primary",id:"activityCommentPostBtn",onClick:()=>{r(i),s("")},children:"Post"})," "]})};var AC;function CC(e){if((!AC&&0!==AC||e)&&bt){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),AC=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return AC}function kC(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function jC(e,t){return function(e){var t=ur(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var SC=/([A-Z])/g;var IC=/^ms-/;function NC(e){return function(e){return e.replace(SC,"-$1").toLowerCase()}(e).replace(IC,"-ms-")}var _C=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const TC=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(NC(t))||jC(e).getPropertyValue(NC(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!_C.test(e))}(i)?n+=NC(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(NC(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function RC(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=cr(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function OC(e,t,n,r){null==n&&(n=function(e){var t=TC(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=RC(e,n,r),s=cr(e,"transitionend",t);return function(){i(),s()}}function DC(e){void 0===e&&(e=ur());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(oS){return e.body}}const PC=Qr("modal-open");const LC=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(TC(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(PC,""),TC(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(PC),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},MC=(e,t)=>bt?null==e?(t||ur()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const UC=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:a}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(r),c=Nt(i);(0,t.useEffect)((()=>{r?l.current=!0:c(o.current)}),[r,c]);const u=vi(o,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:a||!l.current&&s?null:d};function FC(e){let{children:n,in:r,onExited:i,onEntered:s,transition:a}=e;const[o,l]=(0,t.useState)(!r);r&&o&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),a=Nt(r);return ui((()=>{if(!i.current)return;let e=!1;return a({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,a]),ui((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=vi(c,n.ref);return o&&!r?null:(0,t.cloneElement)(n,{ref:u})}function BC(e,t,n){return e?(0,Ne.jsx)(e,Object.assign({},n)):t?(0,Ne.jsx)(FC,Object.assign({},n,{transition:t})):(0,Ne.jsx)(UC,Object.assign({},n))}const zC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let VC;function QC(e){const n=Xr(),r=e||function(e){return VC||(VC=new LC({ownerDocument:null==e?void 0:e.document})),VC}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const HC=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:a,style:o,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:w=!0,restoreFocusOptions:b,renderDialog:x,renderBackdrop:E=(e=>(0,Ne.jsx)("div",Object.assign({},e))),manager:A,container:C,onShow:k,onHide:j=(()=>{}),onExit:S,onExited:I,onExiting:N,onEnter:_,onEntering:T,onEntered:R}=e,O=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,zC);const D=Xr(),P=function(e,n){const r=Xr(),[i,s]=(0,t.useState)((()=>MC(e,null==r?void 0:r.document)));if(!i){const t=MC(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=MC(e);t!==i&&s(t)}),[e,i]),i}(C),L=QC(A),M=Pt(),U=jt(r),[F,B]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>L),[L]),bt&&!U&&r&&(z.current=DC(null==D?void 0:D.document)),r&&F&&B(!1);const V=Nt((()=>{if(L.add(),G.current=cr(document,"keydown",q),K.current=cr(document,"focus",(()=>setTimeout(H)),!0),k&&k(),v){var e,t;const n=DC(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);L.dialog&&n&&!or(L.dialog,n)&&(z.current=n,L.dialog.focus())}})),Q=Nt((()=>{var e;(L.remove(),null==G.current||G.current(),null==K.current||K.current(),w)&&(null==(e=z.current)||null==e.focus||e.focus(b),z.current=null)}));(0,t.useEffect)((()=>{r&&P&&V()}),[r,P,V]),(0,t.useEffect)((()=>{F&&Q()}),[F,Q]),kC((()=>{Q()}));const H=Nt((()=>{if(!y||!M()||!L.isTopModal())return;const e=DC(null==D?void 0:D.document);L.dialog&&e&&!or(L.dialog,e)&&L.dialog.focus()})),W=Nt((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===c&&j())})),q=Nt((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||j())})),K=(0,t.useRef)(),G=(0,t.useRef)();if(!P)return null;const X=Object.assign({role:i,ref:L.setDialogRef,"aria-modal":"dialog"===i||void 0},O,{style:o,className:a,tabIndex:-1});let Y=x?x(X):(0,Ne.jsx)("div",Object.assign({},X,{children:t.cloneElement(l,{role:"document"})}));Y=BC(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:S,onExiting:N,onExited:function(){B(!0),null==I||I(...arguments)},onEnter:_,onEntering:T,onEntered:R,children:Y});let J=null;return c&&(J=E({ref:L.setBackdropRef,onClick:W}),J=BC(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,Ne.jsx)(Ne.Fragment,{children:s.createPortal((0,Ne.jsxs)(Ne.Fragment,{children:[J,Y]}),P)})}));HC.displayName="Modal";const WC=Object.assign(HC,{Manager:LC});function qC(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const KC=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",GC=".sticky-top",XC=".navbar-toggler";class YC extends LC{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,TC(t,{[e]:"".concat(parseFloat(TC(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],TC(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";wt(t,KC).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),wt(t,GC).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),wt(t,XC).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=qC(n.className,r):n.setAttribute("class",qC(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";wt(t,KC).forEach((e=>this.restore(i,e))),wt(t,GC).forEach((e=>this.restore(s,e))),wt(t,XC).forEach((e=>this.restore(s,e)))}}let JC;function ZC(e){return JC||(JC=new YC(e)),JC}const $C=YC;function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ek(e,t)}const tk=!1,nk=t.createContext(null);var rk="unmounted",ik="exited",sk="entering",ak="entered",ok="exiting",lk=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=ik,r.appearStatus=sk):i=ak:i=t.unmountOnExit||t.mountOnEnter?rk:ik,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,ek(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===rk?{status:ik}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==sk&&n!==ak&&(t=sk):n!==sk&&n!==ak||(t=ok)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===sk){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ik&&this.setState({status:rk})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],a=i[0],o=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||tk?this.safeSetState({status:ak},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:sk},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:ak},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!tk?(this.props.onExit(r),this.safeSetState({status:ok},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ik},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ik},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===rk)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,ei(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(nk.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function ck(){}lk.contextType=nk,lk.propTypes={},lk.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ck,onEntering:ck,onEntered:ck,onExit:ck,onExiting:ck,onExited:ck},lk.UNMOUNTED=rk,lk.EXITED=ik,lk.ENTERING=sk,lk.ENTERED=ak,lk.EXITING=ok;const uk=lk;function dk(e,t){const n=TC(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function hk(e,t){const n=dk(e,"transitionDuration"),r=dk(e,"transitionDelay"),i=OC(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}function fk(e){e.offsetHeight}const pk=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:o,onExiting:l,onExited:c,addEndListener:u,children:d,childRef:h,...f}=e;const p=(0,t.useRef)(null),m=vi(p,h),g=e=>{var t;m((t=e)&&"setState"in t?s.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},y=(0,t.useCallback)(v(r),[r]),w=(0,t.useCallback)(v(i),[i]),b=(0,t.useCallback)(v(a),[a]),x=(0,t.useCallback)(v(o),[o]),E=(0,t.useCallback)(v(l),[l]),A=(0,t.useCallback)(v(c),[c]),C=(0,t.useCallback)(v(u),[u]);return(0,Ne.jsx)(uk,{ref:n,...f,onEnter:y,onEntered:b,onEntering:w,onExit:x,onExited:A,onExiting:E,addEndListener:C,nodeRef:p,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:g}):t.cloneElement(d,{ref:g})})})),mk=pk,gk={[sk]:"show",[ak]:"show"},vk=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:a,...o}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},c=(0,t.useCallback)(((e,t)=>{fk(e),null==a||a(e,t)}),[a]);return(0,Ne.jsx)(mk,{ref:n,addEndListener:hk,...l,onEnter:c,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:Ie()("fade",r,i.props.className,gk[e],s[e])})})}));vk.displayName="Fade";const yk=vk,wk=$e("modal-body"),bk=t.createContext({onHide(){}}),xk=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:s,size:a,fullscreen:o,children:l,scrollable:c,...u}=e;n=Pe(n,"modal");const d="".concat(n,"-dialog"),h="string"===typeof o?"".concat(n,"-fullscreen-").concat(o):"".concat(n,"-fullscreen");return(0,Ne.jsx)("div",{...u,ref:t,className:Ie()(d,r,a&&"".concat(n,"-").concat(a),s&&"".concat(d,"-centered"),c&&"".concat(d,"-scrollable"),o&&h),children:(0,Ne.jsx)("div",{className:Ie()("".concat(n,"-content"),i),children:l})})}));xk.displayName="ModalDialog";const Ek=xk,Ak=$e("modal-footer"),Ck={"aria-label":QA().string,onClick:QA().func,variant:QA().oneOf(["white"])},kk=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=e;return(0,Ne.jsx)("button",{ref:t,type:"button",className:Ie()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...s})}));kk.displayName="CloseButton",kk.propTypes=Ck;const jk=kk,Sk=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:o,...l}=e;const c=(0,t.useContext)(bk),u=Nt((()=>{null==c||c.onHide(),null==a||a()}));return(0,Ne.jsxs)("div",{ref:n,...l,children:[o,s&&(0,Ne.jsx)(jk,{"aria-label":r,variant:i,onClick:u})]})})),Ik=Sk,Nk=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...a}=e;return n=Pe(n,"modal-header"),(0,Ne.jsx)(Ik,{ref:t,...a,className:Ie()(r,n),closeLabel:i,closeButton:s})}));Nk.displayName="ModalHeader";const _k=Nk,Tk=$e("modal-title",{Component:et("h4")});function Rk(e){return(0,Ne.jsx)(yk,{...e,timeout:null})}function Ok(e){return(0,Ne.jsx)(yk,{...e,timeout:null})}const Dk=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:s,dialogClassName:a,contentClassName:o,children:l,dialogAs:c=Ek,"aria-labelledby":u,"aria-describedby":d,"aria-label":h,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:g=!0,onEscapeKeyDown:v,onShow:y,onHide:w,container:b,autoFocus:x=!0,enforceFocus:E=!0,restoreFocus:A=!0,restoreFocusOptions:C,onEntered:k,onExit:j,onExiting:S,onEnter:I,onEntering:N,onExited:_,backdropClassName:T,manager:R,...O}=e;const[D,P]=(0,t.useState)({}),[L,M]=(0,t.useState)(!1),U=(0,t.useRef)(!1),F=(0,t.useRef)(!1),B=(0,t.useRef)(null),[z,V]=Tt(),Q=vi(n,V),H=Nt(w),W=Ue();r=Pe(r,"modal");const q=(0,t.useMemo)((()=>({onHide:H})),[H]);function K(){return R||ZC({isRTL:W})}function G(e){if(!bt)return;const t=K().getScrollbarWidth()>0,n=e.scrollHeight>ur(e).documentElement.clientHeight;P({paddingRight:t&&!n?CC():void 0,paddingLeft:!t&&n?CC():void 0})}const X=Nt((()=>{z&&G(z.dialog)}));kC((()=>{lr(window,"resize",X),null==B.current||B.current()}));const Y=()=>{U.current=!0},J=e=>{U.current&&z&&e.target===z.dialog&&(F.current=!0),U.current=!1},Z=()=>{M(!0),B.current=OC(z.dialog,(()=>{M(!1)}))},$=e=>{"static"!==m?F.current||e.target!==e.currentTarget?F.current=!1:null==w||w():(e=>{e.target===e.currentTarget&&Z()})(e)},ee=(0,t.useCallback)((e=>(0,Ne.jsx)("div",{...e,className:Ie()("".concat(r,"-backdrop"),T,!p&&"show")})),[p,T,r]),te={...s,...D};te.display="block";return(0,Ne.jsx)(bk.Provider,{value:q,children:(0,Ne.jsx)(WC,{show:f,ref:Q,backdrop:m,container:b,keyboard:!0,autoFocus:x,enforceFocus:E,restoreFocus:A,restoreFocusOptions:C,onEscapeKeyDown:e=>{g?null==v||v(e):(e.preventDefault(),"static"===m&&Z())},onShow:y,onHide:w,onEnter:(e,t)=>{e&&G(e),null==I||I(e,t)},onEntering:(e,t)=>{null==N||N(e,t),Ct(window,"resize",X)},onEntered:k,onExit:e=>{null==B.current||B.current(),null==j||j(e)},onExiting:S,onExited:e=>{e&&(e.style.display=""),null==_||_(e),lr(window,"resize",X)},manager:K(),transition:p?Rk:void 0,backdropTransition:p?Ok:void 0,renderBackdrop:ee,renderDialog:e=>(0,Ne.jsx)("div",{role:"dialog",...e,style:te,className:Ie()(i,r,L&&"".concat(r,"-static"),!p&&"show"),onClick:m?$:void 0,onMouseUp:J,"aria-label":h,"aria-labelledby":u,"aria-describedby":d,children:(0,Ne.jsx)(c,{...O,onMouseDown:Y,className:a,contentClassName:o,children:l})})})})}));Dk.displayName="Modal";const Pk=Object.assign(Dk,{Body:wk,Header:_k,Title:Tk,Footer:Ak,Dialog:Ek,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Lk=t.createContext(null),Mk=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Uk=["activeKey","getControlledId","getControllerId"],Fk=["as"];function Bk(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function zk(e){let{active:n,eventKey:r,mountOnEnter:i,transition:s,unmountOnExit:a,role:o="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}=e,p=Bk(e,Mk);const m=(0,t.useContext)(Lk);if(!m)return[Object.assign({},p,{role:o}),{eventKey:r,isActive:n,mountOnEnter:i,transition:s,unmountOnExit:a,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}];const{activeKey:g,getControlledId:v,getControllerId:y}=m,w=Bk(m,Uk),b=Ur(r);return[Object.assign({},p,{role:o,id:v(r),"aria-labelledby":y(r)}),{eventKey:r,isActive:null==n&&null!=b?Ur(g)===b:n,transition:s||w.transition,mountOnEnter:null!=i?i:w.mountOnEnter,unmountOnExit:null!=a?a:w.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}]}const Vk=t.forwardRef(((e,t)=>{let{as:n="div"}=e,r=Bk(e,Fk);const[i,{isActive:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,transition:p=UC}]=zk(r);return(0,Ne.jsx)(Lk.Provider,{value:null,children:(0,Ne.jsx)(Fr.Provider,{value:null,children:(0,Ne.jsx)(p,{in:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,children:(0,Ne.jsx)(n,Object.assign({},i,{ref:t,hidden:!s,"aria-hidden":!s}))})})})}));Vk.displayName="TabPanel";const Qk=e=>{const{id:n,generateChildId:r,onSelect:i,activeKey:s,defaultActiveKey:a,transition:o,mountOnEnter:l,unmountOnExit:c,children:u}=e,[d,h]=kt(s,a,i),f=Nr(n),p=(0,t.useMemo)((()=>r||((e,t)=>f?"".concat(f,"-").concat(t,"-").concat(e):null)),[f,r]),m=(0,t.useMemo)((()=>({onSelect:h,activeKey:d,transition:o,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")})),[h,d,o,l,c,p]);return(0,Ne.jsx)(Lk.Provider,{value:m,children:(0,Ne.jsx)(Fr.Provider,{value:h||null,children:u})})};Qk.Panel=Vk;const Hk=Qk;function Wk(e){return"boolean"===typeof e?e?yk:UC:e}const qk=e=>{let{transition:t,...n}=e;return(0,Ne.jsx)(Hk,{...n,transition:Wk(t)})};qk.displayName="TabContainer";const Kk=qk,Gk=$e("tab-content"),Xk=t.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:s,as:a="div",...o},{isActive:l,onEnter:c,onEntering:u,onEntered:d,onExit:h,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,transition:v=yk}]=zk({...i,transition:Wk(r)}),y=Pe(n,"tab-pane");return(0,Ne.jsx)(Lk.Provider,{value:null,children:(0,Ne.jsx)(Fr.Provider,{value:null,children:(0,Ne.jsx)(v,{in:l,onEnter:c,onEntering:u,onEntered:d,onExit:h,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,children:(0,Ne.jsx)(a,{...o,ref:t,className:Ie()(s,y,l&&"active")})})})})}));Xk.displayName="TabPane";const Yk=Xk,Jk={eventKey:QA().oneOfType([QA().string,QA().number]),title:QA().node.isRequired,disabled:QA().bool,tabClassName:QA().string,tabAttrs:QA().object},Zk=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Zk.propTypes=Jk;const $k=Object.assign(Zk,{Container:Kk,Content:Gk,Pane:Yk});n(573);const ej=["as","active","eventKey"];function tj(e){let{key:n,onClick:r,active:i,id:s,role:a,disabled:o}=e;const l=(0,t.useContext)(Fr),c=(0,t.useContext)(zr),u=(0,t.useContext)(Lk);let d=i;const h={role:a};if(c){a||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);h[Qr("event-key")]=n,h.id=e||s,d=null==i&&null!=n?c.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),o&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Nt((e=>{o||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:d}]}const nj=t.forwardRef(((e,t)=>{let{as:n=Ge,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ej);const[a,o]=tj(Object.assign({key:Ur(i,s.href),active:r},s));return a[Qr("active")]=o.isActive,(0,Ne.jsx)(n,Object.assign({},s,a,{ref:t}))}));nj.displayName="NavItem";const rj=nj,ij=["as","onSelect","activeKey","role","onKeyDown"];const sj=()=>{},aj=Qr("event-key"),oj=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:o}=e,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ij);const c=St(),u=(0,t.useRef)(!1),d=(0,t.useContext)(Fr),h=(0,t.useContext)(Lk);let f,p;h&&(a=a||"tablist",s=h.activeKey,f=h.getControlledId,p=h.getControllerId);const m=(0,t.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=wt(t,"[".concat(aj,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(m.current&&u.current){const e=m.current.querySelector("[".concat(aj,"][aria-selected=true]"));null==e||e.focus()}u.current=!1}));const y=vi(n,m);return(0,Ne.jsx)(Fr.Provider,{value:v,children:(0,Ne.jsx)(zr.Provider,{value:{role:a,activeKey:Ur(s),getControlledId:f||sj,getControllerId:p||sj},children:(0,Ne.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==o||o(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),u.current=!0,c())},ref:y,role:a}))})})}));oj.displayName="Nav";const lj=Object.assign(oj,{Item:rj}),cj=$e("nav-item"),uj=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=fi,active:s,eventKey:a,disabled:o=!1,...l}=e;n=Pe(n,"nav-link");const[c,u]=tj({key:Ur(a,l.href),active:s,disabled:o,...l});return(0,Ne.jsx)(i,{...l,...c,ref:t,disabled:o,className:Ie()(r,n,o&&"disabled",u.isActive&&"active")})}));uj.displayName="NavLink";const dj=uj,hj=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:s,fill:a=!1,justify:o=!1,navbar:l,navbarScroll:c,className:u,activeKey:d,...h}=ri(e,{activeKey:"onSelect"}),f=Pe(i,"nav");let p,m,g=!1;const v=(0,t.useContext)(xi),y=(0,t.useContext)(it);return v?(p=v.bsPrefix,g=null==l||l):y&&({cardHeaderBsPrefix:m}=y),(0,Ne.jsx)(lj,{as:r,ref:n,activeKey:d,className:Ie()(u,{[f]:!g,["".concat(p,"-nav")]:g,["".concat(p,"-nav-scroll")]:g&&c,["".concat(m,"-").concat(s)]:!!m,["".concat(f,"-").concat(s)]:!!s,["".concat(f,"-fill")]:a,["".concat(f,"-justified")]:o}),...h})}));hj.displayName="Nav";const fj=Object.assign(hj,{Item:cj,Link:dj});function pj(e){let n;return function(e,n){let r=0;t.Children.forEach(e,(e=>{t.isValidElement(e)&&n(e,r++)}))}(e,(e=>{null==n&&(n=e.props.eventKey)})),n}function mj(e){const{title:t,eventKey:n,disabled:r,tabClassName:i,tabAttrs:s,id:a}=e.props;return null==t?null:(0,Ne.jsx)(cj,{as:"li",role:"presentation",children:(0,Ne.jsx)(dj,{as:"button",type:"button",eventKey:n,disabled:r,id:a,className:i,...s,children:t})})}const gj=e=>{const{id:t,onSelect:n,transition:r,mountOnEnter:i=!1,unmountOnExit:s=!1,variant:a="tabs",children:o,activeKey:l=pj(o),...c}=ri(e,{activeKey:"onSelect"});return(0,Ne.jsxs)(Hk,{id:t,activeKey:l,onSelect:n,transition:Wk(r),mountOnEnter:i,unmountOnExit:s,children:[(0,Ne.jsx)(fj,{...c,role:"tablist",as:"ul",variant:a,children:ZA(o,mj)}),(0,Ne.jsx)(Gk,{children:ZA(o,(e=>{const t={...e.props};return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,Ne.jsx)(Yk,{...t})}))})]})};gj.displayName="Tabs";const vj=gj;function yj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function wj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"}}]})(e)}function bj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function xj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function Ej(e){return Ui({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function Aj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function Cj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(e)}const kj=function(e){let{show:n,handleClose:r,activity:i,commentUserData:s,onDeleteComment:a,onLikeComment:o}=e;const[l,c]=(0,t.useState)("Kudos"),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]);return(0,t.useEffect)((()=>{n&&(async()=>{try{const e=Xv(FA,"userActivities",i.id),t=(await Ky(e)).data(),n=t.comments||[];d(n);const r=(t.activityLikes||[]).map((async e=>{const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(!n.empty)return{id:e,...n.docs[0].data()}})),s=await Promise.all(r);f(s)}catch(e){console.error("Error fetching comments and likers:",e)}})()}),[n,i.id]),(0,Ne.jsxs)(Pk,{show:n,onHide:r,children:[(0,Ne.jsx)(Pk.Header,{closeButton:!0,children:(0,Ne.jsx)(Pk.Title,{children:i.name})}),(0,Ne.jsxs)(Pk.Body,{children:[(0,Ne.jsxs)(vj,{id:"controlled-tab-example",activeKey:l,onSelect:e=>c(e),className:"mb-3",children:[(0,Ne.jsx)($k,{eventKey:"Kudos",title:"Kudos (".concat(h.length,")"),children:h.length>0?h.map((e=>(0,Ne.jsxs)("div",{className:"commenter-info-wrapper-tab",children:[(0,Ne.jsx)("img",{src:e.profileImageUrl,alt:e.name,width:44,height:44,className:"commenter-info-img"}),(0,Ne.jsxs)("div",{className:"commenterNameTextWrapper",children:[(0,Ne.jsx)("p",{className:"commenterName",children:e.name}),(0,Ne.jsx)("p",{className:"commenterText",children:e.location})]})]},e.id))):(0,Ne.jsx)("p",{children:"This entry has no kudos yet."})}),(0,Ne.jsx)($k,{eventKey:"Comments",title:"Comments (".concat(u.length,")"),children:u.length>0?u.map(((e,t)=>{var n,r,l,c;return(0,Ne.jsxs)("div",{className:"comment-display-wrapper",children:[(0,Ne.jsxs)("div",{className:"commenter-info-wrapper",children:[(0,Ne.jsx)("img",{src:(null===(n=s[e.userId])||void 0===n?void 0:n.profileImageUrl)||xC,alt:"User Profile",width:44,height:44,className:"commenter-info-img"}),(0,Ne.jsxs)("div",{className:"commenterNameTextWrapper",children:[(0,Ne.jsx)("p",{className:"commenterName",children:null===(r=s[e.userId])||void 0===r?void 0:r.name}),(0,Ne.jsxs)("p",{className:"commenterText",children:[e.text," "]})]})]}),(0,Ne.jsxs)("div",{className:"comment-btn-wrapper",children:[(0,Ne.jsx)("span",{children:null!==(l=i.commentLikes)&&void 0!==l&&l[t]?"1 Like":""}),null!==(c=i.commentLikes)&&void 0!==c&&c[t]?(0,Ne.jsx)(Aj,{id:"heartTheComment",onClick:()=>o(t)}):(0,Ne.jsx)(Cj,{id:"heartTheComment",onClick:()=>o(t)}),(0,Ne.jsx)(Ye,{variant:"link",size:"sm",id:"deTheComment",onClick:()=>a(t),children:"Delete"})," "]})]},t)})):(0,Ne.jsx)("p",{children:"This entry has no comments yet."})})]}),(0,Ne.jsx)(EC,{className:"comment-section visible",showComments:"Comments"===l,onCommentPost:async e=>{try{const t=zA(),n=Xv(FA,"userActivities",i.id),r=u||[],s={userId:t,text:e};d([...r,s]),await Yy(n,{comments:[...r,s]})}catch(t){console.error("Error saving comment:",t)}}})]})]})},jj=e=>{let{showComments:n,onCommentPost:r}=e;const[i,s]=(0,t.useState)("");return(0,Ne.jsxs)("div",{className:"comment-section ".concat(n?"visible":"hidden"),id:"activityCommentsWrapper",children:[(0,Ne.jsx)("img",{src:xC,alt:"user profile",width:24,height:24,id:"userProfileCommentsImg"}),(0,Ne.jsx)(bC.Group,{className:"mb-2 comments-textarea-wrapper",children:(0,Ne.jsx)(bC.Control,{as:"textarea",id:"commentingTextAreaInput",placeholder:"Add a comment, @ to mention",rows:2,value:i,onChange:e=>s(e.target.value)})}),(0,Ne.jsx)(Ye,{variant:"outline-primary",id:"activityCommentPostBtn",onClick:()=>{r(i),s("")},children:"Post"})," "]})};const Sj=function(e){let{show:n,handleClose:r,post:i,onDeleteComment:s,onLikeComment:a}=e;const[o,l]=(0,t.useState)([]);return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Pk,{show:n,onHide:r,children:[(0,Ne.jsx)(Pk.Header,{closeButton:!0,children:(0,Ne.jsx)(Pk.Title,{children:i.post})}),(0,Ne.jsxs)(Pk.Body,{children:[i.message," ",(0,Ne.jsxs)(vj,{defaultActiveKey:"profile",id:"uncontrolled-tab-example",className:"mb-3",children:[(0,Ne.jsxs)($k,{eventKey:"home",title:"Kudos (".concat(i.kudos.length,")"),children:["This entry has no kudos yet."," "]}),(0,Ne.jsx)($k,{eventKey:"profile",title:"Comments (".concat(i.comments.length,")"),children:i.comments.length>0?i.comments.map(((e,t)=>{var n;return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("p",{children:[e," ",(0,Ne.jsx)(Ye,{variant:"success",size:"sm",onClick:()=>s(t),children:"Delete"})," ",(0,Ne.jsx)(Ye,{variant:"danger",size:"sm",onClick:()=>a(t),children:"Like"}),(0,Ne.jsx)("p",{children:null!==(n=i.commentLikes)&&void 0!==n&&n[t]?"1 Like":""})]})},t)})):"This entry has no comments yet."})]})]}),(0,Ne.jsxs)(Pk.Footer,{children:[(0,Ne.jsx)(jj,{onCommentPost:e=>(async(e,t)=>{console.log("Comment posted:",e);try{l((n=>({...n,[t]:[...n[t]||[],e]})));const n=Xv(FA,"userPosts",t),r=(await Ky(n)).data().comments||[];await Yy(n,{comments:[...r,e]})}catch(n){console.error("Error saving comment:",n)}})(e,i.id)}),(0,Ne.jsx)(Ye,{variant:"primary",onClick:r,children:"Save Changes"})]})]})})},Ij=e=>{let{athlete:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=$y(Gv(FA,"userPosts"),(e=>{i(e.docs.map((e=>({...e.data(),id:e.id}))))}));return()=>e()}),[]);const f=async(e,t)=>{try{const n=Xv(FA,"userPosts",t),r=[...(await Ky(n)).data().comments||[]];r.splice(e,1),await Yy(n,{comments:r}),a((e=>({...e,[t]:r})))}catch(n){console.error("Error deleting comment:",n)}},p=async(e,t)=>{try{const n=Xv(FA,"userPosts",e),r=c[e]||{},i=r[t],s={...r,[t]:!i};await Yy(n,{commentLikes:s}),u((t=>({...t,[e]:s})))}catch(n){console.error("Error toggling comment like:",n)}};return(0,Ne.jsx)("div",{children:r.map((e=>{var t;return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(vt,{children:(0,Ne.jsxs)(vt.Body,{children:[(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Ve,{children:(0,Ne.jsxs)("div",{className:"feed-ui-card",children:[(0,Ne.jsx)(He,{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{sm:3,className:"feed-ui-user-image-col",style:{width:"15%"},children:(0,Ne.jsx)("div",{className:"feed-ui-user-image-wrapper",children:(0,Ne.jsx)(vt.Img,{variant:"top",id:"feed-ui-user-image",src:xC})})}),(0,Ne.jsx)(He,{sm:9,children:(0,Ne.jsxs)("div",{className:"feed-ui-user-info",children:[(0,Ne.jsxs)("p",{className:"feed-ui-user-name",children:[n.firstname," ",n.lastname]}),(0,Ne.jsx)("p",{className:"feed-ui-user-location",children:(0,Ne.jsxs)("time",{"data-test":!0,id:"date_at_time",children:[e.createdAt&&new Date(e.createdAt.toDate()).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})," ","at"," ",e.createdAt&&new Date(e.createdAt.toDate()).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"})]})})]})})]})}),(0,Ne.jsx)(He,{sm:4,children:(0,Ne.jsx)("div",{className:"feed-ui-card-external-socialsBtn-wrapper",children:(0,Ne.jsxs)(Ri,{id:"uiSocialsBtn",children:[(0,Ne.jsx)(Ri.Toggle,{variant:"success",id:"uiSocialsBtn-dropdownBtn-list",children:(0,Ne.jsx)(Bi,{className:"uiSocialsBtn-dropdownUp-icon"})}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{href:"#/action-1",className:"uiSocialsBtn-dropDown-link",children:"Facebook"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-1",className:"uiSocialsBtn-dropDown-link",children:"Twitter"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"uiSocialsBtn-dropDown-link",children:"Get Embed Code"})]})]})})})]})})}),(0,Ne.jsxs)("div",{id:"feedUIPackages",children:[(0,Ne.jsxs)("div",{className:"feed-ui-media",children:[(0,Ne.jsx)("div",{className:"feed-ui-run-icon",children:(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,Ne.jsx)("title",{children:"Run"}),(0,Ne.jsx)("path",{d:"M21.3 18.12L14.98 6.28a2.6 2.6 0 00-4.63.07l-.46.93a.585.585 0 01-.21-.45V3.17A2.452 2.452 0 007.24.72a2.172 2.172 0 00-2.01 1.4L2.91 6.84 1.39 7.96a2.768 2.768 0 00-1.06 2.06 2.96 2.96 0 00.9 2.32l7.76 7.9a11.62 11.62 0 008.22 3.43h3.65a2.757 2.757 0 002.41-1.4l.05-.09a2.7 2.7 0 00-.01-2.73 2.665 2.665 0 00-2.01-1.33zm.85 3.39l-.05.09a1.425 1.425 0 01-1.24.73h-3.65a10.257 10.257 0 01-7.26-3.04l-7.78-7.92a1.566 1.566 0 01-.49-1.27 1.426 1.426 0 01.5-1.05l.71-.53 8.6 8.48h1.64v-.28L3.98 7.7l2.48-5.02a.848.848 0 01.78-.61 1.1 1.1 0 011.09 1.1v3.66a1.92 1.92 0 001.92 1.92h.43l.88-1.8a1.24 1.24 0 011.12-.7 1.257 1.257 0 011.11.67l1.04 1.94L12.69 10v1.52l2.77-1.47.77 1.42v.01l-2.63 1.39v1.53l3.26-1.73.74 1.37-3.02 1.6v1.53l3.65-1.94 2.06 3.85.25.36h.4a1.376 1.376 0 011.2.69 1.34 1.34 0 01.01 1.38z",fill:""})]})}),(0,Ne.jsxs)("div",{className:"feed-ui-media-activity",children:[(0,Ne.jsx)("h4",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/activity/".concat(e.id),children:e.post})}),(0,Ne.jsx)("p",{children:e.message})]})]}),(0,Ne.jsxs)("div",{className:"feed-ui-activity-container",children:[(0,Ne.jsx)("div",{className:"feed-ui-activity-images ".concat(1===e.imageUrls.length?"single-image":""),children:e.imageUrls&&e.imageUrls.length>0&&(0,Ne.jsx)(Ne.Fragment,{children:e.imageUrls.map(((t,n)=>(0,Ne.jsx)("div",{className:"feed-ui-activity-imageLeft",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/post/".concat(e.id),children:[(0,Ne.jsx)(vt.Img,{variant:"top",src:t,width:1===e.imageUrls.length?574:287,height:287}),0===n&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Ye,{title:"View all kudos",id:"start-and-end-hidden-btn",children:"Start and end hidden"}),(0,Ne.jsx)(Ye,{title:"View all kudos",id:"saveRouteBtn",children:"Save Route"})]})]})},n)))})}),(0,Ne.jsxs)("div",{className:"activity-kudos-reactions",children:[(0,Ne.jsx)(Ye,{title:"View all kudos",id:"activityKudosLikeBtn",onClick:()=>h((t=>t===e.id||e.id)),children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16","data-testid":"unfilled_kudos",children:(0,Ne.jsx)("path",{d:"M15.243 7.182a1.907 1.907 0 00-.532-1.423 2.069 2.069 0 00-1.493-.641H9.863l.454-1.812A2.426 2.426 0 008.064.514h-.513l-.718 2.807L4.97 6.915.412 9.34l2.472 6.424 4.278-2.28h4.785a2.142 2.142 0 002.127-1.976l.084-1.177a1.962 1.962 0 00.712-2.097 1.93 1.93 0 00.373-1.052zM1.664 9.807l2.06-1.1 1.748 4.542-2.061 1.1-1.747-4.542zm12.289-2.038l-.268.254.165.331a.942.942 0 01-.044.903.965.965 0 01-.369.352l-.237.131-.122 1.7a1.123 1.123 0 01-1.129 1.049H6.914l-.552.295-1.748-4.547 1.1-.586 2.033-3.92.567-2.166a1.427 1.427 0 011.032 1.371c0 .071 0 .139-.007.167l-.758 3.016h4.64a1.059 1.059 0 01.764.328.917.917 0 01.26.683.942.942 0 01-.292.639z",fill:""})})}),(0,Ne.jsx)(Ye,{title:"Comments",id:"activityKudosCommentBtn",onClick:()=>l((t=>t===e.id?null:e.id)),children:(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:[(0,Ne.jsx)("path",{d:"M.5 1.5v11h2v3.21l6.06-3.21h6.94v-11H.5zm14 10H8.31L3.5 14.05V11.5h-2v-9h13v9z",fill:""}),(0,Ne.jsx)("path",{d:"M12.96 4.5H3v1h9.43l.53-1zm-1.59 3H3v1h7.84l.53-1z",fill:""})]})})]}),null===(t=s[e.id])||void 0===t?void 0:t.reverse().map(((t,n)=>{var r;return(0,Ne.jsxs)("div",{className:"comment-display",children:[t,(0,Ne.jsx)(Ye,{variant:"success",size:"sm",onClick:()=>f(n,e.id),children:"Delete"}),(0,Ne.jsx)(Ye,{variant:"danger",size:"sm",id:"heartTheComment",onClick:()=>p(e.id,n),children:"Heart"})," ",(0,Ne.jsxs)("p",{children:[" ",null!==(r=c[e.id])&&void 0!==r&&r[n]?"1 Like":""]})]},n)})),(0,Ne.jsx)(jj,{showComments:o===e.id,onCommentPost:t=>(async(e,t)=>{try{a((n=>({...n,[t]:[...n[t]||[],e]})));const n=Xv(FA,"userPosts",t),r=(await Ky(n)).data().comments||[];await Yy(n,{comments:[...r,e]})}catch(n){console.error("Error saving comment:",n)}})(t,e.id)}),d===e.id&&(0,Ne.jsx)(Sj,{show:d===e.id,handleClose:()=>h(!1),post:e,onDeleteComment:t=>f(t,e.id),onLikeComment:t=>p(e.id,t)})]})]})]})},e.id)})}))})};const Nj=function(e){let{athlete:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)({}),[m,g]=(0,t.useState)({}),[v,y]=(0,t.useState)({});(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(n.empty)console.error("User document not found for current user.");else{const e=n.docs[0].data();p(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=$y(Gv(FA,"userActivities"),(e=>{const t=e.docs.map((e=>({...e.data(),id:e.id}))).filter((e=>e.userId===zA())).sort(((e,t)=>t.createdAt.toMillis()-e.createdAt.toMillis())),n=[...t];i(n),n.forEach((async e=>{const t=e.id,n=Xv(FA,"userActivities",t),r=(await Ky(n)).data().comments||[];a((e=>({...e,[t]:r})));const i=(await Ky(n)).data().commentLikes||{};u((e=>({...e,[t]:i})))}))}));return()=>e()}),[]),(0,t.useEffect)((()=>{(async()=>{try{const e=Object.values(s).flatMap((e=>e.map((e=>e.userId)))),t=Array.from(new Set(e)).map((async e=>{const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(!n.empty){return{userId:e,userData:n.docs[0].data()}}return null})),n=(await Promise.all(t)).reduce(((e,t)=>{let{userId:n,userData:r}=t;return r&&(e[n]=r),e}),{});y(n)}catch(e){console.error("Error fetching user data:",e)}})()}),[s]),(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(!n.empty){const e=n.docs[0].data(),t=(e.following||[]).map((async e=>{const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(!n.empty){return n.docs[0].data()}return null})),r=(await Promise.all(t)).reduce(((e,t)=>(t&&(e[t.uid]=t),e)),{});g(r)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Gv(FA,"userActivities"),n=Oy(t,Py("userId","==",e));let r=(await Xy(n)).docs.map((e=>({id:e.id,...e.data()})));const s=Oy(Gv(FA,"users"),Py("uid","==",e)),a=await Xy(s);if(!a.empty){const e=a.docs[0].data();if(e.following&&e.following.length>0)for(const n of e.following){const e=Oy(t,Py("userId","==",n)),i=(await Xy(e)).docs.map((e=>({id:e.id,...e.data()})));r=r.concat(i)}}const o=Array.from(new Set(r.map((e=>e.id)))).map((e=>r.find((t=>t.id===e)))),l=o.sort(((e,t)=>t.createdAt.toMillis()-e.createdAt.toMillis())),c=[...l];i(c)}}catch(e){console.error("Error fetching activities:",e)}})()}),[]);const w=async(e,t)=>{try{const n=zA(),s=Xv(FA,"userActivities",t),o=(await Ky(s)).data().comments||[],l={userId:n,text:e};a((e=>({...e,[t]:[...e[t]||[],l]}))),await Yy(s,{comments:[...o,l]});const c=[...r];i(c)}catch(n){console.error("Error saving comment:",n)}},b=async(e,t)=>{try{const n=Xv(FA,"userActivities",t),s=((await Ky(n)).data().comments||[]).filter(((t,n)=>n!==e));await Yy(n,{comments:s}),a((e=>({...e,[t]:s})));const o=[...r];i(o)}catch(n){console.error("Error deleting comment:",n)}},x=async(e,t)=>{try{const n=Xv(FA,"userActivities",e),s=c[e]||{},a=s[t],o={...s,[t]:!a};await Yy(n,{commentLikes:o}),u((t=>({...t,[e]:o})));const l=[...r];i(l)}catch(n){console.error("Error toggling comment like:",n)}},E=async(e,t)=>{try{const n=Xv(FA,"userActivities",e);await Yy(n,{activityLikes:t}),console.log("Activity likes updated in the database successfully.")}catch(n){console.error("Error updating activity likes in the database:",n)}};return(0,Ne.jsx)("div",{id:"homeDashboardFeedUI",className:"center-sidebar-container",children:(0,Ne.jsxs)(Be,{children:[(0,Ne.jsx)(Ij,{athlete:n}),r.map((e=>{var t,n,a,u;return(0,Ne.jsx)(vt,{style:{width:"auto",marginBottom:"14px"},children:(0,Ne.jsxs)(vt.Body,{children:[(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Ve,{children:(0,Ne.jsxs)("div",{className:"feed-ui-card",children:[(0,Ne.jsx)(He,{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{sm:3,className:"feed-ui-user-image-col",style:{width:"15%"},children:(0,Ne.jsx)("div",{className:"feed-ui-user-image-wrapper",children:e.userId===zA()?f.profileImageUrl?(0,Ne.jsx)(vt.Img,{variant:"top",id:"feed-ui-user-image",src:f.profileImageUrl,width:44,height:44}):(0,Ne.jsx)(vt.Img,{variant:"top",id:"feed-ui-user-image",src:xC,width:44,height:44}):null!==(t=m[e.userId])&&void 0!==t&&t.profileImageUrl?(0,Ne.jsx)(vt.Img,{variant:"top",id:"feed-ui-user-image",src:null===(n=m[e.userId])||void 0===n?void 0:n.profileImageUrl,width:44,height:44}):(0,Ne.jsx)(vt.Img,{variant:"top",id:"feed-ui-user-image",src:xC,width:44,height:44})})}),(0,Ne.jsx)(He,{sm:9,children:(0,Ne.jsxs)("div",{className:"feed-ui-user-info",children:[(0,Ne.jsx)("p",{className:"feed-ui-user-name",children:e.userId===zA()?f.name:m&&(null===(a=m[e.userId])||void 0===a?void 0:a.name)}),(0,Ne.jsxs)("p",{className:"feed-ui-user-location",children:[(0,Ne.jsxs)("time",{"data-test":!0,id:"date_at_time",children:[e.createdAt&&new Date(e.createdAt.toDate()).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})," ","at"," ",e.createdAt&&new Date(e.createdAt.toDate()).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"})]}),(0,Ne.jsx)("br",{})]})]})})]})}),(0,Ne.jsx)(He,{sm:4,children:(0,Ne.jsx)("div",{className:"feed-ui-card-external-socialsBtn-wrapper",children:(0,Ne.jsxs)(Ri,{id:"uiSocialsBtn",children:[(0,Ne.jsx)(Ri.Toggle,{variant:"success",id:"uiSocialsBtn-dropdownBtn-list",children:(0,Ne.jsx)(Bi,{className:"uiSocialsBtn-dropdownUp-icon"})}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{href:"#Facebook",className:"uiSocialsBtn-dropDown-link",children:"Facebook"}),(0,Ne.jsx)(Ri.Item,{href:"#Twitter",className:"uiSocialsBtn-dropDown-link",children:"Twitter"}),(0,Ne.jsx)(Ri.Item,{href:"#Get Embed Code",className:"uiSocialsBtn-dropDown-link",children:"Get Embed Code"})]})]})})})]})})}),(0,Ne.jsx)("div",{id:"feedUIPackages",children:(0,Ne.jsxs)("div",{className:"feed-ui-media",children:[(0,Ne.jsx)("div",{className:"feed-ui-run-icon",children:(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,Ne.jsx)("title",{children:"Run"}),(0,Ne.jsx)("path",{d:"M21.3 18.12L14.98 6.28a2.6 2.6 0 00-4.63.07l-.46.93a.585.585 0 01-.21-.45V3.17A2.452 2.452 0 007.24.72a2.172 2.172 0 00-2.01 1.4L2.91 6.84 1.39 7.96a2.768 2.768 0 00-1.06 2.06 2.96 2.96 0 00.9 2.32l7.76 7.9a11.62 11.62 0 008.22 3.43h3.65a2.757 2.757 0 002.41-1.4l.05-.09a2.7 2.7 0 00-.01-2.73 2.665 2.665 0 00-2.01-1.33zm.85 3.39l-.05.09a1.425 1.425 0 01-1.24.73h-3.65a10.257 10.257 0 01-7.26-3.04l-7.78-7.92a1.566 1.566 0 01-.49-1.27 1.426 1.426 0 01.5-1.05l.71-.53 8.6 8.48h1.64v-.28L3.98 7.7l2.48-5.02a.848.848 0 01.78-.61 1.1 1.1 0 011.09 1.1v3.66a1.92 1.92 0 001.92 1.92h.43l.88-1.8a1.24 1.24 0 011.12-.7 1.257 1.257 0 011.11.67l1.04 1.94L12.69 10v1.52l2.77-1.47.77 1.42v.01l-2.63 1.39v1.53l3.26-1.73.74 1.37-3.02 1.6v1.53l3.65-1.94 2.06 3.85.25.36h.4a1.376 1.376 0 011.2.69 1.34 1.34 0 01.01 1.38z",fill:""})]})}),(0,Ne.jsxs)("div",{className:"feed-ui-media-activity",children:[(0,Ne.jsx)("h4",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/activity/".concat(e.id),children:e.name})}),(0,Ne.jsx)("p",{children:e.description}),(0,Ne.jsx)("div",{className:"feed-ui-media-stats",children:(0,Ne.jsxs)("div",{className:"media-stats-wrapper",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{className:"media-stats-para",children:"Distance"}),(0,Ne.jsxs)("p",{className:"media-stats-para-numbers",children:[e.distance," Km"]})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{className:"media-stats-para",children:"Elev Gain"}),(0,Ne.jsxs)("p",{className:"media-stats-para-numbers",children:[e.elevation," m"]})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{className:"media-stats-para",children:"Time"}),(0,Ne.jsxs)("p",{className:"media-stats-para-numbers",children:[e.hour,"h ",e.minute,"m"," ",e.second,"s"]})]})]})})]})]})}),(0,Ne.jsxs)("div",{className:"feed-ui-activity-container",children:[(0,Ne.jsx)("div",{className:"feed-ui-activity-images ".concat(1===e.imageUrls.length?"single-image":""),children:e.imageUrls&&e.imageUrls.length>0&&(0,Ne.jsx)(Ne.Fragment,{children:e.imageUrls.map(((t,n)=>(0,Ne.jsx)("div",{className:"feed-ui-activity-imageLeft",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activity/".concat(e.id),children:[(0,Ne.jsx)(vt.Img,{variant:"top",src:t,width:1===e.imageUrls.length?574:287,height:287}),0===n&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Ye,{title:"View all kudos",id:"start-and-end-hidden-btn",children:"Start and end hidden"}),(0,Ne.jsx)(Ye,{title:"View all kudos",id:"saveRouteBtn",children:"Save Route"})]})]})},n)))})}),(0,Ne.jsxs)("div",{className:"activity-kudos-reactions",children:[(0,Ne.jsx)("p",{children:e.activityLikes?"".concat(e.activityLikes.length," Likes"):""}),(0,Ne.jsx)(Ye,{title:"View all kudos",id:"activityKudosLikeBtn",onClick:()=>(async e=>{try{const t=zA(),n=[...r],s=n.findIndex((t=>t.id===e));if(-1!==s)if(n[s].activityLikes.includes(t))h((t=>t===e||e));else{const r=[...n[s].activityLikes,t];n[s]={...n[s],activityLikes:r},await E(e,r),i(n)}}catch(t){console.error("Error handling like activity:",t)}})(e.id),children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16","data-testid":"unfilled_kudos",children:(0,Ne.jsx)("path",{d:"M15.243 7.182a1.907 1.907 0 00-.532-1.423 2.069 2.069 0 00-1.493-.641H9.863l.454-1.812A2.426 2.426 0 008.064.514h-.513l-.718 2.807L4.97 6.915.412 9.34l2.472 6.424 4.278-2.28h4.785a2.142 2.142 0 002.127-1.976l.084-1.177a1.962 1.962 0 00.712-2.097 1.93 1.93 0 00.373-1.052zM1.664 9.807l2.06-1.1 1.748 4.542-2.061 1.1-1.747-4.542zm12.289-2.038l-.268.254.165.331a.942.942 0 01-.044.903.965.965 0 01-.369.352l-.237.131-.122 1.7a1.123 1.123 0 01-1.129 1.049H6.914l-.552.295-1.748-4.547 1.1-.586 2.033-3.92.567-2.166a1.427 1.427 0 011.032 1.371c0 .071 0 .139-.007.167l-.758 3.016h4.64a1.059 1.059 0 01.764.328.917.917 0 01.26.683.942.942 0 01-.292.639z",fill:""})})}),(0,Ne.jsx)(Ye,{title:"Comments",id:"activityKudosCommentBtn",onClick:()=>l((t=>t===e.id?null:e.id)),children:(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:[(0,Ne.jsx)("path",{d:"M.5 1.5v11h2v3.21l6.06-3.21h6.94v-11H.5zm14 10H8.31L3.5 14.05V11.5h-2v-9h13v9z",fill:""}),(0,Ne.jsx)("path",{d:"M12.96 4.5H3v1h9.43l.53-1zm-1.59 3H3v1h7.84l.53-1z",fill:""})]})})]}),null===(u=s[e.id])||void 0===u?void 0:u.reverse().map(((t,n)=>{var r,i,s,a;return(0,Ne.jsx)("div",{className:"comment-display-container",children:(0,Ne.jsxs)("div",{className:"comment-display-wrapper",children:[(0,Ne.jsxs)("div",{className:"commenter-info-wrapper",children:[(0,Ne.jsx)("img",{src:(null===(r=v[t.userId])||void 0===r?void 0:r.profileImageUrl)||xC,alt:"User Profile",width:44,height:44,className:"commenter-info-img"}),(0,Ne.jsxs)("div",{className:"commenterNameTextWrapper",children:[(0,Ne.jsx)("p",{className:"commenterName",children:null===(i=v[t.userId])||void 0===i?void 0:i.name}),(0,Ne.jsx)("p",{className:"commenterText",children:t.text})]})]}),(0,Ne.jsxs)("div",{className:"comment-btn-wrapper",children:[(0,Ne.jsxs)("span",{children:[" ",null!==(s=c[e.id])&&void 0!==s&&s[n]?"1 Like":""]}),(0,Ne.jsxs)("div",{id:"commentsBtnsWrapper",children:[null!==(a=c[e.id])&&void 0!==a&&a[n]?(0,Ne.jsx)(Aj,{id:"heartTheComment",onClick:()=>x(e.id,n)}):(0,Ne.jsx)(Cj,{id:"heartTheComment",onClick:()=>x(e.id,n)}),(0,Ne.jsx)(Ye,{variant:"link",size:"sm",id:"deTheComment",onClick:()=>b(n,e.id),children:"Delete"})]})]})]})},"".concat(t.id,"_").concat(n))})),(0,Ne.jsx)(EC,{showComments:o===e.id,onCommentPost:t=>w(t,e.id)}),d===e.id&&(0,Ne.jsx)(kj,{show:d===e.id,handleClose:()=>h(!1),activity:e,commentUserData:v,onDeleteComment:t=>b(t,e.id),onLikeComment:t=>x(e.id,t),handleCommentPost:t=>w(t,e.id)})]})]})},e.id)})),(0,Ne.jsx)("div",{className:"feed-end",children:(0,Ne.jsxs)("p",{children:["No more recent activity available. ",(0,Ne.jsx)("br",{}),"To create new activities, visit the"," ",(0,Ne.jsx)(Ae,{to:"/strava-app/home/manual",children:"Manual Entry Form"}),"."]})})]})})},_j=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r,disabled:i,eventKey:s,className:a,variant:o,action:l,as:c,...u}=e;n=Pe(n,"list-group-item");const[d,h]=tj({key:Ur(s,u.href),active:r,...u}),f=Nt((e=>{if(i)return e.preventDefault(),void e.stopPropagation();d.onClick(e)}));i&&void 0===u.tabIndex&&(u.tabIndex=-1,u["aria-disabled"]=!0);const p=c||(l?u.href?"a":"button":"div");return(0,Ne.jsx)(p,{ref:t,...u,...d,onClick:f,className:Ie()(a,n,h.isActive&&"active",i&&"disabled",o&&"".concat(n,"-").concat(o),l&&"".concat(n,"-action"))})}));_j.displayName="ListGroupItem";const Tj=_j,Rj=t.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:a,as:o="div",...l}=ri(e,{activeKey:"onSelect"}),c=Pe(r,"list-group");let u;return s&&(u=!0===s?"horizontal":"horizontal-".concat(s)),(0,Ne.jsx)(lj,{ref:t,...l,as:o,className:Ie()(n,c,i&&"".concat(c,"-").concat(i),u&&"".concat(c,"-").concat(u),a&&"".concat(c,"-numbered"))})}));Rj.displayName="ListGroup";const Oj=Object.assign(Rj,{Item:Tj});function Dj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.11 12.45L14 10.24l-3.11 6.21c-.16.34-.51.55-.89.55s-.73-.21-.89-.55L7.38 13H2v5c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-5h-6c-.38 0-.73-.21-.89-.55z"}},{tag:"path",attr:{d:"M20 4H4c-1.1 0-2 .9-2 2v5h6c.38 0 .73.21.89.55L10 13.76l3.11-6.21c.34-.68 1.45-.68 1.79 0L16.62 11H22V6c0-1.1-.9-2-2-2z"}}]})(e)}function Pj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.5 5H11l5 7-5 7h4.5l5-7z"}},{tag:"path",attr:{d:"M8.5 5H4l5 7-5 7h4.5l5-7z"}}]})(e)}function Lj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]})(e)}function Mj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M235.4 172.2c0-11.4 9.3-19.9 20.5-19.9 11.4 0 20.7 8.5 20.7 19.9s-9.3 20-20.7 20c-11.2 0-20.5-8.6-20.5-20zm1.4 35.7H275V352h-38.2V207.9z"}},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"}}]})(e)}function Uj(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"}}]})(e)}const Fj=()=>{const[e,n]=(0,t.useState)((()=>(new Date).getDay()));return(0,Ne.jsxs)("div",{children:[" ",(0,Ne.jsxs)("svg",{className:"recharts-surface",width:"150",height:"100",viewBox:"0 0 150 100",children:[(0,Ne.jsx)("title",{}),(0,Ne.jsx)("desc",{}),(0,Ne.jsx)("defs",{children:(0,Ne.jsx)("clipPath",{id:"recharts1-clip",children:(0,Ne.jsx)("rect",{x:"5",y:"5",height:"60",width:"140"})})}),(0,Ne.jsxs)("g",{className:"recharts-layer recharts-bar",children:[(0,Ne.jsxs)("g",{className:"recharts-layer recharts-bar-rectangles",children:[(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"7",y:"63",radius:"0",className:"recharts-rectangle",d:"M 7,63 h 16 v 2 h -16 Z"})}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"27",y:"63",radius:"0",className:"recharts-rectangle",d:"M 27,63 h 16 v 2 h -16 Z"})}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"47",y:"63",radius:"0",className:"recharts-rectangle",d:"M 47,63 h 16 v 2 h -16 Z"})}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"67",y:"63",radius:"0",className:"recharts-rectangle",d:"M 67,63 h 16 v 2 h -16 Z"})}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"87",y:"63",radius:"0",className:"recharts-rectangle",d:"M 87,63 h 16 v 2 h -16 Z"})}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"107",y:"63",radius:"0",className:"recharts-rectangle",d:"M 107,63 h 16 v 2 h -16 Z"})}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-bar-rectangle",children:(0,Ne.jsx)("path",{fill:"#d3d1cd",width:"16",height:"2",x:"127",y:"63",radius:"0",className:"recharts-rectangle",d:"M 127,63 h 16 v 2 h -16 Z"})})]}),(0,Ne.jsx)("g",{className:"recharts-layer"})]}),(0,Ne.jsx)("g",{className:"recharts-layer recharts-cartesian-axis recharts-xAxis xAxis",children:(0,Ne.jsx)("g",{className:"recharts-cartesian-axis-ticks",children:(0,Ne.jsx)("g",{className:"recharts-layer recharts-cartesian-axis-tick",children:["M","T","W","T","F","S","S"].map(((t,n)=>(0,Ne.jsxs)("g",{transform:"translate(".concat(15+20*n,",73)"),children:[(0,Ne.jsx)("text",{x:"0",y:"10",fill:n+1===e?"#fc5200":"#2b2b2b",textAnchor:"middle",fontWeight:n+1===e?"800":"400",children:t}),n+1===e&&(0,Ne.jsx)("svg",{x:"-5",y:"15",width:"10",height:"10",children:(0,Ne.jsx)("polygon",{points:"5,0 0,10 10,10",fill:"#fc5200"})})]},n)))})})})]})]})};const Bj=n.p+"static/media/dropdown_icon.80862692be04d51ac8490e5065a66a9c.svg",zj=e=>{let{svgContent:t,weekText:n,yearText:r}=e;return(0,Ne.jsxs)("div",{children:[" ",(0,Ne.jsxs)("div",{className:"relativeEffortTitleStyle",children:[(0,Ne.jsx)(Pj,{className:"arrowIcon"}),(0,Ne.jsx)("p",{children:"GOALS"})]}),(0,Ne.jsxs)(vt,{style:{width:"17rem"},id:"recoveryWeek-cardStyle",children:[(0,Ne.jsxs)(vt.Body,{children:[(0,Ne.jsx)(vt.Text,{className:"goals-tab-cardText",children:(0,Ne.jsx)("div",{className:"goals-tab-text",children:(0,Ne.jsxs)("p",{children:["Subscribe to stay motivated with custom progress, segment and power goals. ",(0,Ne.jsx)(Ae,{to:"/strava-app/home",children:"Upgrade"})]})})}),(0,Ne.jsx)(vt.Text,{className:"weekStats-cardText",children:(0,Ne.jsxs)("div",{className:"goals-tab-stats",children:[(0,Ne.jsx)("p",{className:"thisWeek-para",children:"THIS WEEK"}),(0,Ne.jsx)("p",{className:"thisWeek-numbers",children:n})]})}),(0,Ne.jsx)(vt.Text,{children:(0,Ne.jsxs)("div",{className:"tab-stats",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Ne.jsx)(Fj,{}),t]})}),(0,Ne.jsx)(vt.Text,{className:"weekStats-cardText-second",children:(0,Ne.jsxs)("div",{className:"goals-tab-stats",children:[(0,Ne.jsx)("p",{className:"thisWeek-para",children:"THIS YEAR"}),(0,Ne.jsx)("p",{className:"thisWeek-numbers",children:r})]})})]}),(0,Ne.jsx)(vt.Body,{className:"training-log",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",id:"goals-log-link",children:["Manage Your Goals ",(0,Ne.jsx)("img",{src:Bj,alt:"arrow for helping the user to their activities",className:"trainingLogIcon",width:32,height:32})]})})]})]})},Vj=()=>(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("svg",{className:"runningIcon",width:"80",height:"80",viewBox:"-3.8000000000000003 -3.8000000000000003 83.60000000000001 83.60000000000001",children:[(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"none",strokeWidth:"1",fill:"#44b6c2",opacity:"0"}),(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"#d3d1cd",strokeWidth:"5",fill:"none"}),(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"#44b6c2",strokeWidth:"5",fill:"none",strokeDasharray:"0px 1px",strokeDashoffset:"0px",transform:"rotate(-90,38,38)",pathLength:"1"}),(0,Ne.jsx)("svg",{x:"22.8",y:"22.8",width:"30.400000000000002",height:"30.400000000000002","aria-hidden":"true",children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30.400000000000002",height:"30.400000000000002",children:(0,Ne.jsx)("path",{d:"M21.3 18.12L14.98 6.28a2.6 2.6 0 00-4.63.07l-.46.93a.585.585 0 01-.21-.45V3.17A2.452 2.452 0 007.24.72a2.172 2.172 0 00-2.01 1.4L2.91 6.84 1.39 7.96a2.768 2.768 0 00-1.06 2.06 2.96 2.96 0 00.9 2.32l7.76 7.9a11.62 11.62 0 008.22 3.43h3.65a2.757 2.757 0 002.41-1.4l.05-.09a2.7 2.7 0 00-.01-2.73 2.665 2.665 0 00-2.01-1.33zm.85 3.39l-.05.09a1.425 1.425 0 01-1.24.73h-3.65a10.257 10.257 0 01-7.26-3.04l-7.78-7.92a1.566 1.566 0 01-.49-1.27 1.426 1.426 0 01.5-1.05l.71-.53 8.6 8.48h1.64v-.28L3.98 7.7l2.48-5.02a.848.848 0 01.78-.61 1.1 1.1 0 011.09 1.1v3.66a1.92 1.92 0 001.92 1.92h.43l.88-1.8a1.24 1.24 0 011.12-.7 1.257 1.257 0 011.11.67l1.04 1.94L12.69 10v1.52l2.77-1.47.77 1.42v.01l-2.63 1.39v1.53l3.26-1.73.74 1.37-3.02 1.6v1.53l3.65-1.94 2.06 3.85.25.36h.4a1.376 1.376 0 011.2.69 1.34 1.34 0 01.01 1.38z",fill:""})})})]})}),Qj=()=>(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("svg",{className:"bikingIcon",width:"80",height:"80",viewBox:"-3.8000000000000003 -3.8000000000000003 83.60000000000001 83.60000000000001",children:[(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"none",strokeWidth:"1",fill:"#44b6c2",opacity:"0"}),(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"#d3d1cd",strokeWidth:"5",fill:"none"}),(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"#44b6c2",strokeWidth:"5",fill:"none",strokeDasharray:"0px 1px",strokeDashoffset:"0px",transform:"rotate(-90,38,38)",pathLength:"1"}),(0,Ne.jsx)("svg",{x:"22.8",y:"22.8",width:"30.400000000000002",height:"30.400000000000002","aria-hidden":"true",children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30.400000000000002",height:"30.400000000000002",children:(0,Ne.jsx)("path",{d:"M5.5 19.675a5.166 5.166 0 005.105-4.485h1.105l3.28-6.52.76 1.46a5.044 5.044 0 101.22-.57l-2.03-3.89H17a.333.333 0 01.33.33v.57h1.34V6A1.674 1.674 0 0017 4.32h-4.29l1.57 3.01H8.542L7.66 5.67h1.45l-.72-1.35H4.17l.72 1.35h1.241l1.26 2.37v.01l-.76 1.41a5.2 5.2 0 00-1.13-.135 5.175 5.175 0 100 10.35zm12.79-4.695h1.52l-2.2-4.2c.291-.073.59-.11.89-.11a3.83 3.83 0 11-3.83 3.83 3.877 3.877 0 011.7-3.19l1.92 3.67zm-4.82-6.31l-2.046 4.082-2.17-4.082h4.216zm-5.32.8l2.323 4.371H5.8l2.35-4.37zM5.5 10.675c.151.005.302.019.451.041l-1.58 2.944.79 1.53h4.1a3.822 3.822 0 11-3.76-4.515z",fill:""})})})]})}),Hj=()=>(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("svg",{className:"swimmingWaveIcon",width:"80",height:"80",viewBox:"-3.8000000000000003 -3.8000000000000003 83.60000000000001 83.60000000000001",children:[(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"none",strokeWidth:"1",fill:"#44b6c2",opacity:"0"}),(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"#d3d1cd",strokeWidth:"5",fill:"none"}),(0,Ne.jsx)("circle",{cx:"38",cy:"38",r:"38",stroke:"#44b6c2",strokeWidth:"5",fill:"none",strokeDasharray:"0px 1px",strokeDashoffset:"0px",transform:"rotate(-90,38,38)",pathLength:"1"}),(0,Ne.jsx)("svg",{x:"22.8",y:"22.8",width:"30.400000000000002",height:"30.400000000000002","aria-hidden":"true",children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30.400000000000002",height:"30.400000000000002",children:(0,Ne.jsx)("path",{d:"M19.99 13.33a3.7 3.7 0 01-3.32-2l-.17-.32h-1.01l-.17.32a3.763 3.763 0 01-6.65 0l-.17-.32H7.49l-.17.32a3.72 3.72 0 01-3.32 2 3.7 3.7 0 01-3.01-1.51v1.88a5.02 5.02 0 003.01.98 5.054 5.054 0 004-1.92 5.116 5.116 0 007.99 0 5.122 5.122 0 007.01.94v-1.88a3.71 3.71 0 01-3.01 1.51zm-7.99 8a3.725 3.725 0 01-3.33-2L8.49 19H7.5l-.18.33a3.7 3.7 0 01-3.32 2 3.7 3.7 0 01-3.01-1.51v1.89c.873.64 1.929.98 3.01.97a5.054 5.054 0 004-1.92 5.054 5.054 0 004 1.92 4.947 4.947 0 003-.98v-1.87a3.654 3.654 0 01-3 1.5zm8-16.02a3.735 3.735 0 01-3.33-2L16.51 3h-1.02l-.16.31a3.724 3.724 0 01-3.33 2 3.681 3.681 0 01-3-1.5V5.7a5.04 5.04 0 003 .96 5.024 5.024 0 004-1.92 5.023 5.023 0 004 1.92 5.124 5.124 0 003-.95v-1.9a3.654 3.654 0 01-3 1.5z",fill:""})})})]})}),Wj={profile:(0,Ne.jsx)(Vj,{}),cycleBike:(0,Ne.jsx)(Qj,{}),swimWave:(0,Ne.jsx)(Hj,{})},qj=()=>{const[e,n]=(0,t.useState)("profile"),[r,i]=(0,t.useState)(0);(0,t.useEffect)((()=>()=>(async()=>{const e=Oy(Gv(FA,"userActivities"),Py("userId","==",zA()));let t=(await Xy(e)).docs.map((e=>({id:e.id,...e.data()}))),n=t.reduce(((e,t)=>parseInt(e)+parseInt(t.distance)),0);i(n.toString())})()),[]);const s={profile:"".concat(r," km"),cycleBike:"".concat(r," km"),swimWave:"".concat(r," km")},a={profile:"".concat(r," km"),cycleBike:"".concat(r," km"),swimWave:"".concat(r," km")};return(0,Ne.jsxs)("div",{children:[" ",(0,Ne.jsxs)(vj,{style:{width:"17rem"},defaultActiveKey:"profile",activeKey:e,transition:!1,onSelect:e=>{n(e)},id:"fill-tab-recoveryWeek",className:"mb-3 recoveryWeek",fill:!0,children:[(0,Ne.jsxs)($k,{eventKey:"home",title:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,Ne.jsxs)("g",{fill:"",children:[(0,Ne.jsx)("path",{d:"M17.66 2.33a2.162 2.162 0 00-2.16-2h-7a2.162 2.162 0 00-2.16 2H2.33v21.34h19.34V2.33zm-9.99.17a.985.985 0 01.02-.17.818.818 0 01.81-.66h7a.818.818 0 01.81.66.982.982 0 01.02.17v1.83H7.67zm12.66 19.83H3.67V3.67h2.66v2h11.34v-2h2.66z"}),(0,Ne.jsx)("path",{d:"M8.675 16h-1.35v4h1.35zm4-4h-1.35v8h1.35zm4-4h-1.35v12h1.35z"})]})}),children:[(0,Ne.jsxs)("div",{className:"relativeEffortTitleStyle",children:[(0,Ne.jsx)(Pj,{className:"arrowIcon"}),(0,Ne.jsx)("p",{children:"RELATIVE EFFORT"}),(0,Ne.jsx)(Mj,{className:"informationIcon"})]}),(0,Ne.jsxs)(vt,{style:{width:"17rem"},id:"recoveryWeek-cardStyle",children:[(0,Ne.jsxs)(vt.Body,{children:[(0,Ne.jsx)(vt.Text,{className:"recoveryLastWeekText",children:"LAST WEEK"}),(0,Ne.jsx)(vt.Title,{className:"recoveryLastWeekTitle",children:"Recovery Week"}),(0,Ne.jsx)(vt.Text,{children:(0,Ne.jsx)("p",{className:"recovery-week-first-para",children:"Based on your heart rate data, your training last week was less intense than usual. Way to recover intelligently."})}),(0,Ne.jsx)(vt.Img,{variant:"top",id:"recoveryWeekImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbgAAADiCAYAAAA8qNKWAAAAAXNSR0IArs4c6QAAI/1JREFUeAHtnQt0XNV5778zM3pYsi3bkmzZvAkQniYEcMABkkKTUMq7XN/SBAgmpE1WSeltb2maQpuSNI9mNTdpQtqUZ0KTXKexcQgJbReFlgRCcoFCgdAGJzyMLEuyhF62HjOz7/9IlqUZjY7mjEbSHJ3fXmukOWfvs8+3f9+c+c9+e62tHc4IZSPgeWbJZGI0v3Q6W7Z8ySgcgVRqzAfZrDP/RVgYAjwPC8N98l19HyxZUjV6amQkayMjmcnRi/r92LfAoi4ihYMABCAAgTgSSI0Xet26Zuk8YbYEurq6zkokEuf4+SST9qXGxsbe2ebJ9eEIdHd3r/A878P+VfLFI8uXL38sXA6kLheBzs7Ot6VSyfP8/Gprq74qX3SWK2/yKY5AX19fcyaTafdTV1cnP9HcvOrm4q6MbqrxlklqcNH1IZZDAAIQgEAAAQQuAA5REIAABCAQXQIIXHR9h+UQgAAEIBBAAIELgEMUBCAAAQhElwACF13fYTkEIAABCAQQQOAC4BAFAQhAAALRJYDARdd3WA4BCEAAAgEEELgAOERBAAIQgEB0CSBw0fUdlkMAAhCAQAABBC4ADlEQgAAEIBBdAghcdH2H5RCAAAQgEEAAgQuAQxQEIAABCESXAAIXXd9hOQQgAAEIBBBA4ALgEAUBCEAAAtElgMBF13dYDgEIQAACAQQQuAA4REEAAhCAQHQJIHDR9R2WQwACEIBAAAEELgAOURCAAAQgEF0CCFx0fYflEIAABCAQQACBC4BDFAQgAAEIRJcAAhdd32E5BCAAAQgEEEDgAuAQBQEIQAAC0SWAwEXXd1gOAQhAAAIBBBC4ADhEQQACEIBAdAkgcNH1HZZDAAIQgEAAAQQuAA5REIAABCAQXQIIXHR9h+UQgAAEIBBAAIELgEMUBCAAAQhElwACF13fYTkEIAABCAQQQOAC4BAFAQhAAALRJYDARdd3WA4BCEAAAgEEELgAOERBAAIQgEB0CSBw0fUdlkMAAhCAQAABBC4ADlEQgAAEIBBdAghcdH2H5RCAAAQgEEAAgQuAQxQEIAABCESXAAIXXd9hOQQgAAEIBBBA4ALgEAUBCEAAAtElgMBF13dYDgEIQAACAQQQuAA4REEAAhCAQHQJIHDR9R2WQwACEIBAAAEELgAOURCAAAQgEF0CCFx0fYflEIAABCAQQACBC4BDFAQgAAEIRJcAAhdd32E5BCAAAQgEEEDgAuAQBQEIQAAC0SWAwEXXd1gOAQhAAAIBBBC4ADhEQQACEIBAdAkgcNH1HZZDAAIQgEAAAQQuAA5REIAABCAQXQIIXHR9h+UQgAAEIBBAAIELgEMUBCAAAQhElwACF13fYTkEIAABCAQQQOAC4BAFAQhAAALRJYDARdd3WA4BCEAAAgEEELgAOERBAAIQgEB0CSBw0fUdlkMAAhCAQAABBC4ADlEQgAAEIBBdAghcdH2H5RCAAAQgEEAAgQuAQxQEIAABCESXAAIXXd9hOQQgAAEIBBBA4ALgEAUBCEAAAtElgMBF13dYDgEIQAACAQQQuAA4REEAAhCAQHQJIHDR9R2WQwACEIBAAAEELgAOURCAAAQgEF0CCFx0fYflEIAABCAQQACBC4BDFAQgAAEIRJcAAhdd32E5BCAAAQgEEEDgAuAQBQEIQAAC0SWAwEXXd1gOAQhAAAIBBBC4ADhEQQACEIBAdAkgcNH1HZZDAAIQgEAAAQQuAA5REIAABCAQXQIIXHR9h+UQgAAEIBBAAIELgEMUBCAAAQhElwACF13fYTkEIAABCAQQQOAC4BAFAQhAAALRJYDARdd3WA4BCEAAAgEEELgAOERBAAIQgEB0CSBw0fUdlkMAAhCAQAABBC4ADlEQgAAEIBBdAghcdH2H5RCAAAQgEEAAgQuAQxQEIAABCESXAAIXXd9hOQQgAAEIBBBA4ALgEAUBCEAAAtElgMBF13dYDgEIQAACAQQQuAA4REEAAhCAQHQJIHDR9R2WQwACEIBAAAEELgAOURCAAAQgEF0CCFx0fYflEIAABCAQQACBC4BDFAQgAAEIRJcAAhdd32E5BCAAAQgEEEDgAuAQBQEIQAAC0SWAwEXXd1gOAQhAAAIBBBKeVQVEEwUBCEAAAhCIJoFE0hosZSuss83d0NXlGqJZDKyGAAQgAAEI5BLY30SZsmzWvpgestc7drnbutrcSbnJOIIABCAAAQhEi0BuH5yzeufsQ+msPSuhe6R9l/sfzrlUtIqEtRCAAAQgAAGzXIGbRERC9w5ztqWzzV6V2N3S0eHWTormLQQgAAEIQKCiCUwrcONWS+jW6vVxS9srErpvdbW7s8bj+A8BCEAAAhCoVAIzCty44RK5Kr3+Zzptj6rp8tmOVvdB1+bqx+P5DwEIQAACEKgkAkULXI7Rzk5yZn/X6TQopdV9Xs2Xx+TEcwABCEBABLyMlxjoSy3r7Uqt7NmVqgEKBOaTwKwGkKhG508ruNFL2++1t7p/8RL25aY19oDneZn5LAT3ggAEKofAw1vc0p5+u14/gi//twfsTPXlJ/db94fb7nAvmWfbE1X2t5dc5b1UOVZjyWIkUFoNLo+EhM7TqXe7rG3XoJQdnbvcTb29rikvGYcQgMAiJ7DtLndVd7/tyDr7a30vnDVJ3EZLLtE7Suf/IDNsL2y9033h+9931OoW+WdiIYtXFoGbXAB9eA/Th/vTg/22U31190jsTp8cz3sIQGBxEpBg/bV+5H5Nora6iBJWKd1HBtvskfu/wY/hIniRpAQCZRe4STbU6AN8tcTuJxp9+VMJ3TWaU1c7KZ63EIDAIiGw7U73p3refz90cZydkR60bc9vcdWhr+UCCMxAYC4F7sCtVas7TUJ3d8eu0Vrdp7t3ucMPRPIGAhCINIH77nRvUwH+otRC+E2Z/91vN5d6PddBYDoC8yJwk27eqF95N6XNdqhW9909u917VKvz++8IEIBARAnox+tnJVKFnuOdK1enP3Hy2QP/5/Rz+z5TtyzzXhXx4YLFdPa/Hvw6i0kUZMPJkgnMt8CNGqqHIaHXRZmMPdjRZv/d0eZu7O52K0ouBRdCAAILQmD7191RuvE5+Tf3PHts2TI78aQze77XuDrdsWxltnfj+Xv/+bLNdp7iPpWfXoNP6vam7cr88xxDYDYEFkTgcgx2GlWVtc+P7BudU/fV7t3u5Jx4DiAAgYol4EbsonzjVJXbq024rnrXJq9nSpznuUuX2s0SuSfy4yxrF045xwkIzILAwgvchPF1+hV3/UjG/kNz6h5Vre431XzJZnUTfHgHgYojoGf26Hyj1Onwows3e7/IPz9+7G0anSd77/jxpP9T8poUx1sIhCZQSQI32fizVKv7ppov/YWe/6Kz0x00OZL3EIBAhRAoPCXguXzrPC/RODJQd+6BPnfPpqRRL14x0wvys+YYAtMSmNVKJtPmWq4IZy36hXizjdhHNafuPjV9fLl5rfdIubInHwhAYHYEVFvr1sCxnJDw7Ci1wpyTSNhGlxm5IOOypypNXcYltLGyfbi93V3/wwfsyJyLdOA55UWAQBkJVLbA7S+oBqT4dl6h5+gK1eie94WuMWlf91Z7/WVkQVYQgEBIAnoWX8nTN0ul7MJMWn1z/lOrzrbJ4yv1LL9DO5M8W19vLw305d5MYvlq7hmOIDA7ApXaRDltqfSAnKBhybd1ZqxVtbq/6Wx1x02bmAgIQKCsBPx+cS2wflp7m/uIfmx+6+Qz7Yb8GwwPm7fj+fyzE8edu6xW4nbixJmxd9LCB/PPcQyB2RCIRA2uUAEldMt0/nezeulBe8hf6LlxtX2XhZ4L0eIcBEoj4K8pO7TXzlCf+EYJ0EYt1rBBOS3RiMfRlsmlWm59iTbN2jeQm397q9nwkNkRx5st3z8BSMJnrRp6svPl3LT7j7JqovxWwRhOQqBEApEVuMnlldid5zJ2nn4ZvqZfln+7xOz2ZS1e++Q0vIcABIIJ+ANAutrsuKyETM/URgnORq0p++bxq3SuYDhMKV58amrUG3vMnn40Zalk0pL6phkaUnPlNKFpnfUde6o1ThPNaQiURGBRCNx4yfX8HaJflp8cNPszNaN8O5FUrW6N9/h4PP8hAIEJAtrHcZkG7J+e3V870wAQX9gaxgeNTKNnExnsf6ctsqxprZl+YBYM6Yxn6YANtGr1i/RNx1mDbPk3dTt8JVltH21s9HoLZsZJCIQgsKgEbrzcejD9hVvfq5VS3iuhe1qDt77UvMa+qebLfeNp+A+BuBHw14BNT6qdabDHevVnj+7VNl3trFhGx5xkNqImyZ6uYq8YS1etJ/X408yq9F82+FW8D2eH7GLNg/1Qc4v3vXC5kRoCuQQWpcBNLqLE7hTV6u7Qr8vPqa/uzqqEfWXFGm/H5DS8h8BiI6Dmxpqu3XaKXzvT6MSNKt/bRzTtJqd2VmwVrQg4ai2xE9U798ufqZ/tlSIuUJLlK82OfYt+jebtMSKzDtYze79+nH6j1rMbl631OorLkVQQyCXgab5KGT/muZlX4pE6yv3y/kB/vtzcYg+qVqfu8tmFhx92qd5X7exsxt5VW+femky5Q1NV2YH+nsT9CUtsvfBqb+qk1tndkqsLELj/Lnf0iNlFScuuX7LMNiQS2eFsNvGf+/oS/3BUvf3rCZs8DXNYnKF/t1ujpvkz/cEgeqJ9QVO9yGoWorT+8P/X9BOyW73gakXJDaqj+YNO1h2uZs2W3KhpjvZ4Sfu95jXeP0wTz+kZCPT19TVnMpnRMQn6vvtEQ0PDzTNcEvno1taOUV2LncDleM6zX+h5u626zu5qaPBCNq6oSWWLS97Xb9fpC+XPla96IaYJnv1U/ew3XXKN9/A0KTg9CwLb7nEbLGOfkR/eOV02+mGzRz9tPlWz1r50wQWeGtOiG1Q7S0o8TpB4bFSj3kY9yRtVtjdVWokktjbQl7YRVR399ylNkFuy1Bttjgxrq/z3g2SN/c6qVR5z5ULCQ+BCAluEyfdp9YVvupRqdc1egfFgU0u89R7XqD6MbyvmV6bGTnPGs89ddq3dVI5a4zR3iN3prXe4P1ahP6lXUXM69UX5ZE21XXrB+7ydUYHV1eUatKjx20abG/3RjZ6G7Y9Nk6n8InhpSybHqnGZtN81rp+UpQbP+uXkP25ssdv0DI3+Qi81qzhdh8DFydszldWzx/05dU2r7dt6iAo2af3LFtfQ32eP6wkLPclcX073XLbZe/9MZhA/M4H77nCfVcXgf8+cckqKnXXVtuH8q7xpxv1NST+vJ3ra3VFadHy078xvbpQknKD/RQn4vBpazM3KKXAT93ssUW3XNTV5L06c4t10BOIscNF8aKbzZDnOO/VjZOxeLfT8mlZJ+eSePe6Q/Gz7++0bpYibn4++qK7Zdoe7MT9PjsMRuO8u91slipt/o4P3jdg2v4k53F3Ln1rNjUu62t1ZnbvcH2lQxX0aJt8+lLafa3TjPWrW+201PZ4UWXErP67xHDdmh0d3HfmY+FWNn+Q/BPIJxLsPLp9GgWPVuDL6gvmuFo79clOL99D2u93F6vvYXiCpv+zea9W1mReXr3TV+wYSawZ6EgdJCP0VV3KCfpH31VXZUe+5msnoOWCKPPinr7n6gbS9pC//qcMUPNsnX/1o1ep01chIYln/G4nVWhfx4EJZq1n6+ks3e7cXipurc/7OGN6InelPppb9/mCQt+rztXi/pOemBjfhHs+eVWPldc3rvP83cZJ3kwnEuQa36KcJTHZ0Ke/15eP/yr9M/R+X6Rf2iz95xGozBWbTSdw+W9Nit5xxRu/piUTiHP9ezz1e+52O1povSuTePfnevuhp9+IbdG7Rj2aaXO5yvd+bsc2FxE0/HB5PeXbNWZe80aHm5Q/790tkE//+0H3LzhbzW3VNTo1Nvv0TJZkzgVPtItXZaev1HT82slGipprHYaMcZBChDAScrVe33o81BejzGpX5Z/L73jLkShaLhABNlCEcOTRoxw7ts8OnXOLZ7epXuyl/dN5xGwZ2rUjYJXoAC/UVXD4lH04UR8DZFHYSt9aqWvv1i671fp6TScqy8s2n9EH/dM55HUhjjth+jzsl/3ypxz09bpWaGC/obHOf0Bfuv2rdxh4NDnlSzY1/o3tdKUEdE7dSb8B1BQn4P0L1+kN1Kzwr9ucWTMTJWBJA4EK4vbdnamINSHEbzrFH/V/rU2M1xPJabzAxVlPIidYDefz373XLc05yUBQBicUZ+Qm1Ws2tF77Xm3Y/sYPX28d1zRQPqp/rzPy8ijmWvz01Nx6rtU83q2Z/uwTtheG91inVfEC1ffUNjY6urSsmL9KUiYCmSoj9Q/LH33d3u/1LPJcpb7KJJAEELoTbhgenJl5SZ57m0d2jlVJe1pfcLV4mtSo/lVZPKbgeZmbE1uWn5TiYwINb3CqJSN7aF1rqKVuY8Xhup52mni9NERg/PvDfFecD1+bq5d93StD+RP+/J393qrnxZ/4qORJcfy7kcXqpIklYaALyxwfSg/ZC52532ULbwv0XlkDBWsfCmlTBd9ewvfygAQ2jQQ/VQfri/Xg6sySdtJEXEsnMj7WOw2hctkYz5gr022kJpZw+ofy8OZ5KYCRdeLi81vPVIibBQeqjKce5QccFf+Rp7tmhmeGxvjN/Vf1OZydLwFJ+u2Z+Hrk5clQJBOSrtRoNvVVNxv9Yl7Qblq722irBLmyYXwIFH+75NSE6d8tfM8+33F+WaPJyRP6XoHOJ9Zl01Qczwyt/qEVjr9fAh7MLlTJRZa2FznNuegIXXqkVSTybMj9RPxb8fcqmDWpS9D/r/vJV+UGL1bkqDdPfIF/dqC/ELWri2qkawCtqvvym1OwGCdqpo+KWfyXHlU/A2RX70qrN7XLvr3xjsbDcBKjBhSDqb+6YH/TFZ69qWMMRx+bH6FhzmNQn8NVklWpweaFmiQ1u+BX7JzV35cVwGERAW7rY0qU2rIn2/rIYB4JWJ/nKrp3ud1NaiDI96JLJqqHVfmQ6m3qfGPc/+e/WIl9N2W9s/dv8DXPtr5S0drxqhkcOYF0Ub+TPlfL9XfocvK9KU0NWtHi/XBQFoxAzEkDgZkQ0kaBWQwbqNavNr7VNDq/rcampHVtAdvJ5zb+yl5436+9R01Ze0JDmWj10p+ed5rAIAk0HiWneuNTBQavVppunHr1eq9NL+pwmmvnB/9/2mnaR/sXUjKu0FPGylRMbek5NwZnFREDP23nDzp5TTf1j2sPui5pSUKDTYTGVmLJM+eIFSTCBg480+69npqb5hbYJ2f262YrGhNXWSwR7tbrv7rE9svJT+1uLrDss/yzHxRJoOViCtUO1s7xet25tqvL0o2armlXLW5G0YS2p/MaehPVNM7byEPmSEDsCdWp6/rxaAq7sanPXrWphp4/F/AlA4EJ6t1njHne9atZb4EtzQHsQD/T6XT3+a/pw8BGq8WkXY0JpBFJa9+OwY8x2qHacH0bUO7f7dU+v4I923VJt/3Bo/tUcx4WAanMbNATsKTVbfkqtKZ+cbt3ZuPBYrOUM/iZerKWeZbmOPaV0gVqlnqFDj56lAVw+Kk5rVJMrJfgCedypWteeT38p+BbNNRK5Kr1uUW3u6T27XUnzIRcNjEVaEB7xEhxbrb6b9ZpqXB9ymvZq1f78HYwJ5SFw9IlT+z1nylnzFkd95/8nQMAnIJE7XoPBfqjF1b/g2p3q9oTFQgCBK9GT/qASX+T82pg2Mw0M/uCUN59sdoxefv8boUwENI7kSG1YdLxqY36TY1DwuftNw295+8xpg/IhbnESkMglNOLkI50Ze061ufcszlLGr1TBHRXx4xGqxL6wHXqUZngfbtbV7g9oMBsazJo/erKqWstt1CdsVZNnDRqcrsWYCXNEwG/29V+9XWN+2DvgLK3hcgl9uv25iw2r5AcNPKnKmVgwR8aQbaQJSOgO07zWBzUf8ms1dfb7DQ2ePlWEqBJA4MrguaQo+oNP/Jdp5HHuDsZluAFZFEVguRZJ819+SKbGhlhms1p8hMHgY1D4WzwBZ1cP7bXzJXQ3rF7rbSn+QlJWEgGaKCvJG9gCAQhUDgFnqzX5//9qpOV2fx+/yjEMS4olgMAVS4p0EIBALAmo2fJibXv0gpZw+6C/i0QsIUS00AhcRB2H2RCAwPwRkMgt15Jff6cpBQ+3tzsm+swf+lndCYGbFT4uhgAE4kRAQvcOrSz7rBZv/iPV5hjDUOHOR+Aq3EGYBwEIVByBWu3S/hntCfhEd7tjZmvFuWfCIARuggXvIAABCBRNQE2Wb01n7Kftre4vVZvThBRCpRFA4CrNI9gDAQhEhoCaLP1myo+qNveMhO6cyBgeE0MRuJg4mmJCAAJzR0C1uWO0mMMjmlJw2549LuQifnNnV9xzRuDi/gmg/BCAQFkIqDbn6fWh7JA9rz3nLixLpmQyKwII3KzwcTEEIACBXAKqzR2s1XPu17y5b/TtclokbuGDhDeWwVO7cUyLPkf+9tJ5S3UxL3SOSAdk67RU1/Bo/NhSXaxwHQBrbqN4HrTlrt3YtM67d25Bj+X+wF2uRYvUvVUrsBxinq3QaM+VVVXW0tgyfE0y6bQJcPJHHa+n7tdWUd0S4VdrE/bkBZs9bRW8uEJra8eoriFw5fYrD3S5iZaQHwJXArS5uYTnYYyrZw+mauy3V63yXi036O/c7g5LJuwMfaP7wrY2P3+tlVvTtG54k39+cG/q2Z7OxDM5aTzbqZ/hT2mR6R//xvXezpy4iB6MCxwTFSPqQMyGAAQiRMDZ+Wn1zWmC+EcbW+w27SA+6yXA/dqaNs24QqK2YVbtcE5NqmpW1e4oF913p3tMbR9bNy2SWh01uHI/I/xiLTfREvKjBlcCtLm5hOehENfH1Gz5ATVb/qxQ5Eznvn+vWz40YpdL2N6pl7IKDjPW4KZenlHz5kN1Kdv2nqu9ganRlX9mvAY3I5zKLwoWQgACEIgUgY2qvj2t8Q9/qgniVWEs/96d7sjhYbvVsnZuMeIWJu9JaZPK+90DabtVNbpDJp2P3FsELnIuw2AIQGAREKhRGW7taLMn1Wx5ejHlkdhs1ACSj6k5cmUx6WebxnPWJCG+Zfsd7rTZ5rVQ1yNwC0We+0IAAhBwdpL6vx7XBPHPqTZXNx0QidsVErbfUc0qVI1vuvyKPS+Rq5HIfWTrndGc14fAFetp0kEAAhCYAwISrqRef6Da3H92trlz82+x7W53nuIvzj8/n8cSuk3b73Zvn897luNeCFw5KJIHBCAAgdkScHZkNmsPaYL47d3dboWf3Xfvdieov+2q2WZdjuszWbtu++3uqHLkNV95IHDzRZr7QAACECiCgJosr0sP2gs7nneb01m7YQ4HkxRhzUQS1eJSGc9u3HqPa5w4W9nvELjK9g/WQQACMSSgJsm1PXvsjpVNdn6qyipmKx5NCF+eyNjVUXEJAhcVT2EnBCAQGwL9vWZ7NQNNy2wdtqLZLq5bbm+qlMJLfE/RyMo3V4o9QXYgcEF0iIMABCCwAAT2tE3cVLWmmvqltnHVGvvVVLUtnYgJeOdpqnbC1ijFW9Svt6G7I2Vv7EnavgFvjZpAm7UW5ayCRlZeOasM5uliVjIpN2hWbig30RLyYyWTEqDNzSU8D6G59nSZ7X5t2svSqtn9x0Cvvai+OWlVXkhqy57M6N50J6mmtSQvdvLhXu1f94wGsOyQFE7NZ3LK6d47+9JlH/B+Ml30Qp5nJZOFpM+9IQABCExDoLd7moix06m6ejtt1Wo7v7raRkdaHkidsDoJ1q/p2F+bMkjc/EvqlOZMl7B3O6/EPj7Pzj5w7wp9M8uKaoWWCrMgAAEIRJBAJq0V/4tY/VELIzc1NNmvL1tpJ6u5MaFaWL0E6wK9wo1wdLZa9bdfU21uJkGcQlPCeMLDd7mKGQAzxUCdQOAKUeEcBCAAgQUgoKZHk0gVGxK1S2z9ymbzdw9/l4QqtEjtv9FS3fOdqs2F0gN/2sAbCVtfrLELkS5UgRbCQO4JAQhAIC4E+nrCl3RwrzVIoJaFv3LiCmlqkwTr2IkzRb7L2KlFplyQZAjcgmDnphCAAASmEhjaN/Vc0Bm/tre3PyhFiDhnJyp1qD1C1bR5RIg7zHtSBG7ekXNDCEAAAlMJ+GLl98GFCUODoZo0A7PW7WvUlzdlR/Cgi7LztLNBkA1BcQhcEB3iIAABCMwTgbT2wvFFLkzwBa6cQfc/KEx+atas2bLFldr3F+ZWJaVF4ErCxkUQgAAEyksgbO3Nv3s2U14b1ORYHzbH5FDedIWwGcxhegRuDuGSNQQgAIFiCaRDNk/6+ZZb4EabKYs1eH86Lzu7AS4hbxcqOQIXCheJIQABCMwNgWSo4R1jNiSS5bVFy4INhc0xmbZyDXMJe+sZ0yNwMyIiAQQgAIG5J1BVgsBpwndZg2pwRUwzz71l8zILXnslN/m8HiFw84qbm0EAAhAoTCBZZaY+sFChqiZU8hkT6/atMybKTTC8cZMXcnJDbgZzeYTAzSVd8oYABCBQJAFf3MI2Odb4C2WFFMUAc4YVF0rgtFxXxdbe/HIicAHeJgoCEIDAfBKorQt3t4S+wbX4clmCBPY5LfcVbqiLs5fLcvM5ygSBmyOwZAsBCEAgLIH65WGvMKvXIl2pEvrvcu7k2R7NaftZzrkiDrR+5ZNFJFuwJAjcgqHnxhCAAARyCSxrCN8P5zdtNqzSdSV+m+vyAV36sAaYaB/TUCGTqdeechUcSkRSwSXCNAhAAAIRJeBPFQjbTOkX1b+usVk1OQ1UCRU865BA/kArmIQeKKLrnt9UwQNMfA6zrdiGYkliCEAAAhAIJqA93mxf6MH6YwNUVjbp2r1agLlP1bGg+phn+1Rze1ajMH6uHcBDLhA2Zn/Gsx8Gl2ThYxG4hfcBFkAAAhA4QGCFtix9o9NsuIR1Jv3mSn/QSZ0GqwxrTOSwpm1ntSKy/0oknLlson14yPObFXdL1pyVuNSX7vPLy99vT9i1B8yuyDcIXEW6BaMgAIE4E2hq0Xj9l2dBQEJXrTly/sufRpDQciN+GNzrtQ0Pem2jB7P4k03ZtzxPw1IqPNAHV+EOwjwIQCB+BJZqsEnd0oot9zOXX+2FHnG5EKVB4BaCOveEAAQgMAOB1dq4JlF5bWx9I559bQbTKyYagasYV2AIBCAAgQkC1VqlpOWQieMKeJeRYHxx02avowJsKcoEBK4oTCSCAAQgMP8Elmrid3OoLUjnzkbNs7vzkuu8/5q7O5Q/ZwSu/EzJEQIQgEDZCPhD/1dqjttCBq05+Z1Lr/UeXUgbSrl35bXwllIKroEABCCwiAk0rzOrWaKx/TtNQ/3nsaAJG9ZYyb+/bLP3xDzetWy3QuDKhpKMIAABCMwdgeWaAF5VbbbrFbP0yNzd50DOCduj91+4dLP38oFzEXuDwEXMYZgLAQjEl8ASTeI+9GizPZrJ1tM1RxwSltHSXY8ks7ZVfW5aEyW6AYGLru+wHAIQiCEBf73JNRpd6ffLdUro+nvKB0Fzwp/wauwfL/ktb3f5cl24nBC4hWPPnSEAAQiUTMCfRrDucH91ErNebTs6oLrWiJbmChskam0aIfmUNlt97KKrvVfDXl/J6RG4SvYOtkEAAhCYgYC/+8D4DgRD2hPAFzr/f0arc41oPcr0/i1M/d3CU9WZAS+ReFFZvpHJ2CtWY0/9xlXerhluEdloBC6yrsNwCEAAArkE/JGW/isnqIpWVbvP/IWYtX7kQw0N1X+ZE7+ID5gHt4idS9EgAAEI+AR8cYtjQODi6HXKDAEIQCAGBBC4GDiZIkIAAhCIIwEELo5ep8wQgAAEYkAAgYuBkykiBCAAgTgSQODi6HXKDAEIQCAGBBC4GDiZIkIAAhCIIwEELo5ep8wQgAAEYkAAgYuBkykiBCAAgTgSQODi6HXKDAEIQCAGBBC4GDiZIkIAAhCIIwEELo5ep8wQgAAEYkAAgYuBkykiBCAAgTgSQODi6HXKDAEIQCAGBBC4GDiZIkIAAhCIIwEELo5ep8wQgAAEYkAAgYuBkykiBCAAgTgSQODi6HXKDAEIQCAGBBC4GDiZIkIAAhCIIwEELo5ep8wQgAAEYkAAgYuBkykiBCAAgTgSQODi6HXKDAEIQCAGBBC4GDiZIkIAAhCIIwGvvdW5OBZ8zsrspS2ZzIxmn0lX6783Z7ci4+kIOEumhkcjs9mUuWxyuoScn2sCPA9zTXjm/D1n1Ut6R9ONjGRtZGTs+2nmC6Ofghpc9H1ICSAAAQhAoACB/w87sSq/k0L0aAAAAABJRU5ErkJggg=="}),(0,Ne.jsx)(vt.Text,{children:(0,Ne.jsx)("p",{className:"recovery-week-second-para",children:"To get current insights and analysis from features like Relative Effort, try a subscription for free."})}),(0,Ne.jsx)(Ye,{variant:"primary",id:"startFreeTrialBtn",children:"Start Free Trial"})]}),(0,Ne.jsx)(vt.Body,{className:"training-log",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",id:"goals-log-link",children:["Manage Your Goals ",(0,Ne.jsx)("img",{src:Bj,alt:"arrow for helping the user to their activities",className:"trainingLogIcon",width:32,height:32})]})})]})]}),(0,Ne.jsx)($k,{eventKey:"profile",title:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,Ne.jsx)("path",{d:"M21.3 18.12L14.98 6.28a2.6 2.6 0 00-4.63.07l-.46.93a.585.585 0 01-.21-.45V3.17A2.452 2.452 0 007.24.72a2.172 2.172 0 00-2.01 1.4L2.91 6.84 1.39 7.96a2.768 2.768 0 00-1.06 2.06 2.96 2.96 0 00.9 2.32l7.76 7.9a11.62 11.62 0 008.22 3.43h3.65a2.757 2.757 0 002.41-1.4l.05-.09a2.7 2.7 0 00-.01-2.73 2.665 2.665 0 00-2.01-1.33zm.85 3.39l-.05.09a1.425 1.425 0 01-1.24.73h-3.65a10.257 10.257 0 01-7.26-3.04l-7.78-7.92a1.566 1.566 0 01-.49-1.27 1.426 1.426 0 01.5-1.05l.71-.53 8.6 8.48h1.64v-.28L3.98 7.7l2.48-5.02a.848.848 0 01.78-.61 1.1 1.1 0 011.09 1.1v3.66a1.92 1.92 0 001.92 1.92h.43l.88-1.8a1.24 1.24 0 011.12-.7 1.257 1.257 0 011.11.67l1.04 1.94L12.69 10v1.52l2.77-1.47.77 1.42v.01l-2.63 1.39v1.53l3.26-1.73.74 1.37-3.02 1.6v1.53l3.65-1.94 2.06 3.85.25.36h.4a1.376 1.376 0 011.2.69 1.34 1.34 0 01.01 1.38z",fill:""})}),children:(0,Ne.jsx)(zj,{svgContent:Wj[e],weekText:s[e],yearText:a[e]})}),(0,Ne.jsx)($k,{eventKey:"cycleBike",title:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,Ne.jsx)("path",{d:"M5.5 19.675a5.166 5.166 0 005.105-4.485h1.105l3.28-6.52.76 1.46a5.044 5.044 0 101.22-.57l-2.03-3.89H17a.333.333 0 01.33.33v.57h1.34V6A1.674 1.674 0 0017 4.32h-4.29l1.57 3.01H8.542L7.66 5.67h1.45l-.72-1.35H4.17l.72 1.35h1.241l1.26 2.37v.01l-.76 1.41a5.2 5.2 0 00-1.13-.135 5.175 5.175 0 100 10.35zm12.79-4.695h1.52l-2.2-4.2c.291-.073.59-.11.89-.11a3.83 3.83 0 11-3.83 3.83 3.877 3.877 0 011.7-3.19l1.92 3.67zm-4.82-6.31l-2.046 4.082-2.17-4.082h4.216zm-5.32.8l2.323 4.371H5.8l2.35-4.37zM5.5 10.675c.151.005.302.019.451.041l-1.58 2.944.79 1.53h4.1a3.822 3.822 0 11-3.76-4.515z",fill:""})}),children:(0,Ne.jsx)(zj,{svgContent:Wj[e],weekText:s[e],yearText:a[e]})}),(0,Ne.jsx)($k,{eventKey:"swimWave",title:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,Ne.jsx)("path",{d:"M19.99 13.33a3.7 3.7 0 01-3.32-2l-.17-.32h-1.01l-.17.32a3.763 3.763 0 01-6.65 0l-.17-.32H7.49l-.17.32a3.72 3.72 0 01-3.32 2 3.7 3.7 0 01-3.01-1.51v1.88a5.02 5.02 0 003.01.98 5.054 5.054 0 004-1.92 5.116 5.116 0 007.99 0 5.122 5.122 0 007.01.94v-1.88a3.71 3.71 0 01-3.01 1.51zm-7.99 8a3.725 3.725 0 01-3.33-2L8.49 19H7.5l-.18.33a3.7 3.7 0 01-3.32 2 3.7 3.7 0 01-3.01-1.51v1.89c.873.64 1.929.98 3.01.97a5.054 5.054 0 004-1.92 5.054 5.054 0 004 1.92 4.947 4.947 0 003-.98v-1.87a3.654 3.654 0 01-3 1.5zm8-16.02a3.735 3.735 0 01-3.33-2L16.51 3h-1.02l-.16.31a3.724 3.724 0 01-3.33 2 3.681 3.681 0 01-3-1.5V5.7a5.04 5.04 0 003 .96 5.024 5.024 0 004-1.92 5.023 5.023 0 004 1.92 5.124 5.124 0 003-.95v-1.9a3.654 3.654 0 01-3 1.5z",fill:""})}),children:(0,Ne.jsx)(zj,{svgContent:Wj[e],weekText:s[e],yearText:a[e]})})]})]})};const Kj=function(e){let{athlete:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)({});return(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(n.empty)console.error("User document not found for current user.");else{const e=n.docs[0].data();a(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=$y(Gv(FA,"userActivities"),(e=>{i(e.docs.map((e=>({...e.data(),id:e.id}))).filter((e=>e.userId===zA())))}));return()=>e()}),[]),(0,Ne.jsxs)("div",{style:{width:"17rem"},children:[(0,Ne.jsxs)(vt,{className:"athlete-stats-card",children:[s.profileImageUrl?(0,Ne.jsx)(vt.Img,{variant:"top",src:s.profileImageUrl,className:"mx-auto d-block",id:"athleteStatsCardImg",width:64,height:64}):(0,Ne.jsx)(vt.Img,{variant:"top",src:xC,className:"mx-auto d-block",id:"athleteStatsCardImg",width:64,height:64}),(0,Ne.jsxs)(vt.Body,{id:"athlete-stats-body-wrapper",children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/activities",id:"athleteName",children:(0,Ne.jsxs)(vt.Title,{children:[" ",s.name]})}),(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("ul",{className:"dashboard-stats",children:[(0,Ne.jsx)("li",{className:"following-stat",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",children:[(0,Ne.jsx)("span",{children:"Following"}),(0,Ne.jsx)("p",{className:"dashboard-stats-value",children:s.following?s.following.length:0})]})}),(0,Ne.jsx)("li",{className:"followers-stat",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",children:[(0,Ne.jsx)("span",{children:"Followers"}),(0,Ne.jsx)("p",{children:s.followers?s.followers.length:0})]})}),(0,Ne.jsx)("li",{className:"activities-stat",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",children:[(0,Ne.jsx)("span",{children:"Activities"}),(0,Ne.jsx)("p",{children:r.length})]})})]})})]}),(0,Ne.jsx)(Oj,{className:"list-group-flush",children:(0,Ne.jsxs)(Oj.Item,{children:[(0,Ne.jsx)("span",{className:"latestActivityText",children:"Latest Activity"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(Ae,{to:"/strava-app/home/activities",className:"latest-activity-link",children:r.length>0?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("strong",{children:r[0].name}),(0,Ne.jsx)("span",{className:"dotSpan",children:"\u2022"}),(0,Ne.jsx)("time",{dateTime:"Sep 22, 2023",className:"latest-activity-time",children:r[0].date||"No date added"})]}):(0,Ne.jsx)("p",{children:"No activities found"})})]})}),(0,Ne.jsx)(vt.Body,{className:"training-log",children:(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",id:"training-log-link",children:["Your Training Log",(0,Ne.jsx)("img",{src:Bj,alt:"arrow for helping the user to their activities",className:"trainingLogIcon",width:32,height:32})]})})]}),(0,Ne.jsx)(qj,{})]})};const Gj=function(){const[e,n]=(0,t.useState)("English (US)"),r=e=>{n(e)};return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(vt,{id:"athleteSidebar-wrapper",children:[(0,Ne.jsxs)(vt.Header,{className:"challenges-header-wrapper",children:[(0,Ne.jsx)("div",{className:"challengesIcon-wrapper",children:(0,Ne.jsx)("div",{className:"challengesIcon",children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"28",height:"28",alt:"Challenges Icon",children:(0,Ne.jsxs)("g",{fill:"",children:[(0,Ne.jsx)("path",{d:"M24 .36L0 13.12v21.76l24 12.76 24-12.76V13.12zM2 32.6V14.32L24 2.63l22 11.69v18.26l-16.38-8.71L6.6 36.13l-3.48-1.86L13 29.02v-2.26zm22 12.78L8.72 37.26l20.9-11.13 15.29 8.13z"}),(0,Ne.jsx)("path",{d:"M21 22.51l-4 2.12v2.27l4-2.13zm8-4.25l-4 2.12v2.27l4-2.13z"})]})})})}),(0,Ne.jsxs)("div",{className:"challenges-wrapper",children:[(0,Ne.jsx)("h4",{children:"Challenges"}),(0,Ne.jsx)("p",{children:"Join a run or cycling Challenge to stay on top of your game, earn new achievements and see how you stack up."}),(0,Ne.jsx)(Ye,{variant:"outline-primary",className:"view-all-challenges-btn",children:"View All Challenges"})]})]}),(0,Ne.jsxs)(Oj,{variant:"flush",children:[(0,Ne.jsxs)(Oj.Item,{children:[(0,Ne.jsxs)("div",{className:"list-clubs-wrapper",children:[(0,Ne.jsx)("h5",{className:"your-goals-heading",children:"Your Clubs"}),(0,Ne.jsxs)("div",{className:"your-goals-image-wrapper",children:[(0,Ne.jsx)("div",{className:"viking-marathon-image-wrapper",children:(0,Ne.jsx)(vt.Img,{variant:"top",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/2wBDAAkGBwgHBgkICAgKCgkLDhcPDg0NDhwUFREXIh4jIyEeICAlKjUtJScyKCAgLj8vMjc5PDw8JC1CRkE6RjU7PDn/2wBDAQoKCg4MDhsPDxs5JiAmOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTn/wAARCAA8ADwDASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAAYEBQcCA//EAC4QAAEDAwIEBAYDAQAAAAAAAAECAwQABRESIQYTMUEUIjJRBxVhgZGhQlJxsf/EABkBAAMBAQEAAAAAAAAAAAAAAAIDBAABBf/EACURAAEEAgAGAgMAAAAAAAAAAAEAAgMRBCESEzFBUcGh8GGBsf/aAAwDAQACEQMRAD8A3GiiuVrSgArUEgkAZPc9Kyy6qE5dre0620uYyFuLLaRrG6hjI/3cfmlzie6rm3FNihraOoESUqWpvyd1BYO2nuO+R13FLcguNuKLPC93nI1qWXkuhsBZAClISjOM4zgk4z2prY9WVyNskpIjA15NLT40hmUyl6O6h1pW6VoUCD9xXrWeNvyrUuLc7dGdajSFcgxpLa0LZ9JDenPm9JCSkfyPqzT1GnRpTcdbToUJDfMaHQqTtvj7ihcythCHGy12iFJooooEaKgX2Cq42mTFQvQ4tHkVnGlQ3SfyBUC88URbPdI8CRHePPCSHU40jJx752qHO45gxJ0yL4SS4Ymda0acbEA9/c4prYpNEBTSZENFrnfgpYdnrHD9xduzFqjy9aIzj0xhaeZklRSvl7k+QGuCVonLgW12Q0iI02hDFnfWEB5Q1FTqSk6UEk+Y52Aq3vPFEO4w4KGnblb1TFaudH5YVgKKMKKsjHeoHi7TNnzlvO3m4NRAH9ReCG0lsY1J04J1ex2p5a4m+GkzFzYYYgwvs/fSg2qXBZuBbbatHKuLKvKbit8F0bhKU+k+cYGMbGmTgRqfNnyLtM2ZS0I8ZITpSEZB8oHQDAFUHzC3MRLbO8TdFJblPKCeTHBXuhRSdthv233P0pva4xtxucW3MtOFL6EqQ6NIQkFOd99sY39q45rw0gN6+kqfIgmla/j6dvN9EzUUmSviPaWXlIaYkvJT/NISAf8AMnNN8Z5MiO0+gEJcQFgHrgjNTvjcwW4UmRzxykhhuknfE21uy4MWZGZW48w5pIQkk6T3wPYgfmlu3WiWrha9znoz6pT6kIQC2dZGsKUcYz1/5Tnx5Gmy4NuZt7jrUgz2sOtgnljCvMcdumaUpEXiLk3WJMalSpU2fGDhjakp0aSpQQo7ADATnpVcMh5YbY6+1BkYzXTF+9ivhVcm1TpEKzMpiSAShaFEsqwnLp3O31zU6AzcLPGvdmfgPLD7SkpdbZUoFYG2CBuCK87hHvcu3Wwqt9wckR7e42tQUtC2VodACxjGtWkZA75q1U3c3+NTJdhXJdvdeEFazqCFNFrBOkbjzb6ug96c6QkUa7/1TtxAHcQJvQ/VUl2TbpxsUBHgZWoPvlQ5KsgEI36VJi8NXCJxIiCtp3SoqSl9LZKMKSQFZ7datIlpuMWDbzb2pDUtV4XqU/zVpDaeYEFQz6cY32ztXKI04Q4ovMe4vwBNlmWiKlwFSyoctWAdWj1Y7dK3OPQHysMBthxu9fCo1RLzbGHYPy+S08HdRdbbJJGMYyBuO4rXrIXTZ4Jf1c7kI16xg50jOfrWcOxOJeRb3mkzPER7dIUpt3US4guYS2o/30HI75TWhcNocRw7bEPBYdTFaCwvOrOkZznfNT5L+JoOlXhQcpxomq7qyrxmxxKhvxycB1tSM4zjIxXtRUa9IGkr2zg9ECXapPzGQ4q3tKaCcABYJUd/b1dB1wPaqa98I3ZExSrU1DkxlrKwmVOlJUgnr6V4I+n6rQaKMPINprpnuNuKWYHCbTdinQ5K8SrggiQ4244pIUc40haiRgn71MtnD6YF7l3MS3XDJaQ2W1AaU6QBn9fs1dUVwuJXBK8Ai9H76RRRRQpa/9k=",className:"mx-auto d-block",id:"vikingMarathonImg"})}),(0,Ne.jsx)("div",{className:"wit-arena-image-wrapper",children:(0,Ne.jsx)(vt.Img,{variant:"top",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5AQUEwkzG4hSSgAADZFJREFUaN7tmXlwVMedx3/d/d68uQ+NTnTfEgKBOMx9yByWDXZEiHGMD3xs1mtns+Vjtxw7tRtvUkW8TrLerCvx4tjOJpW1WYiXcMmcAqMDhCVAAnQgIaFzJM1oJM28mXln9/4xMoeDueJynCp9X9WrN+/X1f3p3/v18etBjDH4axP+SwNMQn+dNQk9CT0J/TXQJPRXJe6raYYxpmm6rKiKosqqpmk6Y4AJMvCc0cALgsHAcwihvzC0qmr+8WD/4EhXz2BX72DfoG/IN+YfDYrhSEiSFUVjjBGCTUaDzWxyOW3JCe7M1ITC7NT8nNTkBLfBwH9F0LquD/nGWtt7G853nGpq7+wdHPSNBsSIqmuMMgaAAAAhNHGL/gZgExdCyCjwibGu6XkZq5fNunvhzNQpcdd1P/rzd3mapvcOeE+cbvmk7mx9U3vPgDcUkXRKEUI8RzhMeANvEnijgcc8xxFMGeiapilaWFYkSdF0PVoYY4QQopRRSjmOZKclbViz5NF1dycnxn6Z0D7/eE1D897DdTUNLb0en6KqPMc5HZak2JjUKfE5WclZaYkJMQ630+Yw8EaOcBhFB77OQKE0qGresWDfsL/1Yt/5lq6LPQO+0QClDGOMEFBKAdDMwsxXnnto9bLZBF+ZM+4EWtdpe1ff7oN1uyvrzl7olmTFYbVkpyfNKs6dXZw3LTsl2Wa2yQoeHqG9g2rPgDY8oo8F6LhIVQ00HTBCHIctJs7t4BLi+Jw0kp0mx7t7wnLtmdaKw3UnGy+IYYkjONpWjNP2g+9++6kNqzmO3Am0pumNLV0f7qzcdfBE/5DfYbfMnJpVunDmwrlFuYluR0DUz7VHTjdHmtqU7n59XGSyApQCACB0OYKBMUDRNwgAoh3gkxMsC0qsZYvl/KwTrZfe/fDjytoziqpjjChlFrPxjZeffGz9ytuDppSeb7v0/vaDO/bXjgdChdkpZaVzVy2bU5SeZB70hWsaxMo6ufmiLoawWSCxMXxqIkmMJQ47cdqQYEA8xygFRdODou4f14Z8Wo9HG/Lq4yJTtehoY5QRm8U8f0bM0w+qMwu3VlT9fMsf+rx+grFOaXpi7Af/+f3iqVm3Ct3n8b6/7cDvPjocikhL507bcP+ypfOmuRmVqk+N7zkqn2vHVhOfm26cUSgUZHKpiSTGic0mxHPwBVMvUzUqhrVBr9zcEak9HTnZpPYMgE4BI6ZTYrc6H/2G67uP1LT3vPjjLa2dfQRjTdOffnD1v//LM4Tgm0BHJHnXwRNvvrejf8hftnT2Y99aObc4Vxj0BfYcCVU1AEdMc6eb5hUbcjOI0w7kjtZXStX+4dDh44H/rZDPtwNM8FjvW5bw4+druwf/9pVf9Hl8gCAl3r3r3ddyMqfcCLq9q/+NX207WHNm+YLi72y8764ZedgzHNhdKTd3GnLSzMvuMuRnYLPpTkCvJ214ZPz3u8Z/83/62DhgDLpu37AmYfML7/7xyMuvv69RyiH0m5+++MDqBddfXDRd33Oo7t/e3hbjsP3X5u+VLpxhCEfEiiPKxW6hMNf+0Bridn5ZrJfFxbvdz28yTs/z/usv1e4+wCT4x4PmRSXr1yz5qKK6uqFZRdDj8cJ1V8SgGHnrv3fuOXRiY3npY+tWOG1m5WJPqKObT0u2rl6CjMKXjntFGFtWLUJm09BLr2v9g1TRxz/Yk1K2ZO3K+bWnWihjsqJeB9oz7N/81ofjwfDbm/9hxtQs0HV1YAgJBsuKhcjAA0AoLOm6brWYMMZ/+sxxnKpqgoGXFZXBlcAzCYIg8LdIbl40y/3CE8M/eBMURT7foTRfnDerwGGzjAZEo2D4PHRXj+f1X23Lz079m2+X2W1mAACEuMR49NmsDgDv/H7v/mMNb772dxkpif/4o3e6+gb/47VnM1ISXvzRFgQwsyBz16G68rIFW3cdU1SNcJjqVNP17z1ZvrG89NY9br2/VNx3TDxQQ0NhqbUz4Z4lTrslGAonJ7jh6v105yXPlt/t/cbqhc8/XT5BDAAYX00MAHFxruONbY3Nnb0D3v01p6tPtZw+f3FgeGR/1SmLzRwMRU41XzQKwqrFJbkZSWeaO10O6z1LZqcnx99emJhNtvJV2MAzSnXvqJHnjDzntFnyMpOveLp/cGTXvtqH15XOKMq+cXVzpufGOGxnWrp0SoGylET3idMtFpMhEpGXzCm61O0BgPyclMcfXHW0tnHv4U/vXzHvO4+uuS3iqIwlhVxinHKpHxDIihaWlZKi7My0xAnogBhuaGorX7MoIzXxpnWlp8QX5aXXnWnzDI0UF2QW5qYeO3lO0/QYl62kKLuza+ByScaiS/Ydirhd3JR45VI/F+vyjQbCEbl89QKTUQAArOu0p394XknhrRADgMkoLJlb1Nze/UldU+mC6fcsm+0Z9u+t/HRGXkZKUuyXeJyJeA5bzdhkFPIyzrZ2pU+JL1s+N2rCOqWZqYkJca5br25+SQGlNCIpc2cWTM/PdDtsHt/o/NmFhBBKKaV0gpwxXaeM3mk3GGOKymdMYelT6hpantiwKj7WGbVwBp4z8LeXvxTlpd+3bA4hpDAn1eGwlpctjHU7li8oBoDkpNi7ZuTbLCYAcNit80oKEuJvwx1Xi4Yl3TdqW7GgYzzktJq+ee/ia/pzBwrJSjgiR58lVQ1GJJ1SxpisasGwpOk6Y0zT9WBYkhX1zpqQmtoulT4eOt28fW9Vy4Xuq03cn/YvsK1CG/JxsQ77Q2ux1QIAocO1Uv05+Cx3wGaTUJglzJnOOBz4aJ/W7UEYy59FM3FYQ7FOtaMXGAjFeYaypdH3av9g8A8fM1mzrFpkLJkKAJrXH9heQYNhQ1aKbd1qxF0DE6k/a12xYDQhtsBkKshNu9r0eWjpdLNv8xYaFLHZxKenWlYuBIBQZd3Yr7cBR0DTAQAIxmaTeckc96vPBLcfCFd9CgSDTgGAUcanJQkFWaHDxwEhPiWRT0kUpucDgObx+t/6HyqGSZw7Ch06UDPyk3eYpnNJ8cbiQkN+5hXfiSFtaNj+6AO83ZoQH/M5yGuhKRX3HKWhMOI5KsnB3UfMy+chjiBMgCPEaTMvn4/NRqWtUzp7QTxQzSXFAUbAES4xzjizADAGRkmsi/pFxBEgRB0YHt2yNeFn30dGAQgGnkM8hzAGACqGxd2VjDLEc7p3RNxfHXMVtNLRY142z5CebLheuF8DrXT1hSqPI47wyQlq/1C4ql650CVMzYnGPnE5Yl99hk9JVPuHBja9LJ9vlxrbEEeAMmFaTtIvf4gEgVEKDLz//AtGGSKAMBb3V1tWVtnKVyKEEKDLU6JUfy5yqhmbjCTWpfZ6xI+POTauJbEuAGCqiu0WoSj3i8boNdv20MFarX+IuF2u5x4hLoc25BM/PnbNkI1INCJpfUM0FAEAbDMDIQBAx4Lh42fC1Q1KayciGABFO8mnT6GhyOiWrdqgDxEykSYiAIDgzsM0IBryMpxPfwsbDEpbZ7jmVLQhRDhDegr64jntCrTuHxcrPmGaZiyZal1bKkzLA0rFfVWa1w8YAUK61z/0wk/6H37J8+wPtV4PsVpta+9GAg8ES41tnqde7d/40sgb7zFNQwiAMeK0O5/8JrZZ5LMXxn+7g+l0IvvCWOnoDlfVA0aW5fNsa5fzaUk0Iom7jzBZAQDA6MZJ0BVbpPa0fL4dCQbz4tnYbDQvno14Xu3ojhyrj+bSTNXkC5ek+rP6sI/PSI7/6T9ZHygFyoABNgl8RoohK41LjAVAwAAAMVWz3L3QWraUUTq+tSJSf24ChTFxX5XmGSZOu/GuYuywG+dOB4QiJxvl8+1wC5r4BExWgjsPUUlGBj7wwW5xV6UeEAEjqqjB3ZUkLgYYEJcz7rW/H3tve6T+HOKIUJyPowmBrhtLChN+/ioSeMTziOcm4pYBMhtjnntYOtmk9g6M/3YHk1XASBseCVUeBwRM0/w/ew/xvOYdQRyn+8fEvZ8YZxXdFHrC0/K59sjxM4hg0Knc0hk52aS0dQFliOBIw1m5pQNhjDhiLCl0PrEem4xKe/fYr7dPfE0AIASZBWwyAkdoRAJNAwQADHTdkJ/leHI9cJza3c8kGQgJ155SLnQDxkxSpDMtkZNNavcAAABC4oFqtddzq54WK45qo+PYbIx57hFDbjqjDGEsNbaOvbuNBkJycwdgBABAmeWexaaP9oeOnAjuPGRaNAswBoKlxtaBTa9cPixUez2IEKAUKAMA+4NlocO14ZoGRAgwKp1uAVUjbmfM85uI2wWMIYzFA9XBHQfV7oHQkTrn4+U3h1Z7PeL+GtCpISfDsamcxDijNuOsqeKBaqWjG1HGogSMYYvJ+dR6qeGcPhoYffsDpqgAiPoDEW/j5UoRRgyAaZRRCgDEZXc9u1E+204DQUAIdI1pumn+TMcj9yN+IgfjkuNDlSd036i4q9K+bhW2WW4AjRhjav9g6NBxpulCXoZ58ewrJyyUho7WKZf6oy5EZpPt3qXYbmWSLB6o1nyjCGMgeGKZ/JwYYKvZeu/SaPNMVUMHa9VB78RhEmOmOdOMxQVXikuyuK9K849hk9FatpS47DeBvvlw/Zrpr/I/l0noSehJ6K+BJqEnoSehvwaahJ6EvoH+HwdBJxCvCMX/AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA0LTIwVDE5OjA5OjUxKzAwOjAwOdA+UwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNC0yMFQxOTowOTo1MSswMDowMEiNhu8AAAAASUVORK5CYII=",className:"mx-auto d-block",id:"witArenaImg"})})]})]}),(0,Ne.jsx)(Ye,{variant:"outline-primary",className:"view-all-clubs-btn",children:"View All Clubs"})]}),(0,Ne.jsx)(Oj.Item,{children:(0,Ne.jsxs)("div",{className:"find-FriendsIcon-wrapper",children:[(0,Ne.jsx)("div",{className:"find-FriendsIcon",children:(0,Ne.jsx)("svg",{className:"friendsIcon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"28",height:"28",children:(0,Ne.jsxs)("g",{fill:"",children:[(0,Ne.jsx)("path",{d:"M10.08 36.31l1.94-3.66A4.999 4.999 0 0116.43 30h15.12a5 5 0 014.41 2.65L40.94 42H9.2l-1.11 2h36.18l-6.54-12.29A6.99 6.99 0 0031.55 28H16.43a6.98 6.98 0 00-6.18 3.72L3.73 44H5.8z"}),(0,Ne.jsx)("path",{d:"M0 0v48h48V0zm46 46H2V2h44z"}),(0,Ne.jsx)("path",{d:"M24 26a8.5 8.5 0 100-17 8.5 8.5 0 000 17zm0-15a6.5 6.5 0 11-6.5 6.5A6.513 6.513 0 0124 11z"})]})})}),(0,Ne.jsxs)("div",{className:"find-Friends-wrapper",children:[(0,Ne.jsx)("h5",{className:"find-Friends-heading",children:"Find Your Friends"}),(0,Ne.jsx)("p",{children:"Connect with your friends already on Fortune or invite your training buddy to be part of the action!"}),(0,Ne.jsx)("div",{className:"view-all-friends-btn-wrapper",children:(0,Ne.jsx)(Ye,{variant:"outline-primary",className:"view-all-friends-btn",children:"Find and Invite Your Friends"})})]})]})}),(0,Ne.jsxs)(Oj.Item,{children:[(0,Ne.jsxs)("ul",{className:"modulelist",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Community Hub"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Support"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Subscription"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Student Discount"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Terms and Conditions"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Privacy Policy"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",className:"complianceBtn",children:"Do Not Share My Personal Information"})})]}),(0,Ne.jsxs)("ul",{className:"module-btn-list",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsxs)(Ri,{drop:"up",id:"dropdownUp",children:[(0,Ne.jsxs)(Ri.Toggle,{variant:"success",id:"module-dropdownBtn-list",children:[e,(0,Ne.jsx)(Bi,{className:"dropdownUp-icon"})]}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{href:"#/action-1",onClick:()=>r("English (US)"),value:"English (US)",children:"English (US)"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-1",onClick:()=>r("British English"),value:"British English",children:"British English"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("espa\xf1ol"),value:"espa\xf1ol",children:"espa\xf1ol"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("espa\xf1ol latinoamericano"),value:"espa\xf1ol latinoamericano",children:"Deutsch"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("fran\xe7ais"),value:"fran\xe7ais",children:"fran\xe7ais"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("italiano"),value:"italiano",children:"italiano"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("Nederlands"),value:"Nederlands",children:"Nederlands"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("portugu\xeas"),value:"portugu\xeas",children:"portugu\xeas"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("portugu\xeas do Brasil"),value:"portugu\xeas do Brasil",children:"portugu\xeas do Brasil"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u0440\u0443\u0441\u0441\u043a\u0438\u0439"),value:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",children:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u65e5\u672c\u8a9e"),value:"\u65e5\u672c\u8a9e",children:"\u65e5\u672c\u8a9e"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u7b80\u4f53\u4e2d\u6587"),value:"\u7b80\u4f53\u4e2d\u6587",children:"\u7b80\u4f53\u4e2d\u6587"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u7e41\u9ad4\u4e2d\u6587"),value:"\u7e41\u9ad4\u4e2d\u6587",children:"\u7e41\u9ad4\u4e2d\u6587"})]})]})}),(0,Ne.jsx)("li",{children:(0,Ne.jsxs)(Ri,{drop:"up",id:"dropdownUp",children:[(0,Ne.jsxs)(Ri.Toggle,{variant:"success",id:"control-dropdownBtn-list",children:["About",(0,Ne.jsx)(Bi,{className:"dropdownUp-icon"})]}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{href:"#/action-1",className:"control-dropDown-link",children:"About"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-1",className:"control-dropDown-link",children:"Careers"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"Business"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"Developer"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"Labs"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"About Our Maps"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"Community Standards"})]})]})}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsxs)(Ri,{drop:"up",id:"dropdownUp",children:[(0,Ne.jsxs)(Ri.Toggle,{variant:"success",id:"control-dropdownBtn-list",children:["Follow Us",(0,Ne.jsx)(Bi,{className:"feedUI-dropdownUp-icon"})]}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{href:"#/action-1",className:"control-dropDown-link",children:"Facebook"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-1",className:"control-dropDown-link",children:"Twitter"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"Instagram"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"YouTube"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"LinkedIn"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",className:"control-dropDown-link",children:"Stories"})]})]}),(0,Ne.jsx)("p",{className:"strava-copy-right",children:"\xa9 2024 Fortune"})]})]})]})]})]})})},Xj=()=>{const[e,n]=(0,t.useState)("Following"),r=e=>{n(e)};return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Ri,{id:"userActivities",children:[(0,Ne.jsxs)(Ri.Toggle,{variant:"success",id:"userActivities-dropdownBtn-list",children:[e,(0,Ne.jsx)("svg",{className:"feedUI-dropdownUp-icon",height:"20",width:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",children:(0,Ne.jsx)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"})})]}),(0,Ne.jsxs)(Ri.Menu,{id:"userActivities-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{className:"userActivities-dropDown-link",onClick:()=>r("Following"),value:"Following",children:"Following"}),(0,Ne.jsx)(Ri.Item,{className:"userActivities-dropDown-link",onClick:()=>r("My Activities"),value:"My Activities",children:"My Activities"})]})]})})},Yj=()=>{const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)({}),{clientID:o,clientSecret:l,refreshToken:c}=je.strava;return(0,t.useEffect)((()=>{!async function(){try{const e="https://www.strava.com/oauth/token?client_id=".concat(o,"&client_secret=").concat(l,"&refresh_token=").concat(c,"&grant_type=refresh_token"),t=await fetch(e,{method:"POST"});if(!t.ok)throw new Error("Failed to obtain access token");const r=await t.json(),s=await async function(e){const t=await fetch("".concat("https://www.strava.com/api/v3/athlete/activities","?access_token=").concat(e)),n=await t.json();return console.log("getActivities: ",n),n}(r.access_token),u=await async function(e){const t=await fetch("".concat("https://www.strava.com/api/v3/athlete","?access_token=").concat(e)),n=await t.json();return console.log("getAthleteData: ",n),n}(r.access_token);i(s),a(u),n(!1)}catch(e){console.error("Error fetching data:",e),n(!1)}}()}),[o,l,c]),(0,Ne.jsx)("div",{className:"App",children:(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)(Be,{children:(0,Ne.jsx)("div",{id:"text",children:(0,Ne.jsxs)(Ve,{id:"dashboardContainerRow",children:[(0,Ne.jsx)(He,{xs:3,md:6,lg:3,id:"LeftDashboardAthleteSidebarCol",children:(0,Ne.jsx)("div",{className:"LeftDashboardAthleteSidebar",children:(0,Ne.jsx)(Kj,{athlete:s,activities:r,isLoading:e})})}),(0,Ne.jsxs)(He,{children:[(0,Ne.jsx)(Xj,{}),(0,Ne.jsx)("div",{className:"CenterDashboardAthleteSidebar",children:(0,Ne.jsx)(Nj,{athlete:s})})]}),(0,Ne.jsx)(He,{lg:3,id:"RightDashboardAthleteSidebarCol",children:(0,Ne.jsx)("div",{className:"RightDashboardAthleteSidebar",children:(0,Ne.jsx)(Gj,{athlete:s,activities:r,isLoading:e})})})]})})})})})},Jj=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"Challenges"})}),Zj=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"MySegments"})}),$j=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"MyGoals"})}),eS=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"Heatmaps"})}),tS=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"Training"})}),nS=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"TrainingCalendar"})}),rS=e=>{let{selectedOption:t,handleOptionChange:n}=e;return(0,Ne.jsx)("div",{className:"select-input",children:(0,Ne.jsxs)("select",{className:"form-select",id:"selectionInputStyle",value:t,onChange:e=>{const t=e.target.value;n&&n(t)},children:[(0,Ne.jsx)("option",{value:"All Sport Types",children:"All Sport Types"}),(0,Ne.jsx)("option",{value:"Ride",children:"Ride"}),(0,Ne.jsx)("option",{value:"Run",children:"Run"}),(0,Ne.jsx)("option",{value:"Swim",children:"Swim"}),(0,Ne.jsx)("option",{value:"Hike",children:"Hike"}),(0,Ne.jsx)("option",{value:"Walk",children:"Walk"}),(0,Ne.jsx)("option",{value:"AlpineSki",children:"Alpine Ski"}),(0,Ne.jsx)("option",{value:"BackcountrySki",children:"Backcountry Ski"}),(0,Ne.jsx)("option",{value:"Canoeing",children:"Canoe"}),(0,Ne.jsx)("option",{value:"Crossfit",children:"Crossfit"}),(0,Ne.jsx)("option",{value:"EBikeRide",children:"E-Bike Ride"}),(0,Ne.jsx)("option",{value:"Elliptical",children:"Elliptical"}),(0,Ne.jsx)("option",{value:"Golf",children:"Golf"}),(0,Ne.jsx)("option",{value:"Handcycle",children:"Handcycle"}),(0,Ne.jsx)("option",{value:"IceSkate",children:"Ice Skate"}),(0,Ne.jsx)("option",{value:"InlineSkate",children:"Inline Skate"}),(0,Ne.jsx)("option",{value:"Kayaking",children:"Kayaking"}),(0,Ne.jsx)("option",{value:"Kitesurf",children:"Kitesurf"}),(0,Ne.jsx)("option",{value:"NordicSki",children:"Nordic Ski"}),(0,Ne.jsx)("option",{value:"RockClimbing",children:"Rock Climb"}),(0,Ne.jsx)("option",{value:"RollerSki",children:"Roller Ski"}),(0,Ne.jsx)("option",{value:"Rowing",children:"Rowing"}),(0,Ne.jsx)("option",{value:"Sail",children:"Sail"}),(0,Ne.jsx)("option",{value:"Skateboard",children:"Skateboard"}),(0,Ne.jsx)("option",{value:"Snowboard",children:"Snowboard"}),(0,Ne.jsx)("option",{value:"Snowshoe",children:"Snowshoe"}),(0,Ne.jsx)("option",{value:"Soccer",children:"Football (Soccer)"}),(0,Ne.jsx)("option",{value:"StairStepper",children:"Stair-Stepper"}),(0,Ne.jsx)("option",{value:"StandUpPaddling",children:"Stand Up Paddling"}),(0,Ne.jsx)("option",{value:"Surfing",children:"Surfing"}),(0,Ne.jsx)("option",{value:"Velomobile",children:"Velomobile"}),(0,Ne.jsx)("option",{value:"VirtualRide",children:"Virtual Ride"}),(0,Ne.jsx)("option",{value:"VirtualRun",children:"Virtual Run"}),(0,Ne.jsx)("option",{value:"WeightTraining",children:"Weight Training"}),(0,Ne.jsx)("option",{value:"Wheelchair",children:"Wheelchair"}),(0,Ne.jsx)("option",{value:"Windsurf",children:"Windsurf"}),(0,Ne.jsx)("option",{value:"Workout",children:"Workout"}),(0,Ne.jsx)("option",{value:"Yoga",children:"Yoga"})]})})},iS=e=>{let{onFilterChange:n}=e;const[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)("");return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(bC,{className:"my-activities-form",onSubmit:e=>{e.preventDefault();const t={sport:r,keywords:s.trim()};n(t)},children:(0,Ne.jsxs)(Ve,{className:"mb-3",children:[(0,Ne.jsx)(He,{md:6,children:(0,Ne.jsxs)(bC.Group,{id:"formBasicKeywords",children:[(0,Ne.jsx)(bC.Label,{children:"Keywords"}),(0,Ne.jsxs)("div",{className:"keyword-form-group",id:"keywordsActivityInputContainer",children:[(0,Ne.jsx)(bC.Control,{type:"text",placeholder:"My Morning Workout",id:"keywordsActivityInput",value:s,onChange:e=>{a(e.target.value)}}),(0,Ne.jsx)(Ye,{variant:"primary",type:"button",id:"filteringActivitiesBtn",children:"Search"})]})]})}),(0,Ne.jsx)(He,{md:6,children:(0,Ne.jsxs)(bC.Group,{id:"formBasicSport",children:[(0,Ne.jsx)(bC.Label,{children:"Sport"}),(0,Ne.jsx)(rS,{selectedOption:r,handleOptionChange:e=>i(e)})]})})]})})})};function sS(e,t){return new Promise((function(n,r){let i;return aS(e).then((function(e){try{return i=e,n(new Blob([t.slice(0,2),i,t.slice(2)],{type:"image/jpeg"}))}catch(e){return r(e)}}),r)}))}const aS=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(e=>{let{target:{result:r}}=e;const i=new DataView(r);let s=0;if(65496!==i.getUint16(s))return n("not a valid JPEG");for(s+=2;;){const e=i.getUint16(s);if(65498===e)break;const a=i.getUint16(s+2);if(65505===e&&1165519206===i.getUint32(s+4)){const e=s+10;let o;switch(i.getUint16(e)){case 18761:o=!0;break;case 19789:o=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(e+2,o))return n("TIFF header contains invalid version");const l=i.getUint32(e+4,o),c=e+l+2+12*i.getUint16(e+l,o);for(let t=e+l+2;t<c;t+=12)if(274==i.getUint16(t,o)){if(3!==i.getUint16(t+2,o))return n("Orientation data type is invalid");if(1!==i.getUint32(t+4,o))return n("Orientation data count is invalid");i.setUint16(t+8,1,o);break}return t(r.slice(s,s+2+a))}s+=2+a}return t(new Blob)})),r.readAsArrayBuffer(e)}));var oS={},lS={get exports(){return oS},set exports(e){oS=e}};!function(e){var t,n,r={};lS.exports=r,r.parse=function(e,t){for(var n=r.bin.readUshort,i=r.bin.readUint,s=0,a={},o=new Uint8Array(e),l=o.length-4;101010256!=i(o,l);)l--;s=l,s+=4;var c=n(o,s+=4);n(o,s+=2);var u=i(o,s+=2),d=i(o,s+=4);s+=4,s=d;for(var h=0;h<c;h++){i(o,s),s+=4,s+=4,s+=4,i(o,s+=4),u=i(o,s+=4);var f=i(o,s+=4),p=n(o,s+=4),m=n(o,s+2),g=n(o,s+4);s+=6;var v=i(o,s+=8);s+=4,s+=p+m+g,r._readLocal(o,v,a,u,f,t)}return a},r._readLocal=function(e,t,n,i,s,a){var o=r.bin.readUshort,l=r.bin.readUint;l(e,t),o(e,t+=4),o(e,t+=2);var c=o(e,t+=2);l(e,t+=2),l(e,t+=4),t+=4;var u=o(e,t+=8),d=o(e,t+=2);t+=2;var h=r.bin.readUTF8(e,t,u);if(t+=u,t+=d,a)n[h]={size:s,csize:i};else{var f=new Uint8Array(e.buffer,t);if(0==c)n[h]=new Uint8Array(f.buffer.slice(t,t+i));else{if(8!=c)throw"unknown compression method: "+c;var p=new Uint8Array(s);r.inflateRaw(f,p),n[h]=p}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){null==t&&(t={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=r.F.deflateRaw(e,i,n,t.level);var s=r.adler(e,0,e.length);return i[n+0]=s>>>24&255,i[n+1]=s>>>16&255,i[n+2]=s>>>8&255,i[n+3]=s>>>0&255,new Uint8Array(i.buffer,0,n+4)},r.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=r.F.deflateRaw(e,n,i,t.level);return new Uint8Array(n.buffer,0,i)},r.encode=function(e,t){null==t&&(t=!1);var n=0,i=r.bin.writeUint,s=r.bin.writeUshort,a={};for(var o in e){var l=!r._noNeed(o)&&!t,c=e[o],u=r.crc.crc(c,0,c.length);a[o]={cpr:l,usize:c.length,crc:u,file:l?r.deflateRaw(c):c}}for(var o in a)n+=a[o].file.length+30+46+2*r.bin.sizeUTF8(o);n+=22;var d=new Uint8Array(n),h=0,f=[];for(var o in a){var p=a[o];f.push(h),h=r._writeHeader(d,h,o,p,0)}var m=0,g=h;for(var o in a)p=a[o],f.push(h),h=r._writeHeader(d,h,o,p,1,f[m++]);var v=h-g;return i(d,h,101010256),h+=4,s(d,h+=4,m),s(d,h+=2,m),i(d,h+=2,v),i(d,h+=4,g),h+=4,h+=2,d.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},r._writeHeader=function(e,t,n,i,s,a){var o=r.bin.writeUint,l=r.bin.writeUshort,c=i.file;return o(e,t,0==s?67324752:33639248),t+=4,1==s&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,i.cpr?8:0),o(e,t+=2,0),o(e,t+=4,i.crc),o(e,t+=4,c.length),o(e,t+=4,i.usize),l(e,t+=4,r.bin.sizeUTF8(n)),l(e,t+=2,0),t+=2,1==s&&(t+=2,t+=2,o(e,t+=6,a),t+=4),t+=r.bin.writeUTF8(e,t,n),0==s&&(e.set(c,t),t+=c.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,i){for(var s=0;s<i;s++)e=r.crc.table[255&(e^t[n+s])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^r.crc.update(4294967295,e,t,n)}},r.adler=function(e,t,n){for(var r=1,i=0,s=t,a=t+n;s<a;){for(var o=Math.min(s+5552,a);s<o;)i+=r+=e[s++];r%=65521,i%=65521}return i<<16|r},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var i,s="",a=0;a<n;a++)s+="%"+r.bin.pad(e[t+a].toString(16));try{i=decodeURIComponent(s)}catch(i){return r.bin.readASCII(e,t,n)}return i},writeUTF8:function(e,t,n){for(var r=n.length,i=0,s=0;s<r;s++){var a=n.charCodeAt(s);if(0==(4294967168&a))e[t+i]=a,i++;else if(0==(4294965248&a))e[t+i]=192|a>>6,e[t+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var i=e.charCodeAt(r);if(0==(4294967168&i))n++;else if(0==(4294965248&i))n+=2;else if(0==(4294901760&i))n+=3;else{if(0!=(4292870144&i))throw"e";n+=4}}return n}},r.F={},r.F.deflateRaw=function(e,t,n,i){var s=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],a=r.F.U,o=r.F._goodIndex;r.F._hash;var l=r.F._putsE,c=0,u=n<<3,d=0,h=e.length;if(0==i){for(;c<h;)l(t,u,c+(C=Math.min(65535,h-c))==h?1:0),u=r.F._copyExact(e,c,C,t,u+8),c+=C;return u>>>3}var f=a.lits,p=a.strt,m=a.prev,g=0,v=0,y=0,w=0,b=0,x=0;for(h>2&&(p[x=r.F._hash(e,0)]=0),c=0;c<h;c++){if(b=x,c+1<h-2){x=r.F._hash(e,c+1);var E=c+1&32767;m[E]=p[x],p[x]=E}if(d<=c){(g>14e3||v>26697)&&h-c>100&&(d<c&&(f[g]=c-d,g+=2,d=c),u=r.F._writeBlock(c==h-1||d==h?1:0,f,g,w,e,y,c-y,t,u),g=v=w=0,y=c);var A=0;c<h-2&&(A=r.F._bestMatch(e,c,m,b,Math.min(s[2],h-c),s[3]));var C=A>>>16,k=65535&A;if(0!=A){k=65535&A;var j=o(C=A>>>16,a.of0);a.lhst[257+j]++;var S=o(k,a.df0);a.dhst[S]++,w+=a.exb[j]+a.dxb[S],f[g]=C<<23|c-d,f[g+1]=k<<16|j<<8|S,g+=2,d=c+C}else a.lhst[e[c]]++;v++}}for(y==c&&0!=e.length||(d<c&&(f[g]=c-d,g+=2,d=c),u=r.F._writeBlock(1,f,g,w,e,y,c-y,t,u),g=0,v=0,g=v=w=0,y=c);0!=(7&u);)u++;return u>>>3},r.F._bestMatch=function(e,t,n,i,s,a){var o=32767&t,l=n[o],c=o-l+32768&32767;if(l==o||i!=r.F._hash(e,t-c))return 0;for(var u=0,d=0,h=Math.min(32767,t);c<=h&&0!=--a&&l!=o;){if(0==u||e[t+u]==e[t+u-c]){var f=r.F._howLong(e,t,c);if(f>u){if(d=c,(u=f)>=s)break;c+2<f&&(f=c+2);for(var p=0,m=0;m<f-2;m++){var g=t-c+m+32768&32767,v=g-n[g]+32768&32767;v>p&&(p=v,l=g)}}}c+=(o=l)-(l=n[o])+32768&32767}return u<<16|d},r.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-n];)t++;return t-r},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,n,i,s,a,o,l,c){var u,d,h,f,p,m,g,v,y,w=r.F.U,b=r.F._putsF,x=r.F._putsE;w.lhst[256]++,d=(u=r.F.getTrees())[0],h=u[1],f=u[2],p=u[3],m=u[4],g=u[5],v=u[6],y=u[7];var E=32+(0==(c+3&7)?0:8-(c+3&7))+(o<<3),A=i+r.F.contSize(w.fltree,w.lhst)+r.F.contSize(w.fdtree,w.dhst),C=i+r.F.contSize(w.ltree,w.lhst)+r.F.contSize(w.dtree,w.dhst);C+=14+3*g+r.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var k=0;k<286;k++)w.lhst[k]=0;for(k=0;k<30;k++)w.dhst[k]=0;for(k=0;k<19;k++)w.ihst[k]=0;var j=E<A&&E<C?0:A<C?1:2;if(b(l,c,e),b(l,c+1,j),c+=3,0==j){for(;0!=(7&c);)c++;c=r.F._copyExact(s,a,o,l,c)}else{var S,I;if(1==j&&(S=w.fltree,I=w.fdtree),2==j){r.F.makeCodes(w.ltree,d),r.F.revCodes(w.ltree,d),r.F.makeCodes(w.dtree,h),r.F.revCodes(w.dtree,h),r.F.makeCodes(w.itree,f),r.F.revCodes(w.itree,f),S=w.ltree,I=w.dtree,x(l,c,p-257),x(l,c+=5,m-1),x(l,c+=5,g-4),c+=4;for(var N=0;N<g;N++)x(l,c+3*N,w.itree[1+(w.ordr[N]<<1)]);c+=3*g,c=r.F._codeTiny(v,w.itree,l,c),c=r.F._codeTiny(y,w.itree,l,c)}for(var _=a,T=0;T<n;T+=2){for(var R=t[T],O=R>>>23,D=_+(8388607&R);_<D;)c=r.F._writeLit(s[_++],S,l,c);if(0!=O){var P=t[T+1],L=P>>16,M=P>>8&255,U=255&P;x(l,c=r.F._writeLit(257+M,S,l,c),O-w.of0[M]),c+=w.exb[M],b(l,c=r.F._writeLit(U,I,l,c),L-w.df0[U]),c+=w.dxb[U],_+=O}}c=r.F._writeLit(256,S,l,c)}return c},r.F._copyExact=function(e,t,n,r,i){var s=i>>>3;return r[s]=n,r[s+1]=n>>>8,r[s+2]=255-r[s],r[s+3]=255-r[s+1],s+=4,r.set(new Uint8Array(e.buffer,t,n),s),i+(n+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),n=r.F._hufTree(e.dhst,e.dtree,15),i=[],s=r.F._lenCodes(e.ltree,i),a=[],o=r.F._lenCodes(e.dtree,a),l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(l=0;l<a.length;l+=2)e.ihst[a[l]]++;for(var c=r.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&0==e.itree[1+(e.ordr[u-1]<<1)];)u--;return[t,n,c,s,o,u,i,a]},r.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},r.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},r.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},r.F._codeTiny=function(e,t,n,i){for(var s=0;s<e.length;s+=2){var a=e[s],o=e[s+1];i=r.F._writeLit(a,t,n,i);var l=16==a?2:17==a?3:7;a>15&&(r.F._putsE(n,i,o,l),i+=l)}return i},r.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var i=e[r+1],s=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,o=0==r?-1:e[r-1];if(0==i&&s==i&&a==i){for(var l=r+5;l+2<n&&e[l+2]==i;)l+=2;(c=Math.min(l+1-r>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),r+=2*c-2}else if(i==o&&s==i&&a==i){for(l=r+5;l+2<n&&e[l+2]==i;)l+=2;var c=Math.min(l+1-r>>>1,6);t.push(16,c-3),r+=2*c-2}else t.push(i,0)}return n>>>1},r.F._hufTree=function(e,t,n){var i=[],s=e.length,a=t.length,o=0;for(o=0;o<a;o+=2)t[o]=0,t[o+1]=0;for(o=0;o<s;o++)0!=e[o]&&i.push({lit:o,f:e[o]});var l=i.length,c=i.slice(0);if(0==l)return 0;if(1==l){var u=i[0].lit;return c=0==u?1:0,t[1+(u<<1)]=1,t[1+(c<<1)]=1,1}i.sort((function(e,t){return e.f-t.f}));var d=i[0],h=i[1],f=0,p=1,m=2;for(i[0]={lit:-1,f:d.f+h.f,l:d,r:h,d:0};p!=l-1;)d=f!=p&&(m==l||i[f].f<i[m].f)?i[f++]:i[m++],h=f!=p&&(m==l||i[f].f<i[m].f)?i[f++]:i[m++],i[p++]={lit:-1,f:d.f+h.f,l:d,r:h};var g=r.F.setDepth(i[p-1],0);for(g>n&&(r.F.restrictDepth(c,n,g),g=n),o=0;o<l;o++)t[1+(c[o].lit<<1)]=c[o].d;return g},r.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,n){var r=0,i=1<<n-t,s=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,s+=i-(1<<n-a)}for(s>>>=n-t;s>0;)(a=e[r].d)<t?(e[r].d++,s-=1<<t-a-1):r++;for(;r>=0;r--)e[r].d==t&&s<0&&(e[r].d--,s++);0!=s&&console.log("debt left")},r.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},r.F._writeLit=function(e,t,n,i){return r.F._putsF(n,i,t[e<<1]),i+t[1+(e<<1)]},r.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var i=r.F,s=i._bitsF,a=i._bitsE,o=i._decodeTiny,l=i.makeCodes,c=i.codes2map,u=i._get17,d=i.U,h=null==t;h&&(t=new n(e.length>>>2<<3));for(var f,p,m=0,g=0,v=0,y=0,w=0,b=0,x=0,E=0,A=0;0==m;)if(m=s(e,A,1),g=s(e,A+1,2),A+=3,0!=g){if(h&&(t=r.F._check(t,E+(1<<17))),1==g&&(f=d.flmap,p=d.fdmap,b=511,x=31),2==g){v=a(e,A,5)+257,y=a(e,A+5,5)+1,w=a(e,A+10,4)+4,A+=14;for(var C=0;C<38;C+=2)d.itree[C]=0,d.itree[C+1]=0;var k=1;for(C=0;C<w;C++){var j=a(e,A+3*C,3);d.itree[1+(d.ordr[C]<<1)]=j,j>k&&(k=j)}A+=3*w,l(d.itree,k),c(d.itree,k,d.imap),f=d.lmap,p=d.dmap,A=o(d.imap,(1<<k)-1,v+y,e,A,d.ttree);var S=i._copyOut(d.ttree,0,v,d.ltree);b=(1<<S)-1;var I=i._copyOut(d.ttree,v,y,d.dtree);x=(1<<I)-1,l(d.ltree,S),c(d.ltree,S,f),l(d.dtree,I),c(d.dtree,I,p)}for(;;){var N=f[u(e,A)&b];A+=15&N;var _=N>>>4;if(_>>>8==0)t[E++]=_;else{if(256==_)break;var T=E+_-254;if(_>264){var R=d.ldef[_-257];T=E+(R>>>3)+a(e,A,7&R),A+=7&R}var O=p[u(e,A)&x];A+=15&O;var D=O>>>4,P=d.ddef[D],L=(P>>>4)+s(e,A,15&P);for(A+=15&P,h&&(t=r.F._check(t,E+(1<<17)));E<T;)t[E]=t[E++-L],t[E]=t[E++-L],t[E]=t[E++-L],t[E]=t[E++-L];E=T}}}else{0!=(7&A)&&(A+=8-(7&A));var M=4+(A>>>3),U=e[M-4]|e[M-3]<<8;h&&(t=r.F._check(t,E+U)),t.set(new n(e.buffer,e.byteOffset+M,U),E),A=M+U<<3,E+=U}return t.length==E?t:t.slice(0,E)},r.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},r.F._decodeTiny=function(e,t,n,i,s,a){for(var o=r.F._bitsE,l=r.F._get17,c=0;c<n;){var u=e[l(i,s)&t];s+=15&u;var d=u>>>4;if(d<=15)a[c]=d,c++;else{var h=0,f=0;16==d?(f=3+o(i,s,2),s+=2,h=a[c-1]):17==d?(f=3+o(i,s,3),s+=3):18==d&&(f=11+o(i,s,7),s+=7);for(var p=c+f;c<p;)a[c]=h,c++}}return s},r.F._copyOut=function(e,t,n,r){for(var i=0,s=0,a=r.length>>>1;s<n;){var o=e[s+t];r[s<<1]=0,r[1+(s<<1)]=o,o>i&&(i=o),s++}for(;s<a;)r[s<<1]=0,r[1+(s<<1)]=0,s++;return i},r.F.makeCodes=function(e,t){for(var n,i,s,a,o=r.F.U,l=e.length,c=o.bl_count,u=0;u<=t;u++)c[u]=0;for(u=1;u<l;u+=2)c[e[u]]++;var d=o.next_code;for(n=0,c[0]=0,i=1;i<=t;i++)n=n+c[i-1]<<1,d[i]=n;for(s=0;s<l;s+=2)0!=(a=e[s+1])&&(e[s]=d[a],d[a]++)},r.F.codes2map=function(e,t,n){for(var i=e.length,s=r.F.U.rev15,a=0;a<i;a+=2)if(0!=e[a+1])for(var o=a>>1,l=e[a+1],c=o<<4|l,u=t-l,d=e[a]<<u,h=d+(1<<u);d!=h;)n[s[d]>>>15-t]=c,d++},r.F.revCodes=function(e,t){for(var n=r.F.U.rev15,i=15-t,s=0;s<e.length;s+=2){var a=e[s]<<t-e[s+1];e[s]=n[a]>>>i}},r.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},r.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},r.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function i(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),i(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}()}();var cS=function(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}({__proto__:null,default:oS},[oS]);const uS=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII(e,t,n){let r="";for(let i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII(e,t,n){for(let r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes(e,t,n){const r=[];for(let i=0;i<n;i++)r.push(e[t+i]);return r},pad:e=>e.length<2?"0".concat(e):e,readUTF8(t,n,r){let i,s="";for(let a=0;a<r;a++)s+="%".concat(e.pad(t[n+a].toString(16)));try{i=decodeURIComponent(s)}catch(i){return e.readASCII(t,n,r)}return i}};function t(t,n,r,i){const a=n*r,o=s(i),l=Math.ceil(n*o/8),c=new Uint8Array(4*a),u=new Uint32Array(c.buffer),{ctype:d}=i,{depth:h}=i,f=e.readUshort;if(6==d){const e=a<<2;if(8==h)for(var p=0;p<e;p+=4)c[p]=t[p],c[p+1]=t[p+1],c[p+2]=t[p+2],c[p+3]=t[p+3];if(16==h)for(p=0;p<e;p++)c[p]=t[p<<1]}else if(2==d){const e=i.tabs.tRNS;if(null==e){if(8==h)for(p=0;p<a;p++){var m=3*p;u[p]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m]}if(16==h)for(p=0;p<a;p++)m=6*p,u[p]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m]}else{var g=e[0];const n=e[1],r=e[2];if(8==h)for(p=0;p<a;p++){var v=p<<2;m=3*p,u[p]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m],t[m]==g&&t[m+1]==n&&t[m+2]==r&&(c[v+3]=0)}if(16==h)for(p=0;p<a;p++)v=p<<2,m=6*p,u[p]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m],f(t,m)==g&&f(t,m+2)==n&&f(t,m+4)==r&&(c[v+3]=0)}}else if(3==d){const e=i.tabs.PLTE,s=i.tabs.tRNS,o=s?s.length:0;if(1==h)for(var y=0;y<r;y++){var w=y*l,b=y*n;for(p=0;p<n;p++){v=b+p<<2;var x=3*(E=t[w+(p>>3)]>>7-((7&p)<<0)&1);c[v]=e[x],c[v+1]=e[x+1],c[v+2]=e[x+2],c[v+3]=E<o?s[E]:255}}if(2==h)for(y=0;y<r;y++)for(w=y*l,b=y*n,p=0;p<n;p++)v=b+p<<2,x=3*(E=t[w+(p>>2)]>>6-((3&p)<<1)&3),c[v]=e[x],c[v+1]=e[x+1],c[v+2]=e[x+2],c[v+3]=E<o?s[E]:255;if(4==h)for(y=0;y<r;y++)for(w=y*l,b=y*n,p=0;p<n;p++)v=b+p<<2,x=3*(E=t[w+(p>>1)]>>4-((1&p)<<2)&15),c[v]=e[x],c[v+1]=e[x+1],c[v+2]=e[x+2],c[v+3]=E<o?s[E]:255;if(8==h)for(p=0;p<a;p++){var E;v=p<<2,x=3*(E=t[p]),c[v]=e[x],c[v+1]=e[x+1],c[v+2]=e[x+2],c[v+3]=E<o?s[E]:255}}else if(4==d){if(8==h)for(p=0;p<a;p++){v=p<<2;var A=t[C=p<<1];c[v]=A,c[v+1]=A,c[v+2]=A,c[v+3]=t[C+1]}if(16==h)for(p=0;p<a;p++){var C;v=p<<2,A=t[C=p<<2],c[v]=A,c[v+1]=A,c[v+2]=A,c[v+3]=t[C+2]}}else if(0==d)for(g=i.tabs.tRNS?i.tabs.tRNS:-1,y=0;y<r;y++){const e=y*l,r=y*n;if(1==h)for(var k=0;k<n;k++){var j=(A=255*(t[e+(k>>>3)]>>>7-(7&k)&1))==255*g?0:255;u[r+k]=j<<24|A<<16|A<<8|A}else if(2==h)for(k=0;k<n;k++)j=(A=85*(t[e+(k>>>2)]>>>6-((3&k)<<1)&3))==85*g?0:255,u[r+k]=j<<24|A<<16|A<<8|A;else if(4==h)for(k=0;k<n;k++)j=(A=17*(t[e+(k>>>1)]>>>4-((1&k)<<2)&15))==17*g?0:255,u[r+k]=j<<24|A<<16|A<<8|A;else if(8==h)for(k=0;k<n;k++)j=(A=t[e+k])==g?0:255,u[r+k]=j<<24|A<<16|A<<8|A;else if(16==h)for(k=0;k<n;k++)A=t[e+(k<<1)],j=f(t,e+(k<<1))==g?0:255,u[r+k]=j<<24|A<<16|A<<8|A}return c}function n(e,t,n,o){const l=s(e),c=Math.ceil(n*l/8),u=new Uint8Array((c+1+e.interlace)*o);return t=e.tabs.CgBI?i(t,u):r(t,u),0==e.interlace?t=a(t,e,0,n,o):1==e.interlace&&(t=function(e,t){const n=t.width,r=t.height,i=s(t),o=i>>3,l=Math.ceil(n*i/8),c=new Uint8Array(r*l);let u=0;const d=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let m=0;for(;m<7;){const s=f[m],v=p[m];let y=0,w=0,b=d[m];for(;b<r;)b+=s,w++;let x=h[m];for(;x<n;)x+=v,y++;const E=Math.ceil(y*i/8);a(e,t,u,y,w);let A=0,C=d[m];for(;C<r;){let t=h[m],r=u+A*E<<3;for(;t<n;){var g;if(1==i&&(g=(g=e[r>>3])>>7-(7&r)&1,c[C*l+(t>>3)]|=g<<7-((7&t)<<0)),2==i&&(g=(g=e[r>>3])>>6-(7&r)&3,c[C*l+(t>>2)]|=g<<6-((3&t)<<1)),4==i&&(g=(g=e[r>>3])>>4-(7&r)&15,c[C*l+(t>>1)]|=g<<4-((1&t)<<2)),i>=8){const n=C*l+t*o;for(let t=0;t<o;t++)c[n+t]=e[(r>>3)+t]}r+=i,t+=v}A++,C+=s}y*w!=0&&(u+=w*(1+E)),m+=1}return c}(t,e)),t}function r(e,t){return i(new Uint8Array(e.buffer,2,e.length-6),t)}var i=function(){const e={H:{}};return e.H.N=function(t,n){const r=Uint8Array;let i,s,a=0,o=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0;if(3==t[0]&&0==t[1])return n||new r(0);const m=e.H,g=m.b,v=m.e,y=m.R,w=m.n,b=m.A,x=m.Z,E=m.m,A=null==n;for(A&&(n=new r(t.length>>>2<<5));0==a;)if(a=g(t,p,1),o=g(t,p+1,2),p+=3,0!=o){if(A&&(n=e.H.W(n,f+(1<<17))),1==o&&(i=E.J,s=E.h,d=511,h=31),2==o){l=v(t,p,5)+257,c=v(t,p+5,5)+1,u=v(t,p+10,4)+4,p+=14;let e=1;for(var C=0;C<38;C+=2)E.Q[C]=0,E.Q[C+1]=0;for(C=0;C<u;C++){const n=v(t,p+3*C,3);E.Q[1+(E.X[C]<<1)]=n,n>e&&(e=n)}p+=3*u,w(E.Q,e),b(E.Q,e,E.u),i=E.w,s=E.d,p=y(E.u,(1<<e)-1,l+c,t,p,E.v);const n=m.V(E.v,0,l,E.C);d=(1<<n)-1;const r=m.V(E.v,l,c,E.D);h=(1<<r)-1,w(E.C,n),b(E.C,n,i),w(E.D,r),b(E.D,r,s)}for(;;){const e=i[x(t,p)&d];p+=15&e;const r=e>>>4;if(r>>>8==0)n[f++]=r;else{if(256==r)break;{let e=f+r-254;if(r>264){const n=E.q[r-257];e=f+(n>>>3)+v(t,p,7&n),p+=7&n}const i=s[x(t,p)&h];p+=15&i;const a=i>>>4,o=E.c[a],l=(o>>>4)+g(t,p,15&o);for(p+=15&o;f<e;)n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l];f=e}}}}else{0!=(7&p)&&(p+=8-(7&p));const i=4+(p>>>3),s=t[i-4]|t[i-3]<<8;A&&(n=e.H.W(n,f+s)),n.set(new r(t.buffer,t.byteOffset+i,s),f),p=i+s<<3,f+=s}return n.length==f?n:n.slice(0,f)},e.H.W=function(e,t){const n=e.length;if(t<=n)return e;const r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,i,s,a){const o=e.H.e,l=e.H.Z;let c=0;for(;c<r;){const e=t[l(i,s)&n];s+=15&e;const r=e>>>4;if(r<=15)a[c]=r,c++;else{let e=0,t=0;16==r?(t=3+o(i,s,2),s+=2,e=a[c-1]):17==r?(t=3+o(i,s,3),s+=3):18==r&&(t=11+o(i,s,7),s+=7);const n=c+t;for(;c<n;)a[c]=e,c++}}return s},e.H.V=function(e,t,n,r){let i=0,s=0;const a=r.length>>>1;for(;s<n;){const n=e[s+t];r[s<<1]=0,r[1+(s<<1)]=n,n>i&&(i=n),s++}for(;s<a;)r[s<<1]=0,r[1+(s<<1)]=0,s++;return i},e.H.n=function(t,n){const r=e.H.m,i=t.length;let s,a,o,l;const c=r.j;for(var u=0;u<=n;u++)c[u]=0;for(u=1;u<i;u+=2)c[t[u]]++;const d=r.K;for(s=0,c[0]=0,a=1;a<=n;a++)s=s+c[a-1]<<1,d[a]=s;for(o=0;o<i;o+=2)l=t[o+1],0!=l&&(t[o]=d[l],d[l]++)},e.H.A=function(t,n,r){const i=t.length,s=e.H.m.r;for(let e=0;e<i;e+=2)if(0!=t[e+1]){const i=e>>1,a=t[e+1],o=i<<4|a,l=n-a;let c=t[e]<<l;const u=c+(1<<l);for(;c!=u;)r[s[c]>>>15-n]=o,c++}},e.H.l=function(t,n){const r=e.H.m.r,i=15-n;for(let e=0;e<t.length;e+=2){const s=t[e]<<n-t[e+1];t[e]=r[s]>>>i}},e.H.M=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[n]=(e>>>16|e<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];r(t._,144,8),r(t._,112,9),r(t._,24,7),r(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),r(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),r(t.Q,19,0),r(t.C,286,0),r(t.D,30,0),r(t.v,320,0)}(),e.H.N}();function s(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function a(e,t,n,r,i){let a=s(t);const l=Math.ceil(r*a/8);let c,u;a=Math.ceil(a/8);let d=e[n],h=0;if(d>1&&(e[n]=[0,0,1][d-2]),3==d)for(h=a;h<l;h++)e[h+1]=e[h+1]+(e[h+1-a]>>>1)&255;for(let s=0;s<i;s++)if(c=n+s*l,u=c+s+1,d=e[u-1],h=0,0==d)for(;h<l;h++)e[c+h]=e[u+h];else if(1==d){for(;h<a;h++)e[c+h]=e[u+h];for(;h<l;h++)e[c+h]=e[u+h]+e[c+h-a]}else if(2==d)for(;h<l;h++)e[c+h]=e[u+h]+e[c+h-l];else if(3==d){for(;h<a;h++)e[c+h]=e[u+h]+(e[c+h-l]>>>1);for(;h<l;h++)e[c+h]=e[u+h]+(e[c+h-l]+e[c+h-a]>>>1)}else{for(;h<a;h++)e[c+h]=e[u+h]+o(0,e[c+h-l],0);for(;h<l;h++)e[c+h]=e[u+h]+o(e[c+h-a],e[c+h-l],e[c+h-a-l])}return e}function o(e,t,n){const r=e+t-n,i=r-e,s=r-t,a=r-n;return i*i<=s*s&&i*i<=a*a?e:s*s<=a*a?t:n}function l(t,n,r){r.width=e.readUint(t,n),n+=4,r.height=e.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++}function c(e,t,n,r,i,s,a,o,l){const c=Math.min(t,i),u=Math.min(n,s);let d=0,h=0;for(let x=0;x<u;x++)for(let n=0;n<c;n++)if(a>=0&&o>=0?(d=x*t+n<<2,h=(o+x)*i+a+n<<2):(d=(-o+x)*t-a+n<<2,h=x*i+n<<2),0==l)r[h]=e[d],r[h+1]=e[d+1],r[h+2]=e[d+2],r[h+3]=e[d+3];else if(1==l){var f=e[d+3]*(1/255),p=e[d]*f,m=e[d+1]*f,g=e[d+2]*f,v=r[h+3]*(1/255),y=r[h]*v,w=r[h+1]*v,b=r[h+2]*v;const t=1-f,n=f+v*t,i=0==n?0:1/n;r[h+3]=255*n,r[h+0]=(p+y*t)*i,r[h+1]=(m+w*t)*i,r[h+2]=(g+b*t)*i}else if(2==l)f=e[d+3],p=e[d],m=e[d+1],g=e[d+2],v=r[h+3],y=r[h],w=r[h+1],b=r[h+2],f==v&&p==y&&m==w&&g==b?(r[h]=0,r[h+1]=0,r[h+2]=0,r[h+3]=0):(r[h]=p,r[h+1]=m,r[h+2]=g,r[h+3]=f);else if(3==l){if(f=e[d+3],p=e[d],m=e[d+1],g=e[d+2],v=r[h+3],y=r[h],w=r[h+1],b=r[h+2],f==v&&p==y&&m==w&&g==b)continue;if(f<220&&v>20)return!1}return!0}return{decode:function(t){const s=new Uint8Array(t);let a=8;const o=e,c=o.readUshort,u=o.readUint,d={tabs:{},frames:[]},h=new Uint8Array(s.length);let f,p=0,m=0;const g=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(s[v]!=g[v])throw"The input is not a PNG file!";for(;a<s.length;){const t=o.readUint(s,a);a+=4;const g=o.readASCII(s,a,4);if(a+=4,"IHDR"==g)l(s,a,d);else if("iCCP"==g){for(var y=a;0!=s[y];)y++;o.readASCII(s,a,y-a),s[y+1];const n=s.slice(y+2,a+t);let l=null;try{l=r(n)}catch(e){l=i(n)}d.tabs[g]=l}else if("CgBI"==g)d.tabs[g]=s.slice(a,a+4);else if("IDAT"==g){for(v=0;v<t;v++)h[p+v]=s[a+v];p+=t}else if("acTL"==g)d.tabs[g]={num_frames:u(s,a),num_plays:u(s,a+4)},f=new Uint8Array(s.length);else if("fcTL"==g){0!=m&&((C=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),C.rect.width,C.rect.height),m=0);const e={x:u(s,a+12),y:u(s,a+16),width:u(s,a+4),height:u(s,a+8)};let t=c(s,a+22);t=c(s,a+20)/(0==t?100:t);const r={rect:e,delay:Math.round(1e3*t),dispose:s[a+24],blend:s[a+25]};d.frames.push(r)}else if("fdAT"==g){for(v=0;v<t-4;v++)f[m+v]=s[a+v+4];m+=t-4}else if("pHYs"==g)d.tabs[g]=[o.readUint(s,a),o.readUint(s,a+4),s[a+8]];else if("cHRM"==g)for(d.tabs[g]=[],v=0;v<8;v++)d.tabs[g].push(o.readUint(s,a+4*v));else if("tEXt"==g||"zTXt"==g){null==d.tabs[g]&&(d.tabs[g]={});var w=o.nextZero(s,a),b=o.readASCII(s,a,w-a),x=a+t-w-1;if("tEXt"==g)A=o.readASCII(s,w+1,x);else{var E=r(s.slice(w+2,w+2+x));A=o.readUTF8(E,0,E.length)}d.tabs[g][b]=A}else if("iTXt"==g){null==d.tabs[g]&&(d.tabs[g]={}),w=0,y=a,w=o.nextZero(s,y),b=o.readASCII(s,y,w-y);const e=s[y=w+1];var A;s[y+1],y+=2,w=o.nextZero(s,y),o.readASCII(s,y,w-y),y=w+1,w=o.nextZero(s,y),o.readUTF8(s,y,w-y),x=t-((y=w+1)-a),0==e?A=o.readUTF8(s,y,x):(E=r(s.slice(y,y+x)),A=o.readUTF8(E,0,E.length)),d.tabs[g][b]=A}else if("PLTE"==g)d.tabs[g]=o.readBytes(s,a,t);else if("hIST"==g){const e=d.tabs.PLTE.length/3;for(d.tabs[g]=[],v=0;v<e;v++)d.tabs[g].push(c(s,a+2*v))}else if("tRNS"==g)3==d.ctype?d.tabs[g]=o.readBytes(s,a,t):0==d.ctype?d.tabs[g]=c(s,a):2==d.ctype&&(d.tabs[g]=[c(s,a),c(s,a+2),c(s,a+4)]);else if("gAMA"==g)d.tabs[g]=o.readUint(s,a)/1e5;else if("sRGB"==g)d.tabs[g]=s[a];else if("bKGD"==g)0==d.ctype||4==d.ctype?d.tabs[g]=[c(s,a)]:2==d.ctype||6==d.ctype?d.tabs[g]=[c(s,a),c(s,a+2),c(s,a+4)]:3==d.ctype&&(d.tabs[g]=s[a]);else if("IEND"==g)break;a+=t,o.readUint(s,a),a+=4}var C;return 0!=m&&((C=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),C.rect.width,C.rect.height)),d.data=n(d,h,d.width,d.height),delete d.compress,delete d.interlace,delete d.filter,d},toRGBA8:function(e){const n=e.width,r=e.height;if(null==e.tabs.acTL)return[t(e.data,n,r,e).buffer];const i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const s=n*r*4,a=new Uint8Array(s),o=new Uint8Array(s),l=new Uint8Array(s);for(let d=0;d<e.frames.length;d++){const h=e.frames[d],f=h.rect.x,p=h.rect.y,m=h.rect.width,g=h.rect.height,v=t(h.data,m,g,e);if(0!=d)for(var u=0;u<s;u++)l[u]=a[u];if(0==h.blend?c(v,m,g,a,n,r,f,p,0):1==h.blend&&c(v,m,g,a,n,r,f,p,1),i.push(a.buffer.slice(0)),0==h.dispose);else if(1==h.dispose)c(o,m,g,a,n,r,f,p,0);else if(2==h.dispose)for(u=0;u<s;u++)a[u]=l[u]}return i},_paeth:o,_copyTile:c,_bin:e}}();!function(){const{_copyTile:e}=uS,{_bin:t}=uS,n=uS._paeth;var r={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update(e,t,n,i){for(let s=0;s<i;s++)e=r.table[255&(e^t[n+s])]^e>>>8;return e},crc:(e,t,n)=>4294967295^r.update(4294967295,e,t,n)};function i(e,t,n,r){t[n]+=e[0]*r>>4,t[n+1]+=e[1]*r>>4,t[n+2]+=e[2]*r>>4,t[n+3]+=e[3]*r>>4}function s(e){return Math.max(0,Math.min(255,e))}function a(e,t){const n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return n*n+r*r+i*i+s*s}function o(e,t,n,r,o,l,c){null==c&&(c=1);const u=r.length,d=[];for(var h=0;h<u;h++){const e=r[h];d.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(h=0;h<u;h++){let e=4294967295;for(var f=0,p=0;p<u;p++){var m=a(d[h],d[p]);p!=h&&m<e&&(e=m,f=p)}}const g=new Uint32Array(o.buffer),v=new Int16Array(t*n*4),y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<y.length;h++)y[h]=255*((y[h]+.5)/16-.5);for(let b=0;b<n;b++)for(let o=0;o<t;o++){var w;h=4*(b*t+o),2!=c?w=[s(e[h]+v[h]),s(e[h+1]+v[h+1]),s(e[h+2]+v[h+2]),s(e[h+3]+v[h+3])]:(m=y[4*(3&b)+(3&o)],w=[s(e[h]+m),s(e[h+1]+m),s(e[h+2]+m),s(e[h+3]+m)]),f=0;let x=16777215;for(p=0;p<u;p++){const e=a(w,d[p]);e<x&&(x=e,f=p)}const E=d[f],A=[w[0]-E[0],w[1]-E[1],w[2]-E[2],w[3]-E[3]];1==c&&(o!=t-1&&i(A,v,h+4,7),b!=n-1&&(0!=o&&i(A,v,h+4*t-4,3),i(A,v,h+4*t,5),o!=t-1&&i(A,v,h+4*t+4,1))),l[h>>2]=f,g[h>>2]=r[f]}}function l(e,n,i,s,a){null==a&&(a={});const{crc:o}=r,l=t.writeUint,c=t.writeUshort,u=t.writeASCII;let d=8;const h=e.frames.length>1;let f,p=!1,m=33+(h?20:0);if(null!=a.sRGB&&(m+=13),null!=a.pHYs&&(m+=21),null!=a.iCCP&&(f=pako.deflate(a.iCCP),m+=21+f.length+4),3==e.ctype){for(var g=e.plte.length,v=0;v<g;v++)e.plte[v]>>>24!=255&&(p=!0);m+=8+3*g+4+(p?8+1*g+4:0)}for(var y=0;y<e.frames.length;y++)h&&(m+=38),m+=(E=e.frames[y]).cimg.length+12,0!=y&&(m+=4);m+=12;const w=new Uint8Array(m),b=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)w[v]=b[v];if(l(w,d,13),d+=4,u(w,d,"IHDR"),d+=4,l(w,d,n),d+=4,l(w,d,i),d+=4,w[d]=e.depth,d++,w[d]=e.ctype,d++,w[d]=0,d++,w[d]=0,d++,w[d]=0,d++,l(w,d,o(w,d-17,17)),d+=4,null!=a.sRGB&&(l(w,d,1),d+=4,u(w,d,"sRGB"),d+=4,w[d]=a.sRGB,d++,l(w,d,o(w,d-5,5)),d+=4),null!=a.iCCP){const e=13+f.length;l(w,d,e),d+=4,u(w,d,"iCCP"),d+=4,u(w,d,"ICC profile"),d+=11,d+=2,w.set(f,d),d+=f.length,l(w,d,o(w,d-(e+4),e+4)),d+=4}if(null!=a.pHYs&&(l(w,d,9),d+=4,u(w,d,"pHYs"),d+=4,l(w,d,a.pHYs[0]),d+=4,l(w,d,a.pHYs[1]),d+=4,w[d]=a.pHYs[2],d++,l(w,d,o(w,d-13,13)),d+=4),h&&(l(w,d,8),d+=4,u(w,d,"acTL"),d+=4,l(w,d,e.frames.length),d+=4,l(w,d,null!=a.loop?a.loop:0),d+=4,l(w,d,o(w,d-12,12)),d+=4),3==e.ctype){for(l(w,d,3*(g=e.plte.length)),d+=4,u(w,d,"PLTE"),d+=4,v=0;v<g;v++){const t=3*v,n=e.plte[v],r=255&n,i=n>>>8&255,s=n>>>16&255;w[d+t+0]=r,w[d+t+1]=i,w[d+t+2]=s}if(d+=3*g,l(w,d,o(w,d-3*g-4,3*g+4)),d+=4,p){for(l(w,d,g),d+=4,u(w,d,"tRNS"),d+=4,v=0;v<g;v++)w[d+v]=e.plte[v]>>>24&255;d+=g,l(w,d,o(w,d-g-4,g+4)),d+=4}}let x=0;for(y=0;y<e.frames.length;y++){var E=e.frames[y];h&&(l(w,d,26),d+=4,u(w,d,"fcTL"),d+=4,l(w,d,x++),d+=4,l(w,d,E.rect.width),d+=4,l(w,d,E.rect.height),d+=4,l(w,d,E.rect.x),d+=4,l(w,d,E.rect.y),d+=4,c(w,d,s[y]),d+=2,c(w,d,1e3),d+=2,w[d]=E.dispose,d++,w[d]=E.blend,d++,l(w,d,o(w,d-30,30)),d+=4);const t=E.cimg;l(w,d,(g=t.length)+(0==y?0:4)),d+=4;const n=d;u(w,d,0==y?"IDAT":"fdAT"),d+=4,0!=y&&(l(w,d,x++),d+=4),w.set(t,d),d+=g,l(w,d,o(w,n,d-n)),d+=4}return l(w,d,0),d+=4,u(w,d,"IEND"),d+=4,l(w,d,o(w,d-4,4)),d+=4,w.buffer}function c(e,t,n){for(let r=0;r<e.frames.length;r++){const i=e.frames[r];i.rect.width;const s=i.rect.height,a=new Uint8Array(s*i.bpl+s);i.cimg=f(i.img,s,i.bpp,i.bpl,a,t,n)}}function u(t,n,r,i,s){const a=s[0],l=s[1],c=s[2],u=s[3],f=s[4],p=s[5];let g=6,v=8,y=255;for(var w=0;w<t.length;w++){const e=new Uint8Array(t[w]);for(var b=e.length,x=0;x<b;x+=4)y&=e[x+3]}const E=255!=y,A=function(t,n,r,i,s,a){const o=[];for(var l=0;l<t.length;l++){const d=new Uint8Array(t[l]),f=new Uint32Array(d.buffer);var c;let m=0,g=0,v=n,y=r,w=i?1:0;if(0!=l){const b=a||i||1==l||0!=o[l-2].dispose?1:2;let x=0,E=1e9;for(let e=0;e<b;e++){var u=new Uint8Array(t[l-1-e]);const i=new Uint32Array(t[l-1-e]);let a=n,o=r,c=-1,d=-1;for(let e=0;e<r;e++)for(let t=0;t<n;t++)f[p=e*n+t]!=i[p]&&(t<a&&(a=t),t>c&&(c=t),e<o&&(o=e),e>d&&(d=e));-1==c&&(a=o=c=d=0),s&&(1==(1&a)&&a--,1==(1&o)&&o--);const h=(c-a+1)*(d-o+1);h<E&&(E=h,x=e,m=a,g=o,v=c-a+1,y=d-o+1)}u=new Uint8Array(t[l-1-x]),1==x&&(o[l-1].dispose=2),c=new Uint8Array(v*y*4),e(u,n,r,c,v,y,-m,-g,0),w=e(d,n,r,c,v,y,-m,-g,3)?1:0,1==w?h(d,n,r,c,{x:m,y:g,width:v,height:y}):e(d,n,r,c,v,y,-m,-g,0)}else c=d.slice(0);o.push({rect:{x:m,y:g,width:v,height:y},img:c,blend:w,dispose:0})}if(i)for(l=0;l<o.length;l++){if(1==(m=o[l]).blend)continue;const e=m.rect,i=o[l-1].rect,a=Math.min(e.x,i.x),c=Math.min(e.y,i.y),u={x:a,y:c,width:Math.max(e.x+e.width,i.x+i.width)-a,height:Math.max(e.y+e.height,i.y+i.height)-c};o[l-1].dispose=1,l-1!=0&&d(t,n,r,o,l-1,u,s),d(t,n,r,o,l,u,s)}let f=0;if(1!=t.length)for(var p=0;p<o.length;p++){var m;f+=(m=o[p]).rect.width*m.rect.height}return o}(t,n,r,a,l,c),C={},k=[],j=[];if(0!=i){const e=[];for(x=0;x<A.length;x++)e.push(A[x].img.buffer);const t=function(e){let t=0;for(var n=0;n<e.length;n++)t+=e[n].byteLength;const r=new Uint8Array(t);let i=0;for(n=0;n<e.length;n++){const t=new Uint8Array(e[n]),s=t.length;for(let e=0;e<s;e+=4){let n=t[e],s=t[e+1],a=t[e+2];const o=t[e+3];0==o&&(n=s=a=0),r[i+e]=n,r[i+e+1]=s,r[i+e+2]=a,r[i+e+3]=o}i+=s}return r.buffer}(e),n=m(t,i);for(x=0;x<n.plte.length;x++)k.push(n.plte[x].est.rgba);let r=0;for(x=0;x<A.length;x++){const e=(I=A[x]).img.length;var S=new Uint8Array(n.inds.buffer,r>>2,e>>2);j.push(S);const t=new Uint8Array(n.abuf,r,e);p&&o(I.img,I.rect.width,I.rect.height,k,t,S),I.img.set(t),r+=e}}else for(w=0;w<A.length;w++){var I=A[w];const e=new Uint32Array(I.img.buffer);var N=I.rect.width;for(b=e.length,S=new Uint8Array(b),j.push(S),x=0;x<b;x++){const t=e[x];if(0!=x&&t==e[x-1])S[x]=S[x-1];else if(x>N&&t==e[x-N])S[x]=S[x-N];else{let e=C[t];if(null==e&&(C[t]=e=k.length,k.push(t),k.length>=300))break;S[x]=e}}}const _=k.length;for(_<=256&&0==f&&(v=_<=2?1:_<=4?2:_<=16?4:8,v=Math.max(v,u)),w=0;w<A.length;w++){(I=A[w]).rect.x,I.rect.y,N=I.rect.width;const e=I.rect.height;let t=I.img;new Uint32Array(t.buffer);let n=4*N,r=4;if(_<=256&&0==f){n=Math.ceil(v*N/8);var T=new Uint8Array(n*e);const i=j[w];for(let t=0;t<e;t++){x=t*n;const e=t*N;if(8==v)for(var R=0;R<N;R++)T[x+R]=i[e+R];else if(4==v)for(R=0;R<N;R++)T[x+(R>>1)]|=i[e+R]<<4-4*(1&R);else if(2==v)for(R=0;R<N;R++)T[x+(R>>2)]|=i[e+R]<<6-2*(3&R);else if(1==v)for(R=0;R<N;R++)T[x+(R>>3)]|=i[e+R]<<7-1*(7&R)}t=T,g=3,r=1}else if(0==E&&1==A.length){T=new Uint8Array(N*e*3);const i=N*e;for(x=0;x<i;x++){const e=3*x,n=4*x;T[e]=t[n],T[e+1]=t[n+1],T[e+2]=t[n+2]}t=T,g=2,r=3,n=3*N}I.img=t,I.bpl=n,I.bpp=r}return{ctype:g,depth:v,plte:k,frames:A}}function d(t,n,r,i,s,a,o){const l=Uint8Array,c=Uint32Array,u=new l(t[s-1]),d=new c(t[s-1]),f=s+1<t.length?new l(t[s+1]):null,p=new l(t[s]),m=new c(p.buffer);let g=n,v=r,y=-1,w=-1;for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++){const r=a.x+t,o=a.y+e,l=o*n+r,c=m[l];0==c||0==i[s-1].dispose&&d[l]==c&&(null==f||0!=f[4*l+3])||(r<g&&(g=r),r>y&&(y=r),o<v&&(v=o),o>w&&(w=o))}-1==y&&(g=v=y=w=0),o&&(1==(1&g)&&g--,1==(1&v)&&v--),a={x:g,y:v,width:y-g+1,height:w-v+1};const b=i[s];b.rect=a,b.blend=1,b.img=new Uint8Array(a.width*a.height*4),0==i[s-1].dispose?(e(u,n,r,b.img,a.width,a.height,-a.x,-a.y,0),h(p,n,r,b.img,a)):e(p,n,r,b.img,a.width,a.height,-a.x,-a.y,0)}function h(t,n,r,i,s){e(t,n,r,i,s.width,s.height,-s.x,-s.y,2)}function f(e,t,n,r,i,s,a){const o=[];let l,c=[0,1,2,3,4];-1!=s?c=[s]:(t*r>5e5||1==n)&&(c=[0]),a&&(l={level:0});const u=cS;for(var d=0;d<c.length;d++){for(let s=0;s<t;s++)p(i,e,s,r,n,c[d]);o.push(u.deflate(i,l))}let h,f=1e9;for(d=0;d<o.length;d++)o[d].length<f&&(h=d,f=o[d].length);return o[h]}function p(e,t,r,i,s,a){const o=r*i;let l=o+r;if(e[l]=a,l++,0==a)if(i<500)for(var c=0;c<i;c++)e[l+c]=t[o+c];else e.set(new Uint8Array(t.buffer,o,i),l);else if(1==a){for(c=0;c<s;c++)e[l+c]=t[o+c];for(c=s;c<i;c++)e[l+c]=t[o+c]-t[o+c-s]+256&255}else if(0==r){for(c=0;c<s;c++)e[l+c]=t[o+c];if(2==a)for(c=s;c<i;c++)e[l+c]=t[o+c];if(3==a)for(c=s;c<i;c++)e[l+c]=t[o+c]-(t[o+c-s]>>1)+256&255;if(4==a)for(c=s;c<i;c++)e[l+c]=t[o+c]-n(t[o+c-s],0,0)+256&255}else{if(2==a)for(c=0;c<i;c++)e[l+c]=t[o+c]+256-t[o+c-i]&255;if(3==a){for(c=0;c<s;c++)e[l+c]=t[o+c]+256-(t[o+c-i]>>1)&255;for(c=s;c<i;c++)e[l+c]=t[o+c]+256-(t[o+c-i]+t[o+c-s]>>1)&255}if(4==a){for(c=0;c<s;c++)e[l+c]=t[o+c]+256-n(0,t[o+c-i],0)&255;for(c=s;c<i;c++)e[l+c]=t[o+c]+256-n(t[o+c-s],t[o+c-i],t[o+c-s-i])&255}}}function m(e,t){const n=new Uint8Array(e),r=n.slice(0),i=new Uint32Array(r.buffer),s=g(r,t),a=s[0],o=s[1],l=n.length,c=new Uint8Array(l>>2);let u;if(n.length<2e7)for(var d=0;d<l;d+=4)u=v(a,h=n[d]*(1/255),f=n[d+1]*(1/255),p=n[d+2]*(1/255),m=n[d+3]*(1/255)),c[d>>2]=u.ind,i[d>>2]=u.est.rgba;else for(d=0;d<l;d+=4){var h=n[d]*(1/255),f=n[d+1]*(1/255),p=n[d+2]*(1/255),m=n[d+3]*(1/255);for(u=a;u.left;)u=y(u.est,h,f,p,m)<=0?u.left:u.right;c[d>>2]=u.ind,i[d>>2]=u.est.rgba}return{abuf:r.buffer,inds:c,plte:o}}function g(e,t,n){null==n&&(n=1e-4);const r=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=x(e,i.i0,i.i1),i.est=E(i.bst);const s=[i];for(;s.length<t;){let t=0,i=0;for(var a=0;a<s.length;a++)s[a].est.L>t&&(t=s[a].est.L,i=a);if(t<n)break;const o=s[i],l=w(e,r,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=l||o.i1<=l){o.est.L=0;continue}const c={i0:o.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};c.bst=x(e,c.i0,c.i1),c.est=E(c.bst);const u={i0:l,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(u.bst={R:[],m:[],N:o.bst.N-c.bst.N},a=0;a<16;a++)u.bst.R[a]=o.bst.R[a]-c.bst.R[a];for(a=0;a<4;a++)u.bst.m[a]=o.bst.m[a]-c.bst.m[a];u.est=E(u.bst),o.left=c,o.right=u,s[i]=c,s.push(u)}for(s.sort(((e,t)=>t.bst.N-e.bst.N)),a=0;a<s.length;a++)s[a].ind=a;return[i,s]}function v(e,t,n,r,i){if(null==e.left)return e.tdst=function(e,t,n,r,i){const s=t-e[0],a=n-e[1],o=r-e[2],l=i-e[3];return s*s+a*a+o*o+l*l}(e.est.q,t,n,r,i),e;const s=y(e.est,t,n,r,i);let a=e.left,o=e.right;s>0&&(a=e.right,o=e.left);const l=v(a,t,n,r,i);if(l.tdst<=s*s)return l;const c=v(o,t,n,r,i);return c.tdst<l.tdst?c:l}function y(e,t,n,r,i){const{e:s}=e;return s[0]*t+s[1]*n+s[2]*r+s[3]*i-e.eMq}function w(e,t,n,r,i,s){for(r-=4;n<r;){for(;b(e,n,i)<=s;)n+=4;for(;b(e,r,i)>s;)r-=4;if(n>=r)break;const a=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=a,n+=4,r-=4}for(;b(e,n,i)>s;)n-=4;return n+4}function b(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]}function x(e,t,n){const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],s=n-t>>2;for(let a=t;a<n;a+=4){const t=e[a]*(1/255),n=e[a+1]*(1/255),s=e[a+2]*(1/255),o=e[a+3]*(1/255);i[0]+=t,i[1]+=n,i[2]+=s,i[3]+=o,r[0]+=t*t,r[1]+=t*n,r[2]+=t*s,r[3]+=t*o,r[5]+=n*n,r[6]+=n*s,r[7]+=n*o,r[10]+=s*s,r[11]+=s*o,r[15]+=o*o}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:s}}function E(e){const{R:t}=e,{m:n}=e,{N:r}=e,i=n[0],s=n[1],a=n[2],o=n[3],l=0==r?0:1/r,c=[t[0]-i*i*l,t[1]-i*s*l,t[2]-i*a*l,t[3]-i*o*l,t[4]-s*i*l,t[5]-s*s*l,t[6]-s*a*l,t[7]-s*o*l,t[8]-a*i*l,t[9]-a*s*l,t[10]-a*a*l,t[11]-a*o*l,t[12]-o*i*l,t[13]-o*s*l,t[14]-o*a*l,t[15]-o*o*l],u=c,d=A;let h=[Math.random(),Math.random(),Math.random(),Math.random()],f=0,p=0;if(0!=r)for(let g=0;g<16&&(h=d.multVec(u,h),p=Math.sqrt(d.dot(h,h)),h=d.sml(1/p,h),!(0!=g&&Math.abs(p-f)<1e-9));g++)f=p;const m=[i*l,s*l,a*l,o*l];return{Cov:c,q:m,e:h,L:f,eMq255:d.dot(d.sml(255,m),h),eMq:d.dot(h,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0])<<0)>>>0}}var A={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};uS.encode=function(e,t,n,r,i,s,a){null==r&&(r=0),null==a&&(a=!1);const o=u(e,t,n,r,[!1,!1,!1,0,a,!1]);return c(o,-1),l(o,t,n,i,s)},uS.encodeLL=function(e,t,n,r,i,s,a,o){const u={ctype:0+(1==r?0:2)+(0==i?0:4),depth:s,frames:[]},d=(r+i)*s,h=d*t;for(let l=0;l<e.length;l++)u.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(h/8)});return c(u,0,!0),l(u,t,n,a,o)},uS.encode.compress=u,uS.encode.dither=o,uS.quantize=m,uS.quantize.getKDtree=g,uS.quantize.getNearest=v}();const dS={toArrayBuffer(e,t){const n=e.width,r=e.height,i=n<<2,s=e.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,l=o*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let f,p,m,g,v=h,y=0,w=0,b=0;function x(e){d.setUint16(w,e,!0),w+=2}function E(e){d.setUint32(w,e,!0),w+=4}function A(e){w+=e}x(19778),E(c),A(4),E(122),E(108),E(n),E(-r>>>0),x(1),x(32),E(3),E(l),E(2835),E(2835),A(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function e(){for(;y<r&&v>0;){for(g=122+y*o,f=0;f<i;)v--,p=a[b++],m=p>>>24,d.setUint32(g+f,p<<8|m),f+=4;y++}b<a.length?(v=h,setTimeout(e,dS._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var hS={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},fS={[hS.CHROME]:16384,[hS.FIREFOX]:11180,[hS.DESKTOP_SAFARI]:16384,[hS.IE]:8192,[hS.IOS]:4096,[hS.ETC]:8192};const pS="undefined"!=typeof window,mS="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,gS=pS&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),vS=(pS||mS)&&(gS&&gS.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),yS=(pS||mS)&&(gS&&gS.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function wS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((r=>{const i=e.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const c=new Blob([l],{type:s});c.name=t,c.lastModified=n,r(c)}))}function bS(e){return new Promise(((t,n)=>{const r=new yS;r.onload=()=>t(r.result),r.onerror=e=>n(e),r.readAsDataURL(e)}))}function xS(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=e=>n(e),r.src=e}))}function ES(){if(void 0!==ES.cachedResult)return ES.cachedResult;let e=hS.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=hS.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=hS.IOS:/Safari/i.test(t)?e=hS.DESKTOP_SAFARI:/Firefox/i.test(t)?e=hS.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=hS.IE),ES.cachedResult=e,ES.cachedResult}function AS(e,t){const n=ES(),r=fS[n];let i=e,s=t,a=i*s;const o=i>s?s/i:i/s;for(;a>r*r;){const e=(r+i)/2,t=(r+s)/2;e<t?(s=t,i=t*o):(s=e*o,i=e),a=i*s}return{width:i,height:s}}function CS(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),null===r)throw new Error("getContext of OffscreenCanvas returns null")}catch(e){n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function kS(e,t){const{width:n,height:r}=AS(e.width,e.height),[i,s]=CS(n,r);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(e,0,0,i.width,i.height),i}function jS(){return void 0!==jS.cachedResult||(jS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),jS.cachedResult}function SS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){let i,s;var a=function(){try{return s=kS(i,t.fileType||e.type),n([i,s])}catch(e){return r(e)}},o=function(t){try{var n=function(e){try{throw e}catch(e){return r(e)}};try{let t;return bS(e).then((function(e){try{return t=e,xS(t).then((function(e){try{return i=e,function(){try{return a()}catch(e){return r(e)}}()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){n(e)}}catch(e){return r(e)}};try{if(jS()||[hS.DESKTOP_SAFARI,hS.MOBILE_SAFARI].includes(ES()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return i=e,a()}catch(e){return o()}}),o)}catch(e){o()}}))}function IS(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(s,a){let o;if("image/png"===t){let c,u,d;return c=e.getContext("2d"),({data:u}=c.getImageData(0,0,e.width,e.height)),d=uS.encode([u.buffer],e.width,e.height,4096*i),o=new Blob([d],{type:t}),o.name=n,o.lastModified=r,l.call(this)}{if("image/bmp"===t)return new Promise((t=>dS.toBlob(e,t))).then(function(e){try{return o=e,o.name=n,o.lastModified=r,h.call(this)}catch(e){return a(e)}}.bind(this),a);{if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:i}).then(function(e){try{return o=e,o.name=n,o.lastModified=r,f.call(this)}catch(e){return a(e)}}.bind(this),a);{let p;return p=e.toDataURL(t,i),wS(p,n,r).then(function(e){try{return o=e,f.call(this)}catch(e){return a(e)}}.bind(this),a)}function f(){return h.call(this)}}function h(){return l.call(this)}}function l(){return s(o)}}))}function NS(e){e.width=0,e.height=0}function _S(){return new Promise((function(e,t){let n,r,i,s,a;return void 0!==_S.cachedResult?e(_S.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",wS("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(n){try{return r=n,SS(r).then((function(n){try{return i=n[1],IS(i,r.type,r.name,r.lastModified).then((function(n){try{return s=n,NS(i),SS(s).then((function(n){try{return a=n[0],_S.cachedResult=1===a.width&&2===a.height,e(_S.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t))}))}function TS(e){return new Promise(((t,n)=>{const r=new yS;r.onload=e=>{const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let i=2;for(;i<r;){if(n.getUint16(i+2,!1)<=8)return t(-1);const e=n.getUint16(i,!1);if(i+=2,65505==e){if(1165519206!=n.getUint32(i+=2,!1))return t(-1);const e=18761==n.getUint16(i+=6,!1);i+=n.getUint32(i+4,e);const r=n.getUint16(i,e);i+=2;for(let s=0;s<r;s++)if(274==n.getUint16(i+12*s,e))return t(n.getUint16(i+12*s+8,e))}else{if(65280!=(65280&e))break;i+=n.getUint16(i,!1)}}return t(-1)},r.onerror=e=>n(e),r.readAsArrayBuffer(e)}))}function RS(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:i}=t;let s,a=e;return isFinite(i)&&(n>i||r>i)&&([a,s]=CS(n,r),n>r?(a.width=i,a.height=r/n*i):(a.width=n/r*i,a.height=i),s.drawImage(e,0,0,a.width,a.height),NS(e)),a}function OS(e,t){const{width:n}=e,{height:r}=e,[i,s]=CS(n,r);switch(t>4&&t<9?(i.width=r,i.height=n):(i.width=n,i.height=r),t){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,r),NS(e),i}function DS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,i){let s,a,o,l,c,u,d,h,f,p,m,g,v,y,w,b,x,E,A,C;function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=e,t.onProgress(Math.min(s,100))}function j(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(e,s),100),t.onProgress(s)}return s=n,a=t.maxIteration||10,o=1024*t.maxSizeMB*1024,k(),SS(e,t).then(function(n){try{return[,l]=n,k(),c=RS(l,t),k(),new Promise((function(n,r){var i;if(!(i=t.exifOrientation))return TS(e).then(function(e){try{return i=e,s.call(this)}catch(e){return r(e)}}.bind(this),r);function s(){return n(i)}return s.call(this)})).then(function(n){try{return u=n,k(),_S().then(function(n){try{return d=n?c:OS(c,u),k(),h=t.initialQuality||1,f=t.fileType||e.type,IS(d,f,e.name,e.lastModified,h).then(function(n){try{{if(p=n,k(),m=p.size>o,g=p.size>e.size,!m&&!g)return j(100),r(p);var s;function S(){if(a--&&(w>o||w>v)){let t,n;return t=C?.95*A.width:A.width,n=C?.95*A.height:A.height,[x,E]=CS(t,n),E.drawImage(A,0,0,t,n),h*="image/png"===f?.85:.95,IS(x,f,e.name,e.lastModified,h).then((function(e){try{return b=e,NS(A),A=x,w=b.size,j(Math.min(99,Math.floor((y-w)/(y-o)*100))),S}catch(e){return i(e)}}),i)}return[1]}return v=e.size,y=p.size,w=y,A=d,C=!t.alwaysKeepResolution&&m,(s=function(e){for(;e;){if(e.then)return void e.then(s,i);try{if(e.pop){if(e.length)return e.pop()?I.call(this):e;e=S}else e=e.call(this)}catch(e){return i(e)}}}.bind(this))(S);function I(){return NS(A),NS(x),NS(c),NS(d),NS(l),j(100),r(b)}}}catch(u){return i(u)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}catch(e){return i(e)}}.bind(this),i)}))}const PS="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let LS;function MS(e,t){return new Promise(((n,r)=>{LS||(LS=function(e){const t=[];return"function"==typeof e?t.push("(".concat(e,")()")):t.push(e),URL.createObjectURL(new Blob(t))}(PS));const i=new Worker(LS);i.addEventListener("message",(function(e){if(t.signal&&t.signal.aborted)i.terminate();else if(void 0===e.data.progress){if(e.data.error)return r(new Error(e.data.error)),void i.terminate();n(e.data.file),i.terminate()}else t.onProgress(e.data.progress)})),i.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),i.terminate()})),i.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function US(e,t){return new Promise((function(n,r){let i,s,a,o,l,c;if(i={...t},a=0,({onProgress:o}=i),i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l="boolean"!=typeof i.useWebWorker||i.useWebWorker,delete i.useWebWorker,i.onProgress=e=>{a=e,"function"==typeof o&&o(a)},!(e instanceof Blob||e instanceof vS))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!l||"function"!=typeof Worker||c)return DS(e,i).then(function(e){try{return s=e,h.call(this)}catch(e){return r(e)}}.bind(this),r);var u=function(){try{return h.call(this)}catch(e){return r(e)}}.bind(this),d=function(t){try{return DS(e,i).then((function(e){try{return s=e,u()}catch(e){return r(e)}}),r)}catch(e){return r(e)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",MS(e,i).then((function(e){try{return s=e,u()}catch(e){return d()}}),d)}catch(e){d()}function h(){try{s.name=e.name,s.lastModified=e.lastModified}catch(e){}try{i.preserveExif&&"image/jpeg"===e.type&&(!i.fileType||i.fileType&&i.fileType===e.type)&&(s=sS(e,s))}catch(e){}return n(s)}}))}US.getDataUrlFromFile=bS,US.getFilefromDataUrl=wS,US.loadImage=xS,US.drawImageInCanvas=kS,US.drawFileInCanvas=SS,US.canvasToFile=IS,US.getExifOrientation=TS,US.handleMaxWidthOrHeight=RS,US.followExifOrientation=OS,US.cleanupCanvasMemory=NS,US.isAutoOrientationInBrowser=_S,US.approximateBelowMaximumCanvasSizeOfBrowser=AS,US.copyExifWithoutOrientation=sS,US.getBrowserName=ES,US.version="2.0.2";const FS=async e=>{try{const t={maxSizeMB:1,maxWidthOrHeight:800};return await US(e,t)}catch(t){throw console.error("Error compressing image:",t),t}},BS=$e("input-group-text",{Component:"span"}),zS=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,hasValidation:s,className:a,as:o="div",...l}=e;r=Pe(r,"input-group");const c=(0,t.useMemo)((()=>({})),[]);return(0,Ne.jsx)(wi.Provider,{value:c,children:(0,Ne.jsx)(o,{ref:n,...l,className:Ie()(a,r,i&&"".concat(r,"-").concat(i),s&&"has-validation")})})}));zS.displayName="InputGroup";const VS=Object.assign(zS,{Text:BS,Radio:e=>(0,Ne.jsx)(BS,{children:(0,Ne.jsx)(XA,{type:"radio",...e})}),Checkbox:e=>(0,Ne.jsx)(BS,{children:(0,Ne.jsx)(XA,{type:"checkbox",...e})})}),QS=e=>{let{titleValue:t,titleOnChange:n,descriptionValue:r,descriptionOnChange:i,sportSelectionValue:s,sportSelectionOnChange:a,dateValue:o,dateOnChange:l,timeValue:c,timeOnChange:u}=e;return(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{sm:4,children:(0,Ne.jsxs)(bC.Group,{className:"mb-3",id:"sportSelectionInput",children:[(0,Ne.jsx)(bC.Label,{children:"Sport"}),(0,Ne.jsx)(rS,{selectedOption:s,handleOptionChange:a})]})}),(0,Ne.jsx)(He,{children:(0,Ne.jsxs)(bC.Group,{children:[(0,Ne.jsx)(bC.Label,{children:"Date & Time"}),(0,Ne.jsxs)(VS,{className:"mb-3",children:[(0,Ne.jsx)(bC.Control,{"aria-label":"date",type:"date",placeholder:"hr",value:o,onChange:l,id:"dateInput"}),(0,Ne.jsx)(bC.Control,{"aria-label":"time",type:"time",placeholder:"min",value:c,onChange:u,id:"timeInput"})]})]})})]}),(0,Ne.jsxs)(bC.Group,{className:"mb-3",children:[(0,Ne.jsx)(bC.Label,{children:"Title"}),(0,Ne.jsx)(bC.Control,{type:"text",placeholder:"Night Run",value:t,onChange:n,id:"titleInput"})]}),(0,Ne.jsxs)(bC.Group,{className:"mb-3",children:[(0,Ne.jsx)(bC.Label,{children:"Description"}),(0,Ne.jsx)(bC.Control,{as:"textarea",placeholder:"How'd it go?",rows:3,value:r,onChange:i,id:"descriptionInput"})]})]})},HS=QA().oneOf(["start","end"]),WS=QA().oneOfType([HS,QA().shape({sm:HS}),QA().shape({md:HS}),QA().shape({lg:HS}),QA().shape({xl:HS}),QA().shape({xxl:HS}),QA().object]),qS={id:QA().string,href:QA().string,onClick:QA().func,title:QA().node.isRequired,disabled:QA().bool,align:WS,menuRole:QA().string,renderMenuOnMount:QA().bool,rootCloseEvent:QA().string,menuVariant:QA().oneOf(["dark"]),flip:QA().bool,bsPrefix:QA().string,variant:QA().string,size:QA().string},KS=t.forwardRef(((e,t)=>{let{title:n,children:r,bsPrefix:i,rootCloseEvent:s,variant:a,size:o,menuRole:l,renderMenuOnMount:c,disabled:u,href:d,id:h,menuVariant:f,flip:p,...m}=e;return(0,Ne.jsxs)(Ri,{ref:t,...m,children:[(0,Ne.jsx)(Si,{id:h,href:d,size:o,variant:a,disabled:u,childBsPrefix:i,children:n}),(0,Ne.jsx)(ki,{role:l,renderOnMount:c,rootCloseEvent:s,variant:f,flip:p,children:r})]})}));KS.displayName="DropdownButton",KS.propTypes=qS;const GS=KS,XS=e=>{let{distanceValue:n,distanceOnChange:r,hourValue:i,hourOnChange:s,minuteValue:a,minuteOnChange:o,secondValue:l,secondOnChange:c,elevationValue:u,elevationOnChange:d}=e;const[h,f]=(0,t.useState)("Kilometers"),[p,m]=(0,t.useState)("Meters"),g=e=>{f(e)},v=e=>{m(e)};return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsxs)(He,{className:"activity-stats-col",children:[(0,Ne.jsx)(bC.Label,{children:"Distance"}),(0,Ne.jsxs)(VS,{id:"distanceInputWrapper",children:[(0,Ne.jsx)(bC.Control,{"aria-label":"Text input with dropdown button",type:"number",value:n,onChange:r,id:"distanceInput"}),(0,Ne.jsxs)(GS,{variant:"outline-secondary",title:h,id:"distanceDropdown",align:"end",children:[(0,Ne.jsx)(Ri.Item,{onClick:()=>g("Kilometers"),children:"Kilometers"}),(0,Ne.jsx)(Ri.Item,{onClick:()=>g("Meters"),children:"Meters"}),(0,Ne.jsx)(Ri.Item,{onClick:()=>g("Miles"),children:"Miles"}),(0,Ne.jsx)(Ri.Item,{onClick:()=>g("Yard"),children:"Yards"})]})]})]}),(0,Ne.jsxs)(He,{className:"activity-stats-col",children:[(0,Ne.jsx)(bC.Label,{children:"Duration"}),(0,Ne.jsxs)(VS,{className:"mb-3",type:"number",children:[(0,Ne.jsx)(bC.Control,{"aria-label":"hour",type:"number",placeholder:"hr",value:i,onChange:s,id:"duration-input-hr"}),(0,Ne.jsx)(bC.Control,{"aria-label":"minute",type:"number",placeholder:"min",value:a,onChange:o,id:"duration-input-min"}),(0,Ne.jsx)(bC.Control,{"aria-label":"second",type:"number",placeholder:"s",value:l,onChange:c,id:"duration-input-s"})]})]}),(0,Ne.jsxs)(He,{className:"activity-stats-col",children:[(0,Ne.jsx)(bC.Label,{children:"Elevation"}),(0,Ne.jsxs)(VS,{className:"mb-3",id:"elevationInputWrapper",children:[(0,Ne.jsx)(bC.Control,{"aria-label":"Text input with dropdown button",type:"number",value:u,onChange:d,id:"elevation-input"}),(0,Ne.jsxs)(GS,{variant:"outline-secondary",title:p,id:"elevationDropdown",align:"end",className:"duration-input",children:[(0,Ne.jsx)(Ri.Item,{onClick:()=>v("Meters"),children:"Meters"}),(0,Ne.jsx)(Ri.Item,{onClick:()=>v("Feet"),children:"Feet"})]})]})]})]})})},YS=e=>{let{onCreateActivity:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),o=Z(),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[g,v]=(0,t.useState)(0),[y,w]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[E,A]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),[j,S]=(0,t.useState)(""),I=e=>{e.preventDefault(),a(!0)};return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Be,{children:[(0,Ne.jsx)("h1",{children:"Manual Entry"}),(0,Ne.jsxs)(bC,{id:"manualEntryForm",onDragEnter:I,onDragOver:I,onDragLeave:e=>{e.preventDefault(),a(!1)},onDrop:e=>{e.preventDefault(),a(!1);const t=Array.from(e.dataTransfer.files);i([...r,...t])},children:[(0,Ne.jsx)(XS,{distanceValue:l,distanceOnChange:e=>c(e.target.value),hourValue:u,hourOnChange:e=>d(e.target.value),minuteValue:h,minuteOnChange:e=>f(e.target.value),secondValue:p,secondOnChange:e=>m(e.target.value),elevationValue:g,elevationOnChange:e=>v(e.target.value)}),(0,Ne.jsx)("hr",{}),(0,Ne.jsx)(QS,{sportSelectionValue:y,sportSelectionOnChange:e=>w(e),dateValue:b,dateOnChange:e=>x(e.target.value),timeValue:E,timeOnChange:e=>A(e.target.value),titleValue:C,titleOnChange:e=>k(e.target.value),descriptionValue:j,descriptionOnChange:e=>S(e.target.value)}),(0,Ne.jsxs)(bC.Group,{controlId:"image",children:[(0,Ne.jsx)(bC.Label,{children:"Media"}),(0,Ne.jsx)("div",{className:"image-dropzone ".concat(s?"dragging":""),onClick:()=>document.getElementById("imageInput").click(),children:r.length>0?r.map(((e,t)=>(0,Ne.jsx)("img",{src:URL.createObjectURL(e),alt:"Selected ".concat(t+1),width:70,height:70,style:{objectFit:"cover",marginRight:"10px"}},t))):(0,Ne.jsxs)("div",{className:"image-zone-info",children:[(0,Ne.jsxs)("svg",{fill:"#2b2b2b",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",children:[(0,Ne.jsx)("path",{d:"M.175.175v31.65h31.65V.175H.175zm30 30H1.825V1.825h28.35v28.35z",fill:""}),(0,Ne.jsx)("path",{d:"M7.5 10.825a3.325 3.325 0 100-6.65 3.325 3.325 0 000 6.65zm0-5a1.675 1.675 0 110 3.35 1.675 1.675 0 010-3.35zm20.325 14.941L19.845 6l-6.968 13.083-2.99-5.383-5.712 10.719v3.406h23.65v-7.059zm-1.65 5.409H5.825v-1.344l4.092-7.679 2.991 5.384 6.947-13.044 6.32 11.691v4.992z",fill:""})]}),(0,Ne.jsx)("p",{className:"drag-dop-para",children:"Drag and drop media"}),(0,Ne.jsx)("p",{children:"or click to upload"})]})}),(0,Ne.jsx)("input",{id:"imageInput",type:"file",onChange:async e=>{const t=Array.from(e.target.files),n=await Promise.all(t.map((async e=>await FS(e))));i([...r,...n])},style:{display:"none"},multiple:!0})]}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("hr",{}),(0,Ne.jsxs)("div",{className:"manual-entry-form-btn-group",children:[(0,Ne.jsx)(Ye,{type:"button",onClick:async()=>{let e=[];try{await Promise.all(r.map((async t=>{const n=xb(Eb(UA),"activity_images/".concat(t.name));await wb(n,t);const r=await bb(n);e.push(r)})));const t=await n({distance:l,hour:u,minute:h,second:p,elevation:g,sport:y,date:b,time:E,name:C,description:j,imageUrls:e});(null===t||void 0===t?void 0:t.id)&&o("/strava-app/home/activity/".concat(t.id))}catch(t){console.error("Error creating activity:",t)}},children:"Create"}),(0,Ne.jsx)(Ae,{to:"/strava-app/home/",children:"Cancel"})]})]})]})})},JS=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:i,bordered:s,borderless:a,hover:o,size:l,variant:c,responsive:u,...d}=e;const h=Pe(n,"table"),f=Ie()(r,h,c&&"".concat(h,"-").concat(c),l&&"".concat(h,"-").concat(l),i&&"".concat(h,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),s&&"".concat(h,"-bordered"),a&&"".concat(h,"-borderless"),o&&"".concat(h,"-hover")),p=(0,Ne.jsx)("table",{...d,className:f,ref:t});if(u){let e="".concat(h,"-responsive");return"string"===typeof u&&(e="".concat(e,"-").concat(u)),(0,Ne.jsx)("div",{className:e,children:p})}return p})),ZS=JS,$S=e=>{let{editedActivity:t,onSaveClick:n,onCancelClick:r,handleInputChange:i,handleSportChange:s}=e;return(0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:"7",children:(0,Ne.jsx)("div",{className:"editable-row",children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsxs)(He,{children:[(0,Ne.jsx)("div",{className:"editable-input",children:(0,Ne.jsxs)(bC.Group,{children:[(0,Ne.jsx)(bC.Label,{children:"Title"}),(0,Ne.jsx)(bC.Control,{type:"text",value:t.name,onChange:e=>i("name",e.target.value)})]})}),(0,Ne.jsxs)("div",{className:"editable-input",children:[(0,Ne.jsx)(bC.Group,{children:(0,Ne.jsx)(bC.Label,{children:"Sport"})}),(0,Ne.jsx)(rS,{className:"edit-activity-form-input-style",selectedOption:t.sport,handleOptionChange:s})]})]}),(0,Ne.jsx)(He,{children:(0,Ne.jsx)("div",{className:"editable-input",children:(0,Ne.jsxs)(bC.Group,{children:[(0,Ne.jsx)(bC.Label,{children:"Description"}),(0,Ne.jsx)(bC.Control,{type:"text",as:"textarea",placeholder:"How'd it go?",rows:3,value:t.description,onChange:e=>i("description",e.target.value)})]})})}),(0,Ne.jsx)(He,{children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{children:t.date}),(0,Ne.jsx)("p",{children:t.distance}),(0,Ne.jsx)("p",{children:t.time}),(0,Ne.jsx)("p",{children:t.elevation})]})}),(0,Ne.jsx)(He,{children:(0,Ne.jsxs)("div",{className:"editable-buttons",children:[(0,Ne.jsx)(Ye,{variant:"success",onClick:n,children:"Save"}),(0,Ne.jsx)(Ye,{variant:"link",className:"link-of-unique-activity",onClick:r,children:"Cancel"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(Ae,{to:"/strava-app/home/activity/".concat(t.id,"/edit"),className:"link-of-unique-activity",children:"Edit more options"})]})})]})})})})},eI=e=>{let{activities:n,onEditActivity:r,onDeleteActivity:i}=e;const[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)({}),c=()=>{a(null),l({})},u=(e,t)=>{l((n=>({...n,[e]:t})))},d=e=>{l((t=>({...t,sport:e})))};return(0,Ne.jsxs)("div",{className:"table-responsive",children:[(0,Ne.jsxs)("h4",{children:[n.length," Activities "]}),(0,Ne.jsxs)(ZS,{striped:!0,bordered:!0,hover:!0,children:[(0,Ne.jsx)("thead",{children:(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{children:"Sport"}),(0,Ne.jsx)("th",{children:"Date"}),(0,Ne.jsx)("th",{children:"Title"}),(0,Ne.jsx)("th",{children:"Time"}),(0,Ne.jsx)("th",{children:"Distance"}),(0,Ne.jsx)("th",{children:"Elevation"})]})}),(0,Ne.jsx)("tbody",{children:n&&n.length>0?n.map(((e,h)=>(0,Ne.jsxs)(t.Fragment,{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:e.sport}),(0,Ne.jsx)("td",{children:e.date}),(0,Ne.jsx)("td",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/activity/".concat(e.id),className:"link-of-unique-activity",children:e.name})}),(0,Ne.jsx)("td",{children:e.time}),(0,Ne.jsx)("td",{children:e.distance}),(0,Ne.jsx)("td",{children:e.elevation}),(0,Ne.jsx)("td",{className:"activities-table-buttons",children:s===h?(0,Ne.jsx)(Ne.Fragment,{}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Ye,{variant:"link",className:"link-of-unique-activity",onClick:()=>(e=>{a(e),l({...n[e]})})(h),children:"Edit"}),(0,Ne.jsx)(Ye,{variant:"link",className:"link-of-unique-activity",onClick:()=>(e=>{i(e)})(h),children:"Delete"})]})})]}),s===h&&(0,Ne.jsx)($S,{editedActivity:o,onSaveClick:()=>(e=>{r(e,o),a(null),l({})})(h),onCancelClick:c,handleInputChange:u,handleSportChange:d})]},h))):(0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:"3",children:"No activities found"})})})]})]})},tI=e=>{let{showForm:n,filters:r}=e;const[i,s]=(0,t.useState)([]),a=Gv(FA,"userActivities"),o=zA();let l=Gv(FA,"userActivities");o&&(l=Oy(a,Py("userId","==",o)),null!==r&&void 0!==r&&r.sport&&(l=Oy(l,Py("sport","==",r.sport))),null!==r&&void 0!==r&&r.keywords&&(l=Oy(l,Py("name","==",r.keywords)))),(0,t.useEffect)((()=>{if(!o)return;const e=$y(l,(e=>{const t=e.docs.map((e=>({...e.data(),id:e.id})));s(t)}));return()=>e()}),[o,l]);return(0,t.useEffect)((()=>{if(!o)return;const e=$y(Oy(a,Py("userId","==",o)),(e=>{const t=e.docs.map((e=>({...e.data(),id:e.id}))).sort(((e,t)=>new Date(t.date)-new Date(e.date)));s(t)}));return()=>e()}),[o]),(0,Ne.jsxs)("div",{children:[n&&(0,Ne.jsx)(YS,{onCreateActivity:async e=>{const t=new py("serverTimestamp");e.createdAt=t,e.comments=[],e.activityLikes=[];const n=zA(),r=await Zy(a,{...e,userId:n}),i={...e,id:r.id};return console.log("Created Activity:",i),i}}),!n&&(0,Ne.jsx)(eI,{activities:i,onEditActivity:async(e,t)=>{const n=Xv(FA,"userActivities",i[e].id),r=iw(FA),s=i[e].imageUrl||null;r.update(n,{...t,imageUrl:s}),await r.commit()},onDeleteActivity:async e=>{const t=Xv(FA,"userActivities",i[e].id),n=iw(FA);n.delete(t),await n.commit()}})]})},nI=()=>{const[e,n]=(0,t.useState)({});return(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsxs)("div",{className:"mt-5 container",id:"myActivitiesContainer",children:[(0,Ne.jsx)("h1",{children:"My Activities"}),(0,Ne.jsx)(iS,{onFilterChange:e=>{n(e)}}),(0,Ne.jsx)(tI,{showForm:!1,filters:e})]})})},rI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"TrainingLog"})}),iI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"TrainingPlans"})}),sI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"PowerCurve"})}),aI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"FitnessAndFreshness"})}),oI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"Explore"})}),lI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"SegmentExplore"})}),cI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"SegmentSearch"})}),uI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"AthleteSearch"})}),dI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"Clubs"})}),hI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"Apps"})}),fI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"CreateRoute"})}),pI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"SubscriberPerks"})}),mI=()=>(0,Ne.jsx)("div",{className:"dashboard-container",children:(0,Ne.jsx)("h1",{children:"FindFriends"})}),gI=n.p+"static/media/scenicView.9fd3c34100f73ce6648c.jpg",vI=()=>{const[e,n]=(0,t.useState)({}),[r,i]=(0,t.useState)([]);return console.log("userData ",e),(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),r=await Xy(t);if(r.empty)console.error("User document not found for current user.");else{const e=r.docs[0].data();n(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=$y(Gv(FA,"userActivities"),(e=>{const t=e.docs.map((e=>({...e.data(),id:e.id}))).filter((e=>e.userId===zA())).sort(((e,t)=>t.createdAt.toMillis()-e.createdAt.toMillis()));i(t)}));return()=>e()}),[]),(0,Ne.jsx)("div",{children:e?(0,Ne.jsxs)("div",{className:"searchUsersProfile",children:[(0,Ne.jsx)("div",{className:"searchedUsersHeroImageWrapper",children:(0,Ne.jsx)("img",{src:gI,alt:"scenicView"})}),(0,Ne.jsx)("div",{className:"searchedUsersProfileImg",children:(0,Ne.jsx)("img",{src:e.profileImageUrl,alt:"".concat(e.name,"s identifier visual")})}),(0,Ne.jsxs)("div",{className:"searchedUsersInfoWrapper",children:[(0,Ne.jsxs)("div",{className:"searchedUsersInfo",children:[(0,Ne.jsx)("h3",{children:e.name}),(0,Ne.jsx)("p",{children:e.location}),(0,Ne.jsx)("p",{className:"searchUserProfileBio",children:e.profileBio})]}),(0,Ne.jsxs)("div",{className:"searchUserActivityCount",children:[(0,Ne.jsx)("p",{children:"Total Activities"}),(0,Ne.jsx)("h1",{id:"totalActivities",children:r.length}),(0,Ne.jsxs)("div",{className:"socialStats",children:[(0,Ne.jsxs)("div",{className:"follower",children:[(0,Ne.jsx)("p",{children:"Followers"}),(0,Ne.jsx)("h1",{children:e.followers?e.followers.length:"0"})]}),(0,Ne.jsxs)("div",{className:"following",children:[(0,Ne.jsx)("p",{children:"Following"}),(0,Ne.jsx)("h1",{children:e.following?e.following.length:"0"})]})]})]}),(0,Ne.jsx)("div",{children:(0,Ne.jsx)("p",{})})]})]}):(0,Ne.jsx)("p",{children:"Loading..."})})},yI=()=>(0,Ne.jsx)("div",{className:"SearchUserProfile-container",children:(0,Ne.jsx)(vI,{})}),wI=(QA().string,QA().bool,QA().bool,QA().bool,QA().bool,t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,fluid:i=!1,rounded:s=!1,roundedCircle:a=!1,thumbnail:o=!1,...l}=e;return n=Pe(n,"img"),(0,Ne.jsx)("img",{ref:t,...l,className:Ie()(r,i&&"".concat(n,"-fluid"),s&&"rounded",a&&"rounded-circle",o&&"".concat(n,"-thumbnail"))})})));wI.displayName="Image";const bI=wI,xI=e=>{let{updateUserDocument:n}=e;const[r,i]=(0,t.useState)(null);return(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("input",{type:"file",className:"form-control",onChange:async e=>{const t=e.target.files[0];i(t);const r=await FS(t),s=xb(Eb(),"profile_images/".concat(t.name));await wb(s,r);const a=await bb(s);try{await n({profileImageUrl:a}),console.log("Profile image updated successfully.")}catch(o){console.error("Error updating profile image:",o)}}}),r&&(0,Ne.jsx)(bI,{src:URL.createObjectURL(r),alt:"Selected",width:70,height:70,style:{objectFit:"cover",marginRight:"10px"},thumbnail:!0})]})},EI=()=>{const[e,n]=(0,t.useState)({name:"",birthday:"",gender:"",location:"",profileBio:""}),[r,i]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),r=await Xy(t);if(r.empty)console.error("User document not found for current user.");else{const e=r.docs[0].data();n(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]);const s=e=>{i(e)},a=async()=>{try{const t=Oy(Gv(FA,"users"),Py("uid","==",zA())),n=await Xy(t);if(n.empty)console.error("User document not found for current user.");else{const t=n.docs[0].id;await Yy(Xv(FA,"users",t),{...e}),i("")}}catch(t){console.error("Error updating profile:",t)}},o=(e,t)=>{n((n=>({...n,[e]:t})))};return(0,Ne.jsx)("div",{id:"userProfileContainer",children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h2",{children:"My Profile"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)(bI,{src:e.profileImageUrl,alt:"".concat(e.name,"s profile"),width:70,height:70,style:{objectFit:"cover",marginRight:"10px"},roundedCircle:!0}),(0,Ne.jsx)(xI,{updateUserDocument:async t=>{try{const n=Oy(Gv(FA,"users"),Py("uid","==",zA())),r=await Xy(n);if(r.empty)console.error("User document not found for current user.");else{const n=r.docs[0].id;await Yy(Xv(FA,"users",n),{...e,...t})}}catch(n){console.error("Error updating profile:",n)}}})]}),(0,Ne.jsx)(ZS,{striped:!0,bordered:!0,hover:!0,children:(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:"Name"}),(0,Ne.jsx)("td",{children:"name"===r?(0,Ne.jsx)("input",{type:"text",placeholder:"Enter your name",className:"form-control",value:e.name,onChange:e=>o("name",e.target.value)}):(0,Ne.jsx)("p",{children:e.name})}),(0,Ne.jsx)("td",{children:"name"===r?(0,Ne.jsx)(Ye,{title:"Save",variant:"primary",className:"userProfileSettingsBtn",onClick:a,children:"Save"}):(0,Ne.jsx)(Ye,{title:"Edit",variant:"primary",className:"userProfileSettingsBtn",onClick:()=>s("name"),children:"Edit"})})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:"Birthday"}),(0,Ne.jsx)("td",{children:"birthday"===r?(0,Ne.jsx)("input",{type:"date",placeholder:"Enter your date of birth",className:"form-control",value:e.birthday,onChange:e=>o("birthday",e.target.value)}):(0,Ne.jsx)("p",{children:e.birthday})}),(0,Ne.jsx)("td",{children:"birthday"===r?(0,Ne.jsx)(Ye,{title:"Save",variant:"primary",className:"userProfileSettingsBtn",onClick:a,children:"Save"}):(0,Ne.jsx)(Ye,{title:"Edit",variant:"primary",className:"userProfileSettingsBtn",onClick:()=>s("birthday"),children:"Edit"})})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:"Gender"}),(0,Ne.jsx)("td",{children:"gender"===r?(0,Ne.jsx)("input",{type:"text",placeholder:"Enter your gender (Optional)",className:"form-control",value:e.gender,onChange:e=>o("gender",e.target.value)}):(0,Ne.jsx)("p",{children:e.gender})}),(0,Ne.jsx)("td",{children:"gender"===r?(0,Ne.jsx)(Ye,{title:"Save",variant:"primary",className:"userProfileSettingsBtn",onClick:a,children:"Save"}):(0,Ne.jsx)(Ye,{title:"Edit",variant:"primary",className:"userProfileSettingsBtn",onClick:()=>s("gender"),children:"Edit"})})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:"Location"}),(0,Ne.jsx)("td",{children:"location"===r?(0,Ne.jsx)("input",{type:"text",placeholder:"Enter your location",className:"form-control",value:e.location,onChange:e=>o("location",e.target.value)}):(0,Ne.jsx)("p",{children:e.location})}),(0,Ne.jsx)("td",{children:"location"===r?(0,Ne.jsx)(Ye,{title:"Save",variant:"primary",className:"userProfileSettingsBtn",onClick:a,children:"Save"}):(0,Ne.jsx)(Ye,{title:"Edit",variant:"primary",className:"userProfileSettingsBtn",onClick:()=>s("location"),children:"Edit"})})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:"Profile Bio"}),(0,Ne.jsx)("td",{children:"profileBio"===r?(0,Ne.jsx)("textarea",{type:"textarea",placeholder:"Tell us about your profile",className:"form-control",rows:3,value:e.profileBio,onChange:e=>o("profileBio",e.target.value)}):(0,Ne.jsx)("p",{children:e.profileBio})}),(0,Ne.jsx)("td",{children:"profileBio"===r?(0,Ne.jsx)(Ye,{title:"Save",variant:"primary",className:"userProfileSettingsBtn",onClick:a,children:"Save"}):(0,Ne.jsx)(Ye,{title:"Edit",variant:"primary",className:"userProfileSettingsBtn",onClick:()=>s("profileBio"),children:"Edit"})})]})]})})]})})},AI=()=>(0,Ne.jsxs)("div",{className:"user-settings-nav-container",children:[" ",(0,Ne.jsx)(fj,{defaultActiveKey:"/strava-app/home",className:"flex-column user-settings-nav",children:(0,Ne.jsxs)("ul",{className:"user-settings-nav-list",children:[(0,Ne.jsx)("li",{className:"myProfileList",children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",className:"myProfileLink",children:"My Profile"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"My Account"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"My Performance"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"Display Preferences"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"Privacy Controls"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"Data Permissions"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"Email Notifications"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"My Gear"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"My Apps"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"Partner Integrations"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"My Performance"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",children:"My Performance"})})]})})]}),CI=()=>{const[e,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),r=await Xy(t);if(r.empty)console.error("User document not found for current user.");else{const e=r.docs[0].data();n(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,Ne.jsxs)("div",{className:"currentUserMyAccount",children:[(0,Ne.jsx)("h3",{className:"currentUserHeading",children:" My Account"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{className:"currentUserEmailLabel",children:"Email"}),e?(0,Ne.jsxs)("p",{children:[" ",e.email]}):(0,Ne.jsx)("p",{}),(0,Ne.jsx)("p",{children:"Membership Status"}),(0,Ne.jsx)("p",{children:"Free Account"}),(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Ye,{className:"startTrialBtn",children:"Start Your Free Trial"})}),(0,Ne.jsx)("hr",{}),(0,Ne.jsxs)("div",{className:"social-connections-container",children:[(0,Ne.jsx)("h3",{children:"Social Connections"}),(0,Ne.jsxs)("div",{className:"sc-wrapper",children:[(0,Ne.jsx)("p",{children:"Connect with Garmin"}),(0,Ne.jsx)("p",{children:"Find your friends, share your activities"})]}),(0,Ne.jsxs)("div",{className:"sc-wrapper",children:[(0,Ne.jsx)("p",{children:"Connect with Facebook"}),(0,Ne.jsx)("p",{children:"Automatic uploads and Fortune Live Segments"})]}),(0,Ne.jsxs)("div",{className:"sc-wrapper",children:[(0,Ne.jsx)("p",{children:"Connect with MyFitnessPal"}),(0,Ne.jsx)("p",{children:"Share your Fortune activities on MyFitnessPal"})]})]})]})]})},kI=()=>(0,Ne.jsx)("div",{className:"settings-wrapper",children:(0,Ne.jsx)(Be,{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{id:"userSettingsNavCol",children:(0,Ne.jsx)(AI,{})}),(0,Ne.jsx)(He,{id:"userProfileFormCol",children:(0,Ne.jsx)(EI,{})}),(0,Ne.jsx)(He,{id:"UserAccountNavCol",children:(0,Ne.jsx)(CI,{})})]})})}),jI=async(e,t)=>{const n=LA();try{const r=await function(e,t,n){return gE(fs(e),tE.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&vE(e),t}))}(n,e,t),i=r.user,s=(await Ky(Xv(FA,"users",i.uid))).data();return{user:i,uid:i.uid,userData:s}}catch(r){return{error:r.message}}},SI=async()=>{const e=LA(),t=new sE;try{const n=(await XE(e,t)).user,r=await Ky(Xv(FA,"users",n.uid));let i=r.exists()?r.data():null;return i||(await Zy(Gv(FA,"users"),{uid:n.uid,email:n.email}),i=(await Ky(Xv(FA,"users",n.uid))).data()),{user:n,uid:n.uid,userData:i}}catch(n){return{error:n.message}}};function II(e){return Ui({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(e)}function NI(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z"}},{tag:"path",attr:{d:"M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z"}}]})(e)}function _I(e){return Ui({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"128",cy:"256",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"circle",attr:{cx:"384",cy:"112",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"circle",attr:{cx:"384",cy:"400",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M169.83 279.53l172.34 96.94m0-240.94l-172.34 96.94"}}]})(e)}const TI=n.p+"static/media/LoginStravaPic.2a3be1bda6d11300ca5a.jpg",RI=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),s=Z();return(0,Ne.jsx)("div",{className:"LogInSignUp",style:{backgroundImage:"url(".concat(TI,")"),backgroundSize:"cover",backgroundPosition:"center"},children:(0,Ne.jsx)("div",{id:"SignUpContainer",children:(0,Ne.jsxs)("div",{id:"SignUpWrapper",children:[(0,Ne.jsx)("div",{className:"SignH3UpWrapper",children:(0,Ne.jsx)("h3",{children:"LogIn"})}),(0,Ne.jsxs)(Ye,{variant:"primary",id:"signUpWithGoogleBtn",onClick:async()=>{const e=await SI();e&&!e.error?(s("/strava-app/home"),console.log("Logged in with Google: ",e)):console.error("Google login error: ",e.error)},children:[" ",(0,Ne.jsx)(II,{id:"FcGoogle"}),"Log in using Google"]}),(0,Ne.jsxs)(Ye,{variant:"primary",id:"signUpAsGuestBtn",type:"button",onClick:()=>{s("/strava-app/home")},children:[(0,Ne.jsx)(NI,{id:"IoPersonCircleOutline"}),"Proceed as a Guest"]}),(0,Ne.jsx)("div",{children:(0,Ne.jsx)("p",{className:"orLogInWithEmailPara",children:"Or log in with email"})}),(0,Ne.jsxs)(bC,{onSubmit:async t=>{t.preventDefault();const n=await jI(e,r);n&&!n.error?(s("/strava-app/home"),console.log("The user is being Logged in: ",n)):console.error("The user is not logged in: ",n.error)},className:"logInForm",children:[(0,Ne.jsx)(bC.Group,{className:"mb-3",controlId:"formBasicEmail",children:(0,Ne.jsx)(bC.Control,{type:"email",placeholder:"Enter email",value:e,onChange:e=>n(e.target.value)})}),(0,Ne.jsxs)(bC.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,Ne.jsx)(bC.Control,{type:"password",placeholder:"Password",value:r,onChange:e=>i(e.target.value),id:"loginFormPasswordInput"}),(0,Ne.jsx)(bC.Check,{type:"checkbox",label:"Remember me"})]}),(0,Ne.jsx)(Ye,{variant:"primary",type:"submit",id:"signUpFormSubmitBtn",children:"Log In"})]})]})})})},OI=async(e,t)=>{const n=LA();try{const r=await async function(e,t,n){const r=Px(e),i=Vx(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lE),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&vE(e),t})),a=await cE._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(n,e,t),i=r.user;return await Zy(Gv(FA,"users"),{uid:i.uid,email:i.email}),{user:i,uid:i.uid}}catch(r){return{error:r.message}}},DI=async()=>{const e=LA(),t=new sE;try{const n=(await XE(e,t)).user,r=await Ky(Xv(FA,"users",n.uid));let i=r.exists()?r.data():null;return i||(await Zy(Gv(FA,"users"),{uid:n.uid,email:n.email}),i=(await Ky(Xv(FA,"users",n.uid))).data()),{user:n,uid:n.uid,userData:i}}catch(n){return{error:n.message}}},PI=n.p+"static/media/SignUpStravaPic.1a666adbb106085ff401.jpg",LI=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),s=Z();return(0,Ne.jsx)("div",{className:"LogInSignUp",style:{backgroundImage:"url(".concat(PI,")"),backgroundSize:"cover",backgroundPosition:"center"},children:(0,Ne.jsx)("div",{id:"SignUpContainer",children:(0,Ne.jsxs)("div",{id:"SignUpWrapper",children:[(0,Ne.jsx)("div",{className:"SignH3UpWrapper",children:(0,Ne.jsx)("h3",{children:"Sign Up For Free"})}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{children:(0,Ne.jsx)("p",{className:"signUpForFreePara",children:"Track your progress and reach goals. Join 100 million active people on Strava."})}),(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Ye,{variant:"primary",id:"signUpWithGoogleBtn",onClick:async()=>{const e=await DI();e&&!e.error?(s("/strava-app/home"),console.log("Signed up with Google: ",e)):console.error("Google sign-up error: ",e.error)},children:[" ",(0,Ne.jsx)(II,{id:"FcGoogle"}),"Sign Up With Google"]})}),(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Ye,{variant:"primary",id:"signUpAsGuestBtn",onClick:()=>{s("/strava-app/home")},children:[(0,Ne.jsx)(NI,{id:"IoPersonCircleOutline"}),"Proceed as a Guest"]})}),(0,Ne.jsxs)("div",{className:"signUpFormLineBreak",children:[(0,Ne.jsx)("div",{className:"signUpFormLineBreakLeft"}),(0,Ne.jsx)("span",{children:"or"}),(0,Ne.jsx)("div",{className:"signUpFormLineBreakRight"})]})]}),(0,Ne.jsxs)(bC,{onSubmit:async t=>{t.preventDefault();const n=await OI(e,r);console.log("The user is being Signed Up: ",n),n&&!n.error?s("/strava-app/home"):console.error(n.error)},children:[(0,Ne.jsxs)(bC.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,Ne.jsx)(bC.Label,{children:"Email address"}),(0,Ne.jsx)(bC.Control,{type:"email",placeholder:"Enter email",value:e,onChange:e=>n(e.target.value)})]}),(0,Ne.jsxs)(bC.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,Ne.jsx)(bC.Label,{children:"Password"}),(0,Ne.jsx)(bC.Control,{type:"password",placeholder:"Create a Password",value:r,onChange:e=>i(e.target.value)}),(0,Ne.jsx)("p",{className:"text-muted",id:"signUpFormMutedTextPw",children:"Passwords must contain at least 8 characters."})]}),(0,Ne.jsx)(Ye,{variant:"primary",type:"submit",id:"signUpFormSubmitBtn",children:"Sign Up"}),(0,Ne.jsx)("p",{className:"text-muted",id:"signUpFormMutedText",children:"By signing up for Strava, you agree to the Terms of Service. View our Privacy Policy."})]}),(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("p",{children:["Already a Member?"," ",(0,Ne.jsx)(Ae,{to:"/strava-app/login",className:"signUpFormFooterLogInLink",children:"Log in"})]})})]})})})},MI=()=>(0,Ne.jsx)("div",{id:"createPostContainer",children:(0,Ne.jsx)("h1",{children:"Post"})}),UI=()=>(0,Ne.jsx)("div",{className:"user-upload-container",children:(0,Ne.jsx)("h1",{children:"Device"})}),FI=()=>(0,Ne.jsx)("div",{className:"user-upload-container",children:(0,Ne.jsx)("h1",{children:"File"})}),BI=()=>(0,Ne.jsx)("div",{className:"upload-activities-sidebar-container",children:(0,Ne.jsxs)(Oj,{className:"flex-column",defaultActiveKey:"#link1",children:[(0,Ne.jsx)(Oj.Item,{action:!0,children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/device","data-rr-ui-event-key":"/device",className:"nav-link",children:"Device"})}),(0,Ne.jsx)(Oj.Item,{action:!0,children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/file","data-rr-ui-event-key":"/file",className:"nav-link",children:"File"})}),(0,Ne.jsx)(Oj.Item,{action:!0,children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/manual","data-rr-ui-event-key":"/manual",className:"nav-link",children:"Manual"})}),(0,Ne.jsx)(Oj.Item,{action:!0,children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/mobile","data-rr-ui-event-key":"/mobile",className:"nav-link",children:"Mobile"})})]})}),zI=()=>(0,Ne.jsxs)("div",{className:"user-upload-container",children:[(0,Ne.jsx)(BI,{}),(0,Ne.jsx)(tI,{showForm:!0})]}),VI=()=>(0,Ne.jsx)("div",{className:"user-upload-container",children:(0,Ne.jsx)("h1",{children:"Mobile"})}),QI=t.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,vertical:i=!1,className:s,role:a="group",as:o="div",...l}=e;const c=Pe(n,"btn-group");let u=c;return i&&(u="".concat(c,"-vertical")),(0,Ne.jsx)(o,{...l,ref:t,role:a,className:Ie()(s,u,r&&"".concat(c,"-").concat(r))})}));QI.displayName="ButtonGroup";const HI=QI;const WI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},qI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function KI(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=qI[e];return n+parseInt(TC(t,r[0]),10)+parseInt(TC(t,r[1]),10)}const GI={[ik]:"collapse",[ok]:"collapsing",[sk]:"collapsing",[ak]:"collapse show"},XI=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:o,className:l,children:c,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:g=KI,...v}=e;const y="function"===typeof u?u():u,w=(0,t.useMemo)((()=>WI((e=>{e.style[y]="0"}),r)),[y,r]),b=(0,t.useMemo)((()=>WI((e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),i)),[y,i]),x=(0,t.useMemo)((()=>WI((e=>{e.style[y]=null}),s)),[y,s]),E=(0,t.useMemo)((()=>WI((e=>{e.style[y]="".concat(g(y,e),"px"),fk(e)}),a)),[a,g,y]),A=(0,t.useMemo)((()=>WI((e=>{e.style[y]=null}),o)),[y,o]);return(0,Ne.jsx)(mk,{ref:n,addEndListener:hk,...v,"aria-expanded":v.role?d:null,onEnter:w,onEntering:b,onEntered:x,onExit:E,onExiting:A,childRef:c.ref,in:d,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(e,n)=>t.cloneElement(c,{...n,className:Ie()(l,c.props.className,GI[e],"width"===y&&"collapse-horizontal")})})})),YI=XI;function JI(e,t){return Array.isArray(e)?e.includes(t):e===t}const ZI=t.createContext({});ZI.displayName="AccordionContext";const $I=ZI,eN=t.forwardRef(((e,n)=>{let{as:r="div",bsPrefix:i,className:s,children:a,eventKey:o,...l}=e;const{activeEventKey:c}=(0,t.useContext)($I);return i=Pe(i,"accordion-collapse"),(0,Ne.jsx)(YI,{ref:n,in:JI(c,o),...l,className:Ie()(s,i),children:(0,Ne.jsx)(r,{children:t.Children.only(a)})})}));eN.displayName="AccordionCollapse";const tN=eN,nN=t.createContext({eventKey:""});nN.displayName="AccordionItemContext";const rN=nN,iN=t.forwardRef(((e,n)=>{let{as:r="div",bsPrefix:i,className:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,...h}=e;i=Pe(i,"accordion-body");const{eventKey:f}=(0,t.useContext)(rN);return(0,Ne.jsx)(tN,{eventKey:f,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,children:(0,Ne.jsx)(r,{ref:n,...h,className:Ie()(s,i)})})}));iN.displayName="AccordionBody";const sN=iN;const aN=t.forwardRef(((e,n)=>{let{as:r="button",bsPrefix:i,className:s,onClick:a,...o}=e;i=Pe(i,"accordion-button");const{eventKey:l}=(0,t.useContext)(rN),c=function(e,n){const{activeEventKey:r,onSelect:i,alwaysOpen:s}=(0,t.useContext)($I);return t=>{let a=e===r?null:e;s&&(a=Array.isArray(r)?r.includes(e)?r.filter((t=>t!==e)):[...r,e]:[e]),null==i||i(a,t),null==n||n(t)}}(l,a),{activeEventKey:u}=(0,t.useContext)($I);return"button"===r&&(o.type="button"),(0,Ne.jsx)(r,{ref:n,onClick:c,...o,"aria-expanded":Array.isArray(u)?u.includes(l):l===u,className:Ie()(s,i,!JI(u,l)&&"collapsed")})}));aN.displayName="AccordionButton";const oN=aN,lN=t.forwardRef(((e,t)=>{let{as:n="h2",bsPrefix:r,className:i,children:s,onClick:a,...o}=e;return r=Pe(r,"accordion-header"),(0,Ne.jsx)(n,{ref:t,...o,className:Ie()(i,r),children:(0,Ne.jsx)(oN,{onClick:a,children:s})})}));lN.displayName="AccordionHeader";const cN=lN,uN=t.forwardRef(((e,n)=>{let{as:r="div",bsPrefix:i,className:s,eventKey:a,...o}=e;i=Pe(i,"accordion-item");const l=(0,t.useMemo)((()=>({eventKey:a})),[a]);return(0,Ne.jsx)(rN.Provider,{value:l,children:(0,Ne.jsx)(r,{ref:n,...o,className:Ie()(s,i)})})}));uN.displayName="AccordionItem";const dN=uN,hN=t.forwardRef(((e,n)=>{const{as:r="div",activeKey:i,bsPrefix:s,className:a,onSelect:o,flush:l,alwaysOpen:c,...u}=ri(e,{activeKey:"onSelect"}),d=Pe(s,"accordion"),h=(0,t.useMemo)((()=>({activeEventKey:i,onSelect:o,alwaysOpen:c})),[i,o,c]);return(0,Ne.jsx)($I.Provider,{value:h,children:(0,Ne.jsx)(r,{ref:n,...u,className:Ie()(a,d,l&&"".concat(d,"-flush"))})})}));hN.displayName="Accordion";const fN=Object.assign(hN,{Button:oN,Collapse:tN,Item:dN,Header:cN,Body:sN}),pN=t.forwardRef(((e,t)=>{let{children:n,onClick:r}=e;return(0,Ne.jsx)(Ye,{id:"activity-details-dropside-btn",title:"Actions",ref:t,onClick:e=>{e.preventDefault(),r(e)},variant:"link",children:n})})),mN=()=>{const{activityId:e}=$(),n=Z(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(n.empty)console.error("User document not found for current user.");else{const e=n.docs[0].data();a(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]),(0,t.useEffect)((()=>()=>{(async()=>{const t=Xv(FA,"userActivities",e),n=await Ky(t);n.exists()&&i(n.data())})()}));return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Be,{className:"activity-details-container",children:r&&(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{id:"activityDetailButtonGroupCol",children:(0,Ne.jsxs)(Ri,{as:HI,children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/activity/".concat(e,"/edit"),children:(0,Ne.jsx)(Ye,{id:"activity-details-edit-btn",title:"Edit this activity",children:(0,Ne.jsx)("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ne.jsx)("path",{d:"M22.4 1.936l-.277-.278L19.457.231l-.8.119L5.131 13.88.4 22.683l.913.913 8.426-4.485 13.897-13.85.118-.8L22.4 1.936zM8.687 15.652l-.278-.276-1.865-1L17.236 3.684l2.046 1.095L20.3 6.687 9.608 17.378l-.921-1.726zm-2.925-.164l1.83.981.938 1.758-5.895 3.138 3.127-5.877zM21.3 5.69l-.921-1.726-.279-.277-1.867-1 1.029-1.029 2.047 1.1 1.018 1.902L21.3 5.69z",fill:"#000"})})})}),(0,Ne.jsx)(Ri.Toggle,{as:pN,split:!0,variant:"success",id:"dropdown-split-basic",children:(0,Ne.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",children:(0,Ne.jsx)("path",{d:"M3.5 15.175a3.175 3.175 0 1 1 0-6.35 3.175 3.175 0 0 1 0 6.35zm0-5a1.824 1.824 0 1 0 0 3.649 1.824 1.824 0 0 0 0-3.649zm17 5a3.175 3.175 0 1 1 0-6.35 3.175 3.175 0 0 1 0 6.35zm0-5a1.825 1.825 0 1 0 0 3.65 1.825 1.825 0 0 0 0-3.65zm-8.5 5a3.175 3.175 0 1 1 0-6.35 3.175 3.175 0 0 1 0 6.35zm0-5a1.825 1.825 0 1 0 0 3.65 1.825 1.825 0 0 0 0-3.65z",fill:"#000"})})}),(0,Ne.jsxs)(Ri.Menu,{id:"activityDropdownOptions",children:[(0,Ne.jsxs)(Ri.Item,{href:"#RefreshActivityAchievements",children:["Refresh Activity ",(0,Ne.jsx)("br",{})," Achievements"]}),(0,Ne.jsx)(Ri.Item,{href:"#Flag",children:"Flag"}),(0,Ne.jsx)(Ri.Item,{onClick:async()=>{const t=Xv(FA,"userActivities",e);await Jy(t),n("/strava-app/home/activities")},children:"Delete"})]})]})}),(0,Ne.jsx)(He,{xs:"10",children:(0,Ne.jsx)(fN,{defaultActiveKey:"0",id:"activityDetailPageBook",children:(0,Ne.jsxs)(fN.Item,{eventKey:"0",children:[(0,Ne.jsx)(fN.Header,{id:"activity-details-book-header",children:(0,Ne.jsxs)(Ve,{id:"activity-details-book-header-Row",children:[(0,Ne.jsx)(He,{xs:"9",id:"activity-details-book-header-Col",children:(0,Ne.jsxs)("div",{id:"activityDetailsTypeInfo",children:[(0,Ne.jsxs)(Ae,{to:"/strava-app/home/activities",children:[s.name," "]})," -"," ",r.sport]})}),(0,Ne.jsx)(He,{xs:"3",children:(0,Ne.jsxs)(HI,{"aria-label":"Basic example",id:"socials",children:[(0,Ne.jsx)(Ye,{variant:"secondary",children:(0,Ne.jsx)(yj,{id:"facebook-icon"})}),(0,Ne.jsx)(Ye,{variant:"secondary",children:(0,Ne.jsx)(xj,{id:"twitter-icon"})}),(0,Ne.jsx)(Ye,{variant:"secondary",children:(0,Ne.jsx)(_I,{id:"share-icon"})}),(0,Ne.jsxs)(Ye,{variant:"secondary",className:"activity-details-kudos",children:[(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16","data-testid":"unfilled_kudos",children:(0,Ne.jsx)("path",{d:"M15.243 7.182a1.907 1.907 0 00-.532-1.423 2.069 2.069 0 00-1.493-.641H9.863l.454-1.812A2.426 2.426 0 008.064.514h-.513l-.718 2.807L4.97 6.915.412 9.34l2.472 6.424 4.278-2.28h4.785a2.142 2.142 0 002.127-1.976l.084-1.177a1.962 1.962 0 00.712-2.097 1.93 1.93 0 00.373-1.052zM1.664 9.807l2.06-1.1 1.748 4.542-2.061 1.1-1.747-4.542zm12.289-2.038l-.268.254.165.331a.942.942 0 01-.044.903.965.965 0 01-.369.352l-.237.131-.122 1.7a1.123 1.123 0 01-1.129 1.049H6.914l-.552.295-1.748-4.547 1.1-.586 2.033-3.92.567-2.166a1.427 1.427 0 011.032 1.371c0 .071 0 .139-.007.167l-.758 3.016h4.64a1.059 1.059 0 01.764.328.917.917 0 01.26.683.942.942 0 01-.292.639z",fill:""})}),"0"]}),(0,Ne.jsxs)(Ye,{variant:"secondary",className:"activity-details-kudos",children:[(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:[(0,Ne.jsx)("path",{d:"M.5 1.5v11h2v3.21l6.06-3.21h6.94v-11H.5zm14 10H8.31L3.5 14.05V11.5h-2v-9h13v9z",fill:""}),(0,Ne.jsx)("path",{d:"M12.96 4.5H3v1h9.43l.53-1zm-1.59 3H3v1h7.84l.53-1z",fill:""})]}),"0"]}),(0,Ne.jsx)(Ye,{variant:"secondary",children:(0,Ne.jsx)(Uj,{className:"activity-details-toggle-icon"})})]})})]})}),(0,Ne.jsx)(fN.Body,{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{children:(0,Ne.jsxs)("div",{className:"activity-details-left-page",children:[(0,Ne.jsx)("div",{className:"activity-details-left-page-text",children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsx)(He,{id:"activityDetailsLeftPageCol",children:s?(0,Ne.jsx)("img",{id:"activity-details-user-image",src:s.profileImageUrl,alt:"user profile",width:50,height:50}):(0,Ne.jsx)("img",{id:"activity-details-user-image",src:xC,alt:"user profile",width:50,height:50})}),(0,Ne.jsxs)(He,{children:[(0,Ne.jsxs)("p",{children:[r.time," on"," ",r.date]}),(0,Ne.jsx)("p",{className:"activity-details-name",children:r.name}),(0,Ne.jsx)("p",{className:"activity-details-description",children:r.description})]})]})}),r.imageUrls&&r.imageUrls.length>0&&(0,Ne.jsx)("div",{className:"activity-details-added-image",children:r.imageUrls.map(((e,t)=>(0,Ne.jsx)("img",{src:e,alt:"Activity ".concat(t+1),width:70,height:70,loading:"lazy",style:{objectFit:"cover",marginRight:"5px"}},t)))})]})}),(0,Ne.jsx)(He,{children:(0,Ne.jsxs)("div",{className:"activity-details-right-page",children:[(0,Ne.jsxs)("p",{className:"activity-details-right-duration",children:[(0,Ne.jsxs)("span",{id:"activityDetailsDuration",children:[r.hour,":",r.minute,":",r.second]}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{className:"activity-details-right-duration-span",children:"Duration"})]}),(0,Ne.jsxs)("p",{children:["Shoes: Nike NIKE W NIKE METCON 8 ",(0,Ne.jsx)("br",{}),"BLACK (0.6 km)"]})]})})]})})]})})})]})})})})},gN=()=>{const{activityId:e}=$(),n=Z(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)({name:"",description:"",sport:"",imageUrls:[]});(0,t.useEffect)((()=>{(async()=>{const t=Xv(FA,"userActivities",e),n=await Ky(t);n.exists()&&(i({...n.data(),id:n.id}),a({...n.data()}))})()}),[e]);const o=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},l=e=>{a((t=>({...t,imageUrls:[...t.imageUrls,e]})))};return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(Be,{className:"edit-activity-form-container",children:[(0,Ne.jsxs)("div",{className:"edit-activity-form-header",children:[(0,Ne.jsx)("h1",{children:"Edit Activity"})," ",(0,Ne.jsx)(Ye,{type:"button",onClick:async()=>{const t=Xv(FA,"userActivities",e);await Yy(t,s),n("/strava-app/home/activity/".concat(e))},id:"editActivityFormSaveChangesBtn",children:"Save"})]}),r&&(0,Ne.jsx)(bC,{children:(0,Ne.jsxs)(Ve,{children:[(0,Ne.jsxs)(He,{children:[(0,Ne.jsxs)(bC.Group,{className:"mb-3",children:[(0,Ne.jsx)(bC.Label,{children:"Title"}),(0,Ne.jsx)(bC.Control,{type:"text",className:"edit-activity-form-input-style",name:"name",value:s.name,onChange:o})]}),(0,Ne.jsxs)(bC.Group,{className:"mb-3",children:[(0,Ne.jsx)(bC.Label,{children:"Description"}),(0,Ne.jsx)(bC.Control,{as:"textarea",className:"edit-activity-form-input-style",placeholder:"How'd it go?",rows:3,id:"description",name:"description",value:s.description,onChange:o})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("p",{children:"Media"}),s.imageUrls.map(((e,t)=>(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("img",{src:e,alt:"Activity ".concat(t+1),width:100,height:100,loading:"lazy",style:{objectFit:"cover",marginRight:"5px",marginBottom:"10px"}}),(0,Ne.jsx)(Ye,{type:"button",variant:"dark",onClick:()=>(e=>{a((t=>{const n=[...t.imageUrls];return n.splice(e,1),{...t,imageUrls:n}}))})(t),children:"Remove"})]},t)))]}),(0,Ne.jsx)("div",{className:"image-dropzone",onDragOver:e=>{e.preventDefault()},onDrop:async e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(t)try{const e=await FS(t),n=new FileReader;n.onloadend=()=>{l(n.result)},n.readAsDataURL(e)}catch(n){console.error("Error compressing image:",n)}},children:(0,Ne.jsxs)("label",{htmlFor:"imageInput",className:"image-zone-info",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("svg",{fill:"#2b2b2b",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",children:[(0,Ne.jsx)("path",{d:"M.175.175v31.65h31.65V.175H.175zm30 30H1.825V1.825h28.35v28.35z",fill:""}),(0,Ne.jsx)("path",{d:"M7.5 10.825a3.325 3.325 0 100-6.65 3.325 3.325 0 000 6.65zm0-5a1.675 1.675 0 110 3.35 1.675 1.675 0 010-3.35zm20.325 14.941L19.845 6l-6.968 13.083-2.99-5.383-5.712 10.719v3.406h23.65v-7.059zm-1.65 5.409H5.825v-1.344l4.092-7.679 2.991 5.384 6.947-13.044 6.32 11.691v4.992z",fill:""})]}),(0,Ne.jsx)("p",{className:"drag-dop-para",children:"Drag and drop media"}),(0,Ne.jsx)("p",{children:"or click to upload"})]}),(0,Ne.jsx)("input",{className:"image-dropzone",type:"file",accept:"image/*",id:"imageInput",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=await FS(t),n=new FileReader;n.onloadend=()=>{l(n.result)},n.readAsDataURL(e)}catch(n){console.error("Error compressing image:",n)}},style:{display:"none"}})]})})]}),(0,Ne.jsx)(He,{children:(0,Ne.jsxs)(bC.Group,{className:"mb-3",children:[(0,Ne.jsx)(bC.Label,{children:"Sport"}),(0,Ne.jsx)(rS,{className:"edit-activity-form-input-style",selectedOption:s.sport,handleOptionChange:e=>{a({...s,sport:e})}})]})}),(0,Ne.jsx)(He,{children:(0,Ne.jsx)("div",{className:"edit-activity-form-prefilled-data",children:(0,Ne.jsx)("table",{className:"table",children:(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{className:"table-bold",children:"Date"}),(0,Ne.jsx)("td",{children:s.date})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{className:"table-bold",children:"Time"}),(0,Ne.jsxs)("td",{children:[s.hour,":",s.minute,":",s.second]})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{className:"table-bold",children:"Elevation Gain"}),(0,Ne.jsxs)("td",{children:[s.elevation," "]})]})]})})})})]})})]})})},vN=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r=!1,children:i,className:s,as:a="li",linkAs:o=fi,linkProps:l={},href:c,title:u,target:d,...h}=e;const f=Pe(n,"breadcrumb-item");return(0,Ne.jsx)(a,{ref:t,...h,className:Ie()(f,s,{active:r}),"aria-current":r?"page":void 0,children:r?i:(0,Ne.jsx)(o,{...l,href:c,title:u,target:d,children:i})})}));vN.displayName="BreadcrumbItem";const yN=vN,wN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,listProps:i={},children:s,label:a="breadcrumb",as:o="nav",...l}=e;const c=Pe(n,"breadcrumb");return(0,Ne.jsx)(o,{"aria-label":a,className:r,ref:t,...l,children:(0,Ne.jsx)("ol",{...i,className:Ie()(c,null==i?void 0:i.className),children:s})})}));wN.displayName="Breadcrumb";const bN=Object.assign(wN,{Item:yN}),xN=()=>{const{postId:e}=$(),n=Z(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({});(0,t.useEffect)((()=>{(async()=>{const t=Xv(FA,"userPosts",e),n=await Ky(t);n.exists()&&i({...n.data(),id:n.id})})()}));const d=async(e,t)=>{try{const n=Xv(FA,"userPosts",t),r=[...(await Ky(n)).data().comments||[]];r.splice(e,1),await Yy(n,{comments:r}),l((e=>({...e,[t]:r})))}catch(n){console.error("Error deleting comment:",n)}},h=async(e,t)=>{try{const n=Xv(FA,"userPosts",e),r=c[e]||{},i=r[t],s={...r,[t]:!i};await Yy(n,{commentLikes:s}),u((t=>({...t,[e]:s})))}catch(n){console.error("Error toggling comment like:",n)}};return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Be,{className:"post-details-container",children:r&&(0,Ne.jsxs)("div",{className:"post-details-wrapper",children:[(0,Ne.jsxs)(bN,{children:[(0,Ne.jsx)(bN.Item,{href:"/strava-app/athleteSearch",children:"Athletes"}),(0,Ne.jsx)(bN.Item,{href:"/strava-app/profile",children:"Fortune Ndlovu"}),(0,Ne.jsx)(bN.Item,{active:!0,children:r.post})]}),(0,Ne.jsxs)("div",{className:"post-details-data",children:[(0,Ne.jsxs)("div",{className:"post-details-data-user-header",children:[(0,Ne.jsxs)("div",{className:"post-details-data-user",children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/profile",children:(0,Ne.jsx)("img",{src:xC,alt:"user profile",width:64,height:64,id:"postDetailsUserProfileImg"})}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/profile",children:(0,Ne.jsx)("p",{className:"post-details-user-name",children:"Fortune Ndlovu"})}),(0,Ne.jsx)("p",{children:"Saturday, 24 February 2024 at 15:31"})]})]}),(0,Ne.jsxs)("div",{className:"post-details-data-post-interactions-header",children:[(0,Ne.jsx)(Ye,{id:"postDetailsLikeBtn",onClick:()=>a(!0),children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16","data-testid":"unfilled_kudos",children:(0,Ne.jsx)("path",{d:"M15.243 7.182a1.907 1.907 0 00-.532-1.423 2.069 2.069 0 00-1.493-.641H9.863l.454-1.812A2.426 2.426 0 008.064.514h-.513l-.718 2.807L4.97 6.915.412 9.34l2.472 6.424 4.278-2.28h4.785a2.142 2.142 0 002.127-1.976l.084-1.177a1.962 1.962 0 00.712-2.097 1.93 1.93 0 00.373-1.052zM1.664 9.807l2.06-1.1 1.748 4.542-2.061 1.1-1.747-4.542zm12.289-2.038l-.268.254.165.331a.942.942 0 01-.044.903.965.965 0 01-.369.352l-.237.131-.122 1.7a1.123 1.123 0 01-1.129 1.049H6.914l-.552.295-1.748-4.547 1.1-.586 2.033-3.92.567-2.166a1.427 1.427 0 011.032 1.371c0 .071 0 .139-.007.167l-.758 3.016h4.64a1.059 1.059 0 01.764.328.917.917 0 01.26.683.942.942 0 01-.292.639z",fill:""})})}),(0,Ne.jsx)(Ye,{id:"postDetailsCommentsBtn",children:(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:[(0,Ne.jsx)("path",{d:"M.5 1.5v11h2v3.21l6.06-3.21h6.94v-11H.5zm14 10H8.31L3.5 14.05V11.5h-2v-9h13v9z",fill:""}),(0,Ne.jsx)("path",{d:"M12.96 4.5H3v1h9.43l.53-1zm-1.59 3H3v1h7.84l.53-1z",fill:""})]})}),(0,Ne.jsxs)(Ri,{id:"postDetailsDropdownBtn",children:[(0,Ne.jsx)(Ri.Toggle,{variant:"success",id:"postDetailsDropdownBtn-dropdownBtn-list",children:(0,Ne.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",children:(0,Ne.jsx)("path",{d:"M3.5 15.175a3.175 3.175 0 1 1 0-6.35 3.175 3.175 0 0 1 0 6.35zm0-5a1.824 1.824 0 1 0 0 3.649 1.824 1.824 0 0 0 0-3.649zm17 5a3.175 3.175 0 1 1 0-6.35 3.175 3.175 0 0 1 0 6.35zm0-5a1.825 1.825 0 1 0 0 3.65 1.825 1.825 0 0 0 0-3.65zm-8.5 5a3.175 3.175 0 1 1 0-6.35 3.175 3.175 0 0 1 0 6.35zm0-5a1.825 1.825 0 1 0 0 3.65 1.825 1.825 0 0 0 0-3.65z",fill:"#000"})})}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/post/".concat(e,"/edit"),className:"uiSocialsBtn-dropDown-link",children:"Edit"}),(0,Ne.jsx)(Ri.Item,{href:"#Delete",className:"uiSocialsBtn-dropDown-link",onClick:async()=>{const t=Xv(FA,"userPosts",e);await Jy(t),n("/strava-app/profile")},children:"Delete"})]})]})]})]}),(0,Ne.jsxs)("div",{className:"post-details-data-user-inputs",children:[(0,Ne.jsx)("h1",{children:r.post}),(0,Ne.jsx)("p",{children:r.message}),r.imageUrls&&r.imageUrls.length>0&&(0,Ne.jsx)("div",{className:"posts-details-added-image",children:r.imageUrls.map(((e,t)=>(0,Ne.jsx)("img",{src:e,alt:"Post ".concat(t+1),width:70,height:70,loading:"lazy",style:{objectFit:"cover"}},t)))})]}),(0,Ne.jsxs)("div",{className:"post-details-data-post-interactions-footer",children:[(0,Ne.jsx)(Ye,{children:(0,Ne.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16","data-testid":"unfilled_kudos",children:(0,Ne.jsx)("path",{d:"M15.243 7.182a1.907 1.907 0 00-.532-1.423 2.069 2.069 0 00-1.493-.641H9.863l.454-1.812A2.426 2.426 0 008.064.514h-.513l-.718 2.807L4.97 6.915.412 9.34l2.472 6.424 4.278-2.28h4.785a2.142 2.142 0 002.127-1.976l.084-1.177a1.962 1.962 0 00.712-2.097 1.93 1.93 0 00.373-1.052zM1.664 9.807l2.06-1.1 1.748 4.542-2.061 1.1-1.747-4.542zm12.289-2.038l-.268.254.165.331a.942.942 0 01-.044.903.965.965 0 01-.369.352l-.237.131-.122 1.7a1.123 1.123 0 01-1.129 1.049H6.914l-.552.295-1.748-4.547 1.1-.586 2.033-3.92.567-2.166a1.427 1.427 0 011.032 1.371c0 .071 0 .139-.007.167l-.758 3.016h4.64a1.059 1.059 0 01.764.328.917.917 0 01.26.683.942.942 0 01-.292.639z",fill:""})})}),(0,Ne.jsx)(Ye,{children:(0,Ne.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:[(0,Ne.jsx)("path",{d:"M.5 1.5v11h2v3.21l6.06-3.21h6.94v-11H.5zm14 10H8.31L3.5 14.05V11.5h-2v-9h13v9z",fill:""}),(0,Ne.jsx)("path",{d:"M12.96 4.5H3v1h9.43l.53-1zm-1.59 3H3v1h7.84l.53-1z",fill:""})]})})]})]}),(0,Ne.jsx)(jj,{showComments:s===r.id,onCommentPost:e=>(async(e,t)=>{try{l((n=>({...n,[t]:[...n[t]||[],e]})));const n=Xv(FA,"userPosts",t),r=(await Ky(n)).data().comments||[];await Yy(n,{comments:[...r,e]})}catch(n){console.error("Error saving comment:",n)}})(e,r.id)}),(0,Ne.jsx)(Sj,{id:"comments-post-block",show:s,handleClose:()=>a(!1),post:r,onDeleteComment:e=>d(e,r.id),onLikeComment:e=>h(r.id,e)}),(0,Ne.jsx)("div",{children:r.comments.length>0?r.comments.map(((e,t)=>{var n;return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("p",{children:[e," ",(0,Ne.jsx)(Ye,{variant:"success",size:"sm",onClick:()=>d(t,r.id),children:"Delete"})," ",(0,Ne.jsx)(Ye,{variant:"danger",size:"sm",onClick:()=>h(r.id,t),children:"Like"}),(0,Ne.jsx)("p",{children:null!==(n=r.commentLikes)&&void 0!==n&&n[t]?"1 Like":""})]})},t)})):"This entry has no comments yet."})]})})})},EN=()=>{const{postId:e}=$(),n=Z(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)({post:"",message:"",imageUrls:[]});console.log("editedPost: ",s),(0,t.useEffect)((()=>{(async()=>{const t=Xv(FA,"userPosts",e),n=await Ky(t);n.exists()&&(i({...n.data(),id:n.id}),a({...n.data()}))})()}),[e]);const o=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},l=async e=>{console.log("handleDeleteImage",e);try{const t={...s},n=t.imageUrls.splice(e,1)[0];a(t);const r=xb(Eb(),"".concat(n));await function(e){return ub(e=fs(e))}(r),console.log("Image ".concat(n," deleted from storage."))}catch(t){console.error("Error deleting image from storage:",t)}console.log("editedPost: ",s)};return(0,Ne.jsx)("div",{children:r&&(0,Ne.jsxs)(Be,{className:"post-details-container",children:[(0,Ne.jsxs)("div",{className:"edit-post-form-header",children:[(0,Ne.jsxs)(bN,{children:[(0,Ne.jsx)(bN.Item,{href:"/athleteSearch",children:"Athletes"}),(0,Ne.jsx)(bN.Item,{href:"/profile",children:"Fortune Ndlovu"}),(0,Ne.jsx)(bN.Item,{href:"/post/".concat(e),children:r.post}),(0,Ne.jsx)(bN.Item,{active:!0,children:"Editing a Post"})]}),(0,Ne.jsxs)("div",{className:"edit-post-details-form-inner-header",children:[(0,Ne.jsxs)("div",{className:"edit-post-details-form-user-identity",children:[(0,Ne.jsx)("img",{src:xC,alt:"user profile",width:48,height:48,id:"editPostFormUserImg"}),(0,Ne.jsx)("h4",{children:"Fortune Ndlovu"})]}),(0,Ne.jsxs)("div",{className:"edit-post-details-form-user-interactions",children:[(0,Ne.jsx)(Ye,{type:"button",onClick:async()=>{const t=Xv(FA,"userPosts",e);await Jy(t),n("/strava-app/home/profile")},children:"Delete"}),(0,Ne.jsx)(Ye,{type:"button",onClick:async()=>{const t=Xv(FA,"userPosts",e);await Yy(t,s),n("/strava-app/home/post/".concat(e))},children:"Update"})]})]})]}),(0,Ne.jsx)("div",{className:"edit-post-form-body",children:(0,Ne.jsxs)(bC,{children:[(0,Ne.jsxs)(bC.Group,{className:"mb-3",children:[(0,Ne.jsx)(bC.Label,{children:"Title"}),(0,Ne.jsx)(bC.Control,{type:"text",className:"edit-activity-form-input-style",placeholder:"Add a title (optional)",name:"post",value:s.post,onChange:o})]}),(0,Ne.jsxs)(bC.Group,{className:"mb-3",id:"editPostFormDescriptionGroup",children:[(0,Ne.jsx)(bC.Label,{children:"Description"}),(0,Ne.jsx)(bC.Control,{as:"textarea",className:"edit-activity-form-input-style",placeholder:"What's going on?",rows:3,id:"description",name:"message",value:s.message,onChange:o})]}),(0,Ne.jsx)(bC.Group,{className:"mb-3",id:"editPostFormDescriptionGroup",children:(0,Ne.jsx)("input",{type:"file",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=await FS(t),n=xb(Eb(),"post_images/".concat(t.name));await wb(n,e);const r=await bb(n);a((e=>({...e,imageUrls:[...e.imageUrls,r]})))}catch(n){console.error("Error handling file input change:",n)}}})}),(0,Ne.jsx)(bC.Group,{className:"mb-3",id:"editPostFormDescriptionGroup",children:s.imageUrls&&s.imageUrls.length>0&&(0,Ne.jsx)("div",{className:"edited-post-image-wrapper",children:s.imageUrls.map(((e,t)=>(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("img",{src:e,width:100,height:100,alt:"Post ".concat(t+1),style:{objectFit:"cover",marginRight:"10px"}},t),(0,Ne.jsx)(Ye,{type:"button",onClick:()=>l(t),children:"Delete Image"}),(0,Ne.jsx)("br",{})]})))})})]})})]})})},AN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...s}=e;n=Pe(n,"navbar-brand");const a=i||(s.href?"a":"span");return(0,Ne.jsx)(a,{...s,ref:t,className:Ie()(r,n)})}));AN.displayName="NavbarBrand";const CN=AN,kN=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...s}=e;i=Pe(i,"navbar-collapse");const a=(0,t.useContext)(xi);return(0,Ne.jsx)(YI,{in:!(!a||!a.expanded),...s,children:(0,Ne.jsx)("div",{ref:n,className:i,children:r})})}));kN.displayName="NavbarCollapse";const jN=kN,SN=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,label:a="Toggle navigation",as:o="button",onClick:l,...c}=e;r=Pe(r,"navbar-toggler");const{onToggle:u,expanded:d}=(0,t.useContext)(xi)||{},h=Nt((e=>{l&&l(e),u&&u()}));return"button"===o&&(c.type="button"),(0,Ne.jsx)(o,{...c,ref:n,onClick:h,"aria-label":a,className:Ie()(i,r,!d&&"collapsed"),children:s||(0,Ne.jsx)("span",{className:"".concat(r,"-icon")})})}));SN.displayName="NavbarToggle";const IN=SN,NN=new WeakMap,_N=(e,t)=>{if(!e||!t)return;const n=NN.get(t)||new Map;NN.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function TN(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=_N(e,n),[i,s]=(0,t.useState)((()=>!!r&&r.matches));return ui((()=>{let t=_N(e,n);if(!t)return s(!1);let r=NN.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const RN=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,a){let o;"object"===typeof n?(o=n,a=s,s=!0):o={[n]:s=s||!0};let l=(0,t.useMemo)((()=>Object.entries(o).reduce(((t,n)=>{let[s,a]=n;return"up"!==a&&!0!==a||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==a&&!0!==a||(t=r(t,i(s))),t}),"")),[JSON.stringify(o)]);return TN(l,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ON=RN,DN=$e("offcanvas-body"),PN={[sk]:"show",[ak]:"show"},LN=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,in:a=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...u}=e;return r=Pe(r,"offcanvas"),(0,Ne.jsx)(mk,{ref:n,addEndListener:hk,in:a,mountOnEnter:o,unmountOnExit:l,appear:c,...u,childRef:s.ref,children:(e,n)=>t.cloneElement(s,{...n,className:Ie()(i,s.props.className,(e===sk||e===ok)&&"".concat(r,"-toggling"),PN[e])})})}));LN.displayName="OffcanvasToggling";const MN=LN,UN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...a}=e;return n=Pe(n,"offcanvas-header"),(0,Ne.jsx)(Ik,{ref:t,...a,className:Ie()(r,n),closeLabel:i,closeButton:s})}));UN.displayName="OffcanvasHeader";const FN=UN,BN=$e("offcanvas-title",{Component:et("h5")});function zN(e){return(0,Ne.jsx)(MN,{...e})}function VN(e){return(0,Ne.jsx)(yk,{...e})}const QN=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":a,placement:o="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:w=!0,restoreFocusOptions:b,onEntered:x,onExit:E,onExiting:A,onEnter:C,onEntering:k,onExited:j,backdropClassName:S,manager:I,renderStaticNode:N=!1,..._}=e;const T=(0,t.useRef)();r=Pe(r,"offcanvas");const{onToggle:R}=(0,t.useContext)(xi)||{},[O,D]=(0,t.useState)(!1),P=ON(l||"xs","up");(0,t.useEffect)((()=>{D(l?c&&!P:c)}),[c,l,P]);const L=Nt((()=>{null==R||R(),null==m||m()})),M=(0,t.useMemo)((()=>({onHide:L})),[L]);const U=(0,t.useCallback)((e=>(0,Ne.jsx)("div",{...e,className:Ie()("".concat(r,"-backdrop"),S)})),[S,r]),F=e=>(0,Ne.jsx)("div",{...e,..._,className:Ie()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(o)),"aria-labelledby":a,children:s});return(0,Ne.jsxs)(Ne.Fragment,{children:[!O&&(l||N)&&F({}),(0,Ne.jsx)(bk.Provider,{value:M,children:(0,Ne.jsx)(WC,{show:O,ref:n,backdrop:u,container:g,keyboard:d,autoFocus:v,enforceFocus:y&&!h,restoreFocus:w,restoreFocusOptions:b,onEscapeKeyDown:f,onShow:p,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C(e,...n)},onEntering:k,onEntered:x,onExit:E,onExiting:A,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==j||j(...n)},manager:I||(h?(T.current||(T.current=new $C({handleContainerOverflow:!1})),T.current):ZC()),transition:zN,backdropTransition:VN,renderBackdrop:U,renderDialog:F})})]})}));QN.displayName="Offcanvas";const HN=Object.assign(QN,{Body:DN,Header:FN,Title:BN}),WN=t.forwardRef(((e,n)=>{const r=(0,t.useContext)(xi);return(0,Ne.jsx)(HN,{ref:n,show:!(null==r||!r.expanded),...e,renderStaticNode:!0})}));WN.displayName="NavbarOffcanvas";const qN=WN,KN=$e("navbar-text",{Component:"span"}),GN=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:s="light",bg:a,fixed:o,sticky:l,className:c,as:u="nav",expanded:d,onToggle:h,onSelect:f,collapseOnSelect:p=!1,...m}=ri(e,{expanded:"onToggle"}),g=Pe(r,"navbar"),v=(0,t.useCallback)((function(){null==f||f(...arguments),p&&d&&(null==h||h(!1))}),[f,p,d,h]);void 0===m.role&&"nav"!==u&&(m.role="navigation");let y="".concat(g,"-expand");"string"===typeof i&&(y="".concat(y,"-").concat(i));const w=(0,t.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!d),bsPrefix:g,expanded:!!d,expand:i})),[g,d,i,h]);return(0,Ne.jsx)(xi.Provider,{value:w,children:(0,Ne.jsx)(Fr.Provider,{value:v,children:(0,Ne.jsx)(u,{ref:n,...m,className:Ie()(c,g,i&&y,s&&"".concat(g,"-").concat(s),a&&"bg-".concat(a),l&&"sticky-".concat(l),o&&"fixed-".concat(o))})})})}));GN.displayName="Navbar";const XN=Object.assign(GN,{Brand:CN,Collapse:jN,Offcanvas:qN,Text:KN,Toggle:IN}),YN=t.forwardRef(((e,t)=>{let{id:n,title:r,children:i,bsPrefix:s,className:a,rootCloseEvent:o,menuRole:l,disabled:c,active:u,renderMenuOnMount:d,menuVariant:h,...f}=e;const p=Pe(void 0,"nav-item");return(0,Ne.jsxs)(Ri,{ref:t,...f,className:Ie()(a,p),children:[(0,Ne.jsx)(Ri.Toggle,{id:n,eventKey:null,active:u,disabled:c,childBsPrefix:s,as:dj,children:r}),(0,Ne.jsx)(Ri.Menu,{role:l,renderOnMount:d,rootCloseEvent:o,variant:h,children:i})]})}));YN.displayName="NavDropdown";const JN=Object.assign(YN,{Item:Ri.Item,ItemText:Ri.ItemText,Divider:Ri.Divider,Header:Ri.Header});function ZN(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function $N(e){return Ui({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"}}]})(e)}function e_(e){return Ui({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 6.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"}},{tag:"path",attr:{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v1H1V2a1 1 0 0 1 1-1h12zm1 3v10a1 1 0 0 1-1 1h-2V4h3zm-4 0v11H2a1 1 0 0 1-1-1V4h10z"}}]})(e)}function t_(e){return Ui({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"}}]})(e)}function n_(e){return Ui({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}}]})(e)}function r_(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M18 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M12 19h4.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h3.5"}}]})(e)}function i_(e){return Ui({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}}]})(e)}const s_=e=>{let{onCancel:n}=e;const[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),o=Z();return(0,Ne.jsxs)("div",{className:"search-bar d-flex align-items-center",children:[(0,Ne.jsxs)("div",{className:"input-group",children:[(0,Ne.jsx)("div",{className:"select-input",children:(0,Ne.jsxs)("select",{className:"form-select",id:"searchSelectInput",value:s,onChange:e=>{a(e.target.value)},children:[(0,Ne.jsx)("option",{value:"Activities",children:"Activities"}),(0,Ne.jsx)("option",{value:"Athletes",children:"Athletes"}),(0,Ne.jsx)("option",{value:"Clubs",children:"Clubs"}),(0,Ne.jsx)("option",{value:"Segments",children:"Segments"})]})}),(0,Ne.jsx)("input",{type:"text",className:"form-control",id:"searchBarInput",placeholder:"Search...",value:r,onChange:e=>{i(e.target.value)}}),(0,Ne.jsx)("button",{type:"button",title:"Search",className:"btn",onClick:async()=>{try{const e=Oy(Gv(FA,"users"),Py("name","==",r)),t=await Xy(e);if(t.empty)console.log("User not found");else{const e=t.docs[0].data().uid;o("/strava-app/home/search/".concat(e))}}catch(e){console.error("Error searching for user:",e)}},children:(0,Ne.jsx)(ZN,{className:"open-search-icon"})})]}),(0,Ne.jsx)("button",{type:"button",title:"Cancel",onClick:()=>{i(""),n()},className:"cancel-search-btn",children:(0,Ne.jsx)(i_,{className:"cancel-search-icon"})})]})};const a_=n.p+"static/media/fortune_logo.f175b980cffbb9ac8f890f88cf3d3bee.svg",o_=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(window.innerWidth<=992),[f,p]=(0,t.useState)(window.innerWidth<=992),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)({}),w=Z(),b=(0,t.useRef)(null);(0,t.useEffect)((()=>{(async()=>{try{const e=zA();if(e){const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(n.empty)console.error("User document not found for current user.");else{const e=n.docs[0].data();y(e)}}}catch(e){console.error("Error fetching user data:",e)}})()}),[]);const x=()=>{p(window.innerWidth<=992)};(0,t.useEffect)((()=>(n(f),i(f),a(f),l(f),u(f),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)})),[f]);const E=e=>()=>{e((e=>!e))},A=E(n),C=E(i),k=E(a),j=E(l),S=E(u),I=(e,t)=>{"Enter"===e.key&&(e.preventDefault(),t())},N=(e,t)=>{f||e(t)},_=()=>{b.current&&(b.current.classList.remove("show"),g(!1))};return(0,Ne.jsx)(XN,{expand:"lg",className:"bg-body-tertiary",children:(0,Ne.jsxs)(Be,{fluid:!0,children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/",title:"Return to the Strava home page",className:"mr-auto",children:(0,Ne.jsx)("img",{src:a_,id:"strava-logo",alt:"Company brand logo that simply says strava.",width:110,height:55})}),(0,Ne.jsx)(XN.Toggle,{"aria-controls":"basic-navbar-nav",onClick:()=>g(!m),children:(0,Ne.jsxs)("div",{id:"xHamburger",children:[(0,Ne.jsx)("div",{className:"bar1"}),(0,Ne.jsx)("div",{className:"bar2"}),(0,Ne.jsx)("div",{className:"bar3"})]})}),(0,Ne.jsxs)(XN.Collapse,{id:"basic-navbar-nav",ref:b,children:[(0,Ne.jsxs)(fj,{className:"me-auto",children:[(d||f)&&(0,Ne.jsx)(s_,{onCancel:()=>h(!1)}),!f&&!d&&(0,Ne.jsx)(fj.Link,{title:"Search",href:"#search",onClick:()=>h(!0),children:(0,Ne.jsx)(ZN,{className:"open-search-icon"})}),(f||!d)&&(0,Ne.jsxs)(t.Fragment,{children:[(0,Ne.jsx)(JN,{id:"dashboardDropdown",onMouseEnter:e=>N((()=>n(!0)),e),onMouseLeave:e=>N((()=>n(!1)),e),show:e,title:(0,Ne.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ne.jsx)(Ae,{className:"navDropdownHeading",to:"/strava-app/home/",onClick:_,children:"Dashboard"}),(0,Ne.jsx)("button",{title:"Expand dashboard menu",onClick:A,onKeyDown:e=>I(e,A),className:"icon-button","aria-label":"Toggle Dashboard Dropdown",tabIndex:0,children:(0,Ne.jsx)("img",{src:Bj,alt:"navigation dropdown icon",className:"dashboard-dropdown-icon"})})]}),children:(0,Ne.jsxs)("div",{className:"dropdownEffect",children:[(0,Ne.jsxs)("ul",{className:"dashboard-link-segments",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/",id:"activity-feed",onClick:_,children:"Activity Feed"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/segments",onClick:_,children:"My Segments"})})]}),(0,Ne.jsxs)("div",{className:"dashboard-dropdown-subscription",children:[(0,Ne.jsx)("h6",{children:"SUBSCRIPTION"}),(0,Ne.jsxs)("ul",{className:"dashboard-goals-heatmaps",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/goals",onClick:_,children:"My Goals"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/heatmaps",onClick:_,children:"Heatmaps"})})]})]})]})}),(0,Ne.jsx)(JN,{onMouseEnter:e=>N((()=>i(!0)),e),onMouseLeave:e=>N((()=>i(!1)),e),show:r,id:"trainingDropdown",title:(0,Ne.jsxs)("div",{className:"d-flex align-items-center nav-title",children:[(0,Ne.jsx)(Ae,{className:"navDropdownHeading",to:"/strava-app/home/training",onClick:_,children:"Training"}),(0,Ne.jsx)("button",{title:"Expand training menu",onClick:C,onKeyDown:e=>I(e,C),className:"icon-button","aria-label":"Toggle Training Dropdown",tabIndex:0,children:(0,Ne.jsx)("img",{src:Bj,alt:"navigation dropdown icon",className:"dashboard-dropdown-icon"})})]}),children:(0,Ne.jsxs)("div",{className:"dropdownEffect",id:"trainingDropdown",children:[(0,Ne.jsxs)("ul",{className:"dashboard-link-segments",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/trainingCalendar",onClick:_,children:"Training Calendar"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/activities",onClick:_,children:"My Activities"})})]}),(0,Ne.jsxs)("div",{className:"training-dropdown-subscription",children:[(0,Ne.jsx)("h6",{children:"SUBSCRIPTION"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/trainingLog",onClick:_,children:"Training Log"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/trainingPlans",onClick:_,children:"Training Plans"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/powerCurve",onClick:_,children:"Power Curve"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/fitnessAndFreshness",onClick:_,children:"Fitness & Freshness"})})]})]})]})}),(0,Ne.jsx)(JN,{onMouseEnter:e=>N((()=>a(!0)),e),onMouseLeave:e=>N((()=>a(!1)),e),show:s,id:"exploreDropdown",title:(0,Ne.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ne.jsx)(Ae,{className:"navDropdownHeading",to:"/strava-app/home/explore",onClick:_,children:"Explore"}),(0,Ne.jsx)("button",{title:"Expand explore menu",onClick:k,onKeyDown:e=>I(e,k),className:"icon-button","aria-label":"Toggle Explore Dropdown",tabIndex:0,children:(0,Ne.jsx)("img",{src:Bj,alt:"navigation dropdown icon",className:"dashboard-dropdown-icon"})})]}),children:(0,Ne.jsxs)("div",{className:"dropdownEffect explore",children:[(0,Ne.jsxs)("ul",{className:"dashboard-link-segments",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/segmentExplore",onClick:_,children:"Segment Explore"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/segmentSearch",onClick:_,children:"Segment Search"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/athleteSearch",onClick:_,children:"Athlete Search"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/fitnessAndFreshness",onClick:_,children:"Fitness & Freshness"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/clubs",onClick:_,children:"Clubs"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/apps",onClick:_,children:"Apps"})})]}),(0,Ne.jsxs)("div",{className:"explore-dropdown-subscription",children:[(0,Ne.jsx)("h6",{children:"SUBSCRIPTION"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/createRoute",onClick:_,children:"Create a Route"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/subscriberPerks",onClick:_,children:"Subscriber Perks"})})]})]})]})}),(0,Ne.jsx)(Ae,{id:"challengesLink",className:"d-flex align-items-center",to:"/strava-app/home/challenges",onClick:_,children:"Challenges"})]})]}),(0,Ne.jsxs)(fj,{className:"d-flex ".concat(f?"align-items-start":"align-items-center"),children:[(0,Ne.jsx)("div",{className:"start-trial-btn",children:(0,Ne.jsx)(fj.Link,{href:"#home",className:"experiment btn btn-sm btn-primary d-flex align-items-center",onClick:_,children:"Start Trial"})}),(0,Ne.jsx)("div",{className:"notifications-wrapper",children:(0,Ne.jsxs)(fj.Link,{title:"0 new notifications",href:"#challenges",id:"notifications",className:"d-flex align-items-center",children:[" ",(0,Ne.jsx)(Lj,{className:"mdOutlineNotificationsNone-icon"})," "]})}),(0,Ne.jsx)("div",{className:"flex-fill",id:"fullWidthUserAvatar",children:(0,Ne.jsx)(JN,{onMouseEnter:e=>N((()=>l(!0)),e),onMouseLeave:e=>N((()=>l(!1)),e),show:o,id:"userAvatar",className:"flipped-dropdown-horizontal",title:(0,Ne.jsx)("div",{className:"d-flex align-items-center ".concat(o?"hovered":""),children:(0,Ne.jsxs)("button",{title:"Expand profile menu",onClick:j,onKeyDown:e=>I(e,j),className:"icon-button","aria-label":"Toggle user avatar dropdown",tabIndex:0,children:[(0,Ne.jsx)("img",{src:Bj,alt:"navigation dropdown icon",className:"dashboard-dropdown-icon"}),v.profileImageUrl?(0,Ne.jsx)("img",{id:"userProfileImg",src:v.profileImageUrl,alt:"user profile",width:32,height:32}):(0,Ne.jsx)("img",{id:"userProfileImg",src:xC,alt:"user profile",width:32,height:32})]})}),children:(0,Ne.jsx)("div",{className:"dropdownEffect",id:"userDropdownMenu",children:(0,Ne.jsxs)("ul",{className:"user-dropdown-menu-wrapper",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/findFriends",onClick:_,children:"Find Friends"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/profile",onClick:_,children:"My Profile"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/settings",onClick:_,children:"Settings"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/SignUp",onClick:async()=>{const e=LA();try{await function(e){return fs(e).signOut()}(e),w("/strava-app/SignUp")}catch(t){console.error("Error is signing out: ",t)}},children:"Log Out"})})]})})})}),(0,Ne.jsx)("div",{className:"flex-fill",id:"fullWidthUserUpload",children:(0,Ne.jsx)(JN,{onMouseEnter:e=>N((()=>u(!0)),e),onMouseLeave:e=>N((()=>u(!1)),e),show:c,id:"userUpload",className:"flipped-dropdown-horizontal",onClick:e=>N((()=>u(!0)),e),title:(0,Ne.jsx)("div",{className:"d-flex align-items-center",children:c?(0,Ne.jsx)("button",{type:"button",onClick:S,onKeyDown:e=>I(e,S),className:"icon-button color","aria-label":"Toggle user upload dropdown",tabIndex:0,children:(0,Ne.jsx)(t_,{onClick:S})}):(0,Ne.jsx)("button",{type:"button",onClick:S,onKeyDown:e=>I(e,S),className:"icon-button color","aria-label":"Toggle user upload dropdown",tabIndex:0,children:(0,Ne.jsx)(n_,{onClick:S})})}),children:(0,Ne.jsx)("div",{className:"dropdownEffect",id:"userUploadDropdownMenu",children:(0,Ne.jsxs)("ul",{className:"user-dropdown-menu-wrapper",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/file",onClick:_,children:(0,Ne.jsxs)("div",{className:"upload-center-wrapper",children:[(0,Ne.jsx)($N,{className:"upload-icons"})," Upload activity"]})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/manual",onClick:_,children:(0,Ne.jsxs)("div",{className:"upload-center-wrapper",children:[(0,Ne.jsx)(Dj,{className:"upload-icons"})," Add manual entry"]})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/createRoute",onClick:_,children:(0,Ne.jsxs)("div",{className:"upload-center-wrapper",children:[(0,Ne.jsx)(r_,{className:"upload-icons"})," Create route"]})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/home/createPost",onClick:_,children:(0,Ne.jsxs)("div",{className:"upload-center-wrapper",children:[(0,Ne.jsx)(e_,{className:"upload-icons"})," Create post"]})})})]})})})})]})]})]})})};const l_=n.p+"static/media/fortuneLogoFooter.27f54a51f170ebe5457190dcec8796ed.svg",c_=()=>{const[e,n]=(0,t.useState)("English (US)"),r=e=>{n(e)};return(0,Ne.jsxs)("footer",{className:"footer",children:[(0,Ne.jsx)("div",{id:"promos-footer",children:(0,Ne.jsx)("div",{className:"container footerMaxWidth",children:(0,Ne.jsxs)("div",{className:"row",children:[(0,Ne.jsxs)("div",{className:"col-md-4 promo",children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home/activities",children:(0,Ne.jsx)("h4",{children:"Your Activities"})}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(Ae,{to:"/strava-app/home/manual",className:"promo-link",children:"Upload an activity"})]}),(0,Ne.jsxs)("div",{className:"col-md-4 promo",children:[(0,Ne.jsx)("h4",{className:"strava-stories-heading",children:"Fortune Stories"}),(0,Ne.jsxs)("p",{className:"strava-stories-para",children:["With athlete profiles, training tips and advice, and the latest product updates, ",(0,Ne.jsx)(Ae,{to:"/home",className:"strava-stories-link",children:"Fortune Stories"})," is the place to discover the latest content from Fortune."]})]})]})})}),(0,Ne.jsx)("div",{className:"main-footer",children:(0,Ne.jsx)("div",{className:"container footerMaxWidth",children:(0,Ne.jsxs)("div",{className:"row",children:[(0,Ne.jsxs)("div",{className:"col-md-2",children:[(0,Ne.jsx)(Ae,{to:"/strava-app/home",title:"Return to the Strava home page",id:"footer-strava-logo",children:(0,Ne.jsx)("img",{src:l_,id:"strava-logo-footer",alt:"Company brand logo that simply says Fortune.",width:150,height:95})}),(0,Ne.jsx)("p",{children:"\xa9 2024 Fortune - A software development contribution into the software development community, through the implementation of a complex web app replica."})]}),(0,Ne.jsxs)("div",{className:"col-md-2",children:[(0,Ne.jsx)("h5",{children:"About"}),(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#about",children:"About"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#features",children:"Features"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#mobile",children:"Mobile"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#subscribe",children:"Subscription"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#student",children:"Student Discount"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#privacy policy",children:"Privacy Policy"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Do Not Share My Personal Information"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#legal",children:"Terms and Conditions"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#maps",children:"About Our Maps"})})]})]}),(0,Ne.jsxs)("div",{className:"col-md-2",children:[(0,Ne.jsx)("h5",{children:"Explore"}),(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#routes",children:"Routes"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#paris-marathon",children:"Paris 2023 Marathon"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#boston-marathon",children:"Boston 2023 Marathon"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#london-marathon",children:"London 2023 Marathon"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#nyc-marathon",children:"NYC 2023 Marathon"})})]})]}),(0,Ne.jsxs)("div",{className:"col-md-2",children:[(0,Ne.jsx)("h5",{children:"Follow"}),(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Facebook"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Instagram"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Twitter"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"YouTube"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"LinkedIn"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#stories",children:"Stories"})})]})]}),(0,Ne.jsxs)("div",{className:"col-md-2",children:[(0,Ne.jsx)("h5",{children:"Help"}),(0,Ne.jsx)("ul",{className:"list-unstyled",children:(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#strava support",children:"Fortune Support"})})})]}),(0,Ne.jsxs)("div",{className:"col-md-2",children:[(0,Ne.jsx)("h5",{children:"More"}),(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#careers",children:"Careers"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#pass",children:"Press"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#business",children:"Business"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#developers",children:"Developers"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#labs",children:"Labs"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#community-standards",children:"Fortune Community standards"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsxs)(Ri,{drop:"up",id:"dropdownUp",children:[(0,Ne.jsxs)(Ri.Toggle,{variant:"success",id:"languages-select",children:[e,(0,Ne.jsx)(Bi,{className:"dropdownUp-icon"})]}),(0,Ne.jsxs)(Ri.Menu,{id:"module-btn-list-dropdown",children:[(0,Ne.jsx)(Ri.Item,{href:"#/action-1",onClick:()=>r("English (US)"),value:"English (US)",children:"English (US)"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-1",onClick:()=>r("British English"),value:"British English",children:"British English"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("espa\xf1ol"),value:"espa\xf1ol",children:"espa\xf1ol"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("espa\xf1ol latinoamericano"),value:"espa\xf1ol latinoamericano",children:"Deutsch"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("fran\xe7ais"),value:"fran\xe7ais",children:"fran\xe7ais"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("italiano"),value:"italiano",children:"italiano"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("Nederlands"),value:"Nederlands",children:"Nederlands"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("portugu\xeas"),value:"portugu\xeas",children:"portugu\xeas"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("portugu\xeas do Brasil"),value:"portugu\xeas do Brasil",children:"portugu\xeas do Brasil"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u0440\u0443\u0441\u0441\u043a\u0438\u0439"),value:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",children:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u65e5\u672c\u8a9e"),value:"\u65e5\u672c\u8a9e",children:"\u65e5\u672c\u8a9e"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u7b80\u4f53\u4e2d\u6587"),value:"\u7b80\u4f53\u4e2d\u6587",children:"\u7b80\u4f53\u4e2d\u6587"}),(0,Ne.jsx)(Ri.Item,{href:"#/action-2",onClick:()=>r("\u7e41\u9ad4\u4e2d\u6587"),value:"\u7e41\u9ad4\u4e2d\u6587",children:"\u7e41\u9ad4\u4e2d\u6587"})]})]})})]})]})]})})})]})},u_=()=>(0,Ne.jsxs)("div",{children:["SignUpHeader",(0,Ne.jsx)(XN,{expand:"lg",className:"bg-body-tertiary",children:(0,Ne.jsxs)(Be,{fluid:!0,children:[(0,Ne.jsx)(Ae,{to:"#home",title:"Return to the Strava home page",className:"mr-auto",children:(0,Ne.jsx)("img",{src:a_,id:"strava-logo",alt:"Company brand logo that simply says strava.",width:110,height:55})}),(0,Ne.jsx)(XN.Collapse,{id:"basic-navbar-nav",children:(0,Ne.jsxs)(fj,{className:"me-auto",children:[(0,Ne.jsx)(fj.Link,{href:"#features",children:"Features"}),(0,Ne.jsx)(fj.Link,{href:"#challenges",children:"Challenges"}),(0,Ne.jsx)(fj.Link,{href:"#subscription",children:"Subscription"})]})}),(0,Ne.jsx)(Ae,{to:"/strava-app/login",title:"Log In",id:"homeLoginBtn",className:"mr-auto btn btn-sm btn-primary d-flex align-items-center",children:"Log In"})]})})]});function d_(e){return Ui({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Instagram"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M18.437,20.937H5.563a2.5,2.5,0,0,1-2.5-2.5V5.563a2.5,2.5,0,0,1,2.5-2.5H18.437a2.5,2.5,0,0,1,2.5,2.5V18.437A2.5,2.5,0,0,1,18.437,20.937ZM5.563,4.063a1.5,1.5,0,0,0-1.5,1.5V18.437a1.5,1.5,0,0,0,1.5,1.5H18.437a1.5,1.5,0,0,0,1.5-1.5V5.563a1.5,1.5,0,0,0-1.5-1.5Z"}},{tag:"path",attr:{d:"M12,16.594A4.595,4.595,0,1,1,16.6,12,4.6,4.6,0,0,1,12,16.594ZM12,8.4A3.595,3.595,0,1,0,15.6,12,3.6,3.6,0,0,0,12,8.4Z"}},{tag:"circle",attr:{cx:"17.2",cy:"6.83",r:"1.075"}}]}]}]})(e)}const h_=n.p+"static/media/Get_it_on_Google_Play_Logo.eb4f576bd3f0f2c0c6f8.png",f_=n.p+"static/media/Download_on_the_App_Store_logo.4bc811d887010296ae6b.png",p_=()=>(0,Ne.jsx)("div",{children:(0,Ne.jsx)("footer",{className:"footer",children:(0,Ne.jsx)("div",{className:"main-footer",children:(0,Ne.jsx)("div",{className:"container footerMaxWidth",children:(0,Ne.jsxs)("div",{className:"row",children:[(0,Ne.jsx)("div",{className:"col-md-2",children:(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("img",{src:a_,id:"strava-logo-footer",alt:"Company brand logo that simply says strava.",width:200})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("p",{children:"A software development contribution into the software development community, through the implementation of a complex web app replica."})}),(0,Ne.jsxs)("div",{className:"signUpFooterIcons",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#boston-marathon",children:(0,Ne.jsx)(xj,{})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#london-marathon",children:(0,Ne.jsx)(Ej,{})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#nyc-marathon",children:(0,Ne.jsx)(d_,{})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#hiking/usa",children:(0,Ne.jsx)(bj,{})})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#paris-marathon",children:(0,Ne.jsx)(wj,{})})})]})]})}),(0,Ne.jsx)("div",{className:"col-md-2",children:(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#boston-marathon",children:"Features"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#london-marathon",children:"Subscription"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#nyc-marathon",children:"Student Discount"})})," ",(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#nyc-marathon",children:"About"})})," ",(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#nyc-marathon",children:"Careers"})})," ",(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#nyc-marathon",children:"Press"})})]})}),(0,Ne.jsx)("div",{className:"col-md-2",children:(0,Ne.jsx)("ul",{className:"list-unstyled",children:(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Routes"})})})}),(0,Ne.jsx)("div",{className:"col-md-2",children:(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#what's new",children:"What's New"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#stories",children:"Stories"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Support"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Business"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Partner Center"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#home",children:"Terms"})})]})}),(0,Ne.jsx)("div",{className:"col-md-2",children:(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#privacy",children:"Privacy"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#information",children:"Do Not Share My Personal Information"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Ae,{to:"/strava-app/login",className:"signUpFooterLink",children:"Log In"})})]})}),(0,Ne.jsx)("div",{className:"col-md-2",children:(0,Ne.jsxs)("ul",{className:"list-unstyled",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#DownloadOnTheAppleStore",children:(0,Ne.jsx)("img",{src:f_,alt:"Apple Store Logo",height:35})})}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{href:"#getItOnGooglePlayLogo",children:(0,Ne.jsx)("img",{src:h_,alt:"Google Play Logo",height:35})})})]})})]})})})})}),m_=()=>(0,Ne.jsxs)("div",{children:["LogInHeader",(0,Ne.jsx)(XN,{expand:"lg",className:"bg-body-tertiary",children:(0,Ne.jsxs)(Be,{fluid:!0,children:[(0,Ne.jsx)(Ae,{to:"/strava-app/",title:"Return to the Strava home page",className:"mr-auto",children:(0,Ne.jsx)("img",{src:a_,id:"strava-logo",alt:"Company brand logo that simply says strava.",width:110,height:55})}),(0,Ne.jsx)(Ae,{to:"/strava-app/SignUp",title:"Sign Up",className:"mr-auto experiment btn btn-sm btn-primary d-flex align-items-center",children:"Sign Up"})]})})]}),g_=()=>{const{userId:e}=$(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(0);(0,t.useEffect)((()=>{(async()=>{try{const t=Oy(Gv(FA,"users"),Py("uid","==",e)),n=await Xy(t);if(n.empty)console.log("User not found");else{const t=n.docs[0].data();r(t);const i=zA();if(i){const t=Xv(FA,"users",i),n=await Ky(t);if(n.exists()){const t=n.data();s(t.following.includes(e))}}}}catch(t){console.error("Error fetching user data:",t)}})()}),[e]),(0,t.useEffect)((()=>{const t=localStorage.getItem("following_".concat(e));null!==t&&s(JSON.parse(t))}),[e]);return(0,t.useEffect)((()=>{(async()=>{try{const t=Oy(Gv(FA,"userActivities"),Py("userId","==",e)),n=(await Xy(t)).size;o(n)}catch(t){console.error("Error fetching activities count:",t)}})()}),[e]),(0,Ne.jsx)("div",{children:n?(0,Ne.jsxs)("div",{className:"searchUsersProfile",children:[(0,Ne.jsx)("div",{className:"searchedUsersHeroImageWrapper",children:(0,Ne.jsx)("img",{src:gI,alt:"scenicView"})}),(0,Ne.jsx)("div",{className:"searchedUsersProfileImg",children:(0,Ne.jsx)("img",{src:n.profileImageUrl,alt:"".concat(n.name,"s identifier visual")})}),(0,Ne.jsxs)("div",{className:"searchedUsersInfoWrapper",children:[(0,Ne.jsxs)("div",{className:"searchedUsersInfo",children:[(0,Ne.jsx)("h3",{children:n.name}),(0,Ne.jsx)("p",{children:n.location}),(0,Ne.jsx)(Ye,{id:"followUserBth",onClick:async()=>{try{const t=zA();if(t){const n=Oy(Gv(FA,"users"),Py("uid","==",t)),r=await Xy(n);if(r.empty)console.log("User document not found");else{const t=r.docs[0].ref,n=r.docs[0].data().following||[];if(n.includes(e)){const r=n.filter((t=>t!==e));await Yy(t,{following:r}),s(!1),console.log("User unfollowed successfully!"),localStorage.setItem("following_".concat(e),!1)}else n.push(e),await Yy(t,{following:n}),s(!0),localStorage.setItem("following_".concat(e),!0),console.log("User followed successfully!")}}else console.error("Current user not found");if(e){const n=Oy(Gv(FA,"users"),Py("uid","==",e)),r=await Xy(n);if(r.empty)console.log("User document not found");else{const e=r.docs[0].ref,n=r.docs[0].data().followers||[];if(n.includes(t)){const r=n.filter((e=>e!==t));await Yy(e,{followers:r}),console.log("User unfollowed successfully!")}else n.push(t),await Yy(e,{followers:n}),console.log("follower successfully!")}}else console.error("Current user not found")}catch(t){console.error("Error following/unfollowing user:",t)}},children:i?"Following":"Follow"}),(0,Ne.jsx)("p",{className:"searchUserProfileBio",children:n.profileBio})]}),(0,Ne.jsxs)("div",{className:"searchUserActivityCount",children:[(0,Ne.jsx)("p",{children:"Total Activities"}),(0,Ne.jsx)("h1",{children:a})]})]})]}):(0,Ne.jsx)("p",{children:"Loading..."})})},v_=()=>(0,Ne.jsx)("div",{className:"SearchUserProfile-container",children:(0,Ne.jsx)(g_,{})});const y_=function(){return(0,Ne.jsx)(be,{children:(0,Ne.jsxs)(pe,{children:[(0,Ne.jsx)(he,{path:"/strava-app/login",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(m_,{}),(0,Ne.jsx)(RI,{}),(0,Ne.jsx)(p_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/signUp",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(u_,{}),(0,Ne.jsx)(LI,{}),(0,Ne.jsx)(p_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(u_,{}),(0,Ne.jsx)(LI,{}),(0,Ne.jsx)(p_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(Yj,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/",element:(0,Ne.jsx)(Yj,{})}),(0,Ne.jsx)(he,{path:"/strava-app/home/segments",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{})," ",(0,Ne.jsx)(Zj,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/goals",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)($j,{})," ",(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/heatmaps",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{})," ",(0,Ne.jsx)(eS,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/training",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(tS,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/trainingCalendar",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(nS,{})," ",(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/activities",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(nI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/trainingLog",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(rI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/trainingPlans",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(iI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/powerCurve",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(sI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/fitnessAndFreshness",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(aI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/explore",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(oI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/segmentExplore",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(lI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/segmentSearch",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(cI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/athleteSearch",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(uI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/clubs",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(dI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/apps",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(hI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/createRoute",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(fI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/subscriberPerks",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(pI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/challenges",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(Jj,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/findFriends",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(mI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/profile",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(yI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/settings",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(kI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/device",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(UI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/file",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(FI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/manual",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(zI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/Mobile",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(VI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/createPost",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(MI,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/activity/:activityId",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(mN,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/activity/:activityId/edit",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(gN,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/search/:userId/",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(v_,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/post/:postId",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(xN,{}),(0,Ne.jsx)(c_,{})]})}),(0,Ne.jsx)(he,{path:"/strava-app/home/post/:postId/edit",element:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{}),(0,Ne.jsx)(EN,{}),(0,Ne.jsx)(c_,{})]})})]})})};i.createRoot(document.getElementById("root")).render((0,Ne.jsx)(t.StrictMode,{children:(0,Ne.jsx)(y_,{})}))})()})();
//# sourceMappingURL=main.74706dd1.js.map